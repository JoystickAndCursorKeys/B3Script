{"version":3,"file":"basicloader.js","mappings":"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","sources":["webpack://B3/./src/sys/modules/canvas/symbols.js","webpack://B3/./src/sys/modules/canvas/simpletiles.js","webpack://B3/./src/sys/modules/mrbeep/mrbeep-channel.js","webpack://B3/./src/sys/modules/mrbeep/mrbeep.js","webpack://B3/./src/sys/modules/fs/http/httplib.js","webpack://B3/./src/sys/modules/basicmenu/menudata.js","webpack://B3/./src/sys/modules/basicmenu/handlers.js","webpack://B3/./src/sys/bootloader_static.js","webpack://B3/./src/sys/bootcfg.js","webpack://B3/./src/sys/bootsys.js","webpack://B3/./src/sys/modules/displaymodes.js","webpack://B3/./src/sys/modules/tablecon.js","webpack://B3/./src/sys/modules/canvas/module.js","webpack://B3/./src/sys/modules/mrbeep/module.js","webpack://B3/./src/sys/modules/simplewarning.js","webpack://B3/./src/sys/modules/privwarning.js","webpack://B3/./src/sys/modules/mutedinput.js","webpack://B3/./src/sys/modules/domelinput.js","webpack://B3/./src/sys/modules/htmlwrapper.js","webpack://B3/./src/sys/modules/basic/module.js","webpack://B3/./src/sys/modules/basicmenu/module.js","webpack://B3/./src/sys/modules/fs/sessionfs.js","webpack://B3/./src/sys/modules/fs/lfs.js","webpack://B3/./src/sys/modules/fs/ramfs.js","webpack://B3/./src/sys/modules/fs/scripturl.js","webpack://B3/./src/sys/modules/fs/http/sitefs.js","webpack://B3/./src/sys/modules/fs/transferfs.js","webpack://B3/./src/sys/modules/fs/qfs.js"],"sourcesContent":["/* Generated blob URL, from img/symbolscii2c.png */\n\n\nclass SYMBOLSIMAGE {\n\n  getBlobURL() {\n\n    var url =\n\"data:image/png;base64,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\"\n    ;\n\n    return url;\n  }\n\n}\nexport { SYMBOLSIMAGE as default};\n","\nclass TILES {\n\n\tconstructor( img, gridw, gridh, transCol ) {\n\n\t\t\tthis.img = img;\n\t\t\tthis.gridw = gridw;\n\t\t\tthis.gridh = gridh;\n\n\t\t\tthis.iconGrid = [];\n\n\t\t\tvar w = this.img.width;\n\t\t\tvar h = this.img.height;\n\n\t\t\tthis.iconCanvas = document.createElement('canvas');\n\t\t\tthis.iconContext = this.iconCanvas.getContext('2d');\n\n\t\t\tthis.iconCanvas.width = \tw;\n\t\t\tthis.iconCanvas.height = \th;\n\n\t\t\tthis.iconContext.drawImage( this.img, 0, 0, w, h);\n\n\t\t\tthis.xiconcount = w / this.gridw;\n      this.xiconrowcount = h / this.gridh;\n\n\n      for (var yicon = 0; yicon < this.xiconrowcount; yicon++) {\n\t\t\tfor (var xicon = 0; xicon < this.xiconcount; xicon++) {\n\n\t\t\t\tvar sx = (xicon * this.gridw);\n\t\t\t\tvar sy = (yicon * this.gridh);\n\t\t\t\tvar imgdata = this.iconContext.getImageData(sx, sy, this.gridw, this.gridh);\n\t\t\t\tvar sd  = imgdata.data;\n\n\t\t\t\tvar xoffset = 0;\n\t\t\t\tvar yoffset = 0;\n\t\t\t\tvar rowoffset = this.gridw * 4;\n\t\t\t\tvar offset;\n\n\t\t\t\tvar grid = [];\n\t\t\t\tfor (var y = 0; y < this.gridh; y++) {\n\t\t\t\t\txoffset = 0;\n\n\t\t\t\t\tvar row = [];\n\t\t\t\t\tfor (var x = 0; x < this.gridw; x++) {\n\t\t\t\t\t\tvar pix = 1;\n\n\t\t\t\t\t\toffset = yoffset + xoffset;\n\n\t\t\t\t\t\tif( sd[ offset + 0] == transCol.r && sd[ offset + 1] == transCol.g && sd[ offset + 2] == transCol.b )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpix = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.push( pix );\n\t\t\t\t\t\txoffset += 4;\n\t\t\t\t\t}\n\t\t\t\t\tgrid.push( row );\n\t\t\t\t\tyoffset += rowoffset;\n\t\t\t\t}\n\n\t\t\t\t//dcontext.putImageData( dimgdata, 0, 0);\n\t\t\t\tthis.iconGrid.push( grid  );\n\t\t\t\t//this.iconsContext.push( dcontext );\n\t\t\t}\n      }\n\n      this.iconCanvas = null;\n      this.iconContext = null;\n      this.img = null;\n\t}\n\n\n\tgetCharData( i ) {\n\n\t\treturn this.iconGrid[ i ];\n  }\n\n}\n\n\n\nexport { TILES as default};\n","class MrBeepChannel {\n\n  constructor( audioCtx, waveform, masterVolume, volumeFunc ) {\n    this.audioCtx = audioCtx;\n    this.waveform = waveform;\n    this.masterVolume = masterVolume;\n    this.volumeFunc = volumeFunc;\n\n    this.initialized = false;\n    this.initializedFully = false;\n\n    this.effects = [];\n\n    this.FLR = 10;  //frequency linair range\n    this.FS = 11;   //frequency set\n    this.VLR = 20;  //volume linair range\n    this.VS = 21;   //volume set\n\n  }\n\n  enable() {\n    this._init();\n  }\n\n  disable() {\n    this.maxGain.gain.value=0.0;\n  }\n\n  _init() {\n\n    if( this.initialized ) {\n      return;\n    }\n\n    this.initialized = true;\n\n    this.maxGain = this.audioCtx.createGain();\n    this.maxGain.connect( this.masterVolume );\n\n    this.maxGain.gain.value=0.0;\n    this.volumeValue = 0.0;\n\n    this.gain = this.audioCtx.createGain();\n    this.gain.connect( this.maxGain );\n\n    if( this.waveform == \"noise\" ) {\n\n\n      //var from = 300;\n      //var to = 30000;\n      //var geometricMean = Math.sqrt(from * to);\n      //this.filter.Q.value = geometricMean / (to - from);\n\n      /*\n      this.filter = this.audioCtx.createBiquadFilter();\n\n      this.filter.type = \"bandpass\";\n      this.filter.frequency.value = 440;\n      this.frequency = this.filter.frequency;\n      this.filter.Q.value = 5;\n      this.filter.connect(this.gain);\n\n      var bufferSize = 4096;\n\n      var b0, b1, b2, b3, b4, b5, b6;\n      b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n      var node = this.audioCtx.createScriptProcessor(bufferSize, 1, 1);\n      node.onaudioprocess = function(e) {\n          var output = e.outputBuffer.getChannelData(0);\n          for (var i = 0; i < bufferSize; i++) {\n              var white = Math.random() * 2 - 1;\n              b0 = 0.99886 * b0 + white * 0.0555179;\n              b1 = 0.99332 * b1 + white * 0.0750759;\n              b2 = 0.96900 * b2 + white * 0.1538520;\n              b3 = 0.86650 * b3 + white * 0.3104856;\n              b4 = 0.55000 * b4 + white * 0.5329522;\n              b5 = -0.7616 * b5 - white * 0.0168980;\n              output[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n              output[i] *= 0.11; // (roughly) compensate for gain\n              b6 = white * 0.115926;\n          }\n      }\n\n      this.occilator = node;\n      this.occilator.connect( this.filter );\n\n      this.gain.gain.value=0.0;\n      this.gain.gain.setValueAtTime(0, this.audioCtx.currentTime);\n\n      this.initializedFully = true;\n      */\n\n    }\n    else {\n      // we create the gain module, named as volume, and connect it to our\n      //these sines are the same, exept for the last connect statement.\n      //Now they are connected to the volume gain module and not to the au\n\n      this.filter = null;\n\n      this.occilator = this.audioCtx.createOscillator();\n      this.occilator.frequency.value = 440;\n      this.frequency = this.occilator.frequency;\n\n      this.occilator.type = this.waveform;\n      this.occilator.connect(this.gain);\n      this.gain.gain.value=0.0;\n      this.gain.gain.setValueAtTime(0, this.audioCtx.currentTime);\n      this.occilator.start(0);\n      this.initializedFully = true;\n\n\n\n\n    }\n  }\n\n  setVolume( volume ) {\n\n    this.enable();\n\n    this.maxGain.gain.value= volume;\n    this.volumeValue = volume;\n\n    if( volume == 0) {\n      this.disable();\n    }\n\n  }\n\n  playBeep( frequency, duration ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds = duration / 1000;\n    var durInSeconds0 = durInSeconds/20;\n    var durInSeconds1 = durInSeconds - (durInSeconds/20);\n    var durInSeconds2 = durInSeconds;\n    var now =this.audioCtx.currentTime;\n\n    this.frequency.cancelScheduledValues( now );\n    this.gain.gain.cancelScheduledValues( now );\n\n    this.frequency.setValueAtTime( frequency,  now );\n\n    this.gain.gain.linearRampToValueAtTime(1.0 , now + durInSeconds0);\n    this.gain.gain.linearRampToValueAtTime(1.0 , now + durInSeconds1);\n    this.gain.gain.linearRampToValueAtTime(0.0 , now + durInSeconds2);\n\n  }\n\n  clearEffect() {\n    this.effects  = [];\n  }\n\n  addEffect( type , value, time ) {\n    if( this.effects.length > 254 ) {\n      return;\n    }\n\n    this.effects.push( {\n      type: type ,\n      value: value,\n      time: time\n      }\n    );\n  }\n\n  playEffect( freq ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var now =this.audioCtx.currentTime;\n\n    this.gain.gain.cancelScheduledValues( now );\n    this.frequency.cancelScheduledValues( now );\n\n    //this.maxGain.gain.value= this.volumeValue;\n\n    var jiffy = 0.000001;\n    now = now + jiffy;\n\n    for( var i = 0; i < this.effects.length ; i++) {\n      var e = this.effects[ i ];\n      if( e.type == this.VLR ) {\n        this.gain.gain.linearRampToValueAtTime( e.value , now + e.time/1000 );\n      }\n      else if( e.type == this.FLR ) {\n        this.frequency.linearRampToValueAtTime( e.value + freq , now + e.time/1000 );\n      }\n      else if( e.type == this.VS ) {\n        this.gain.gain.setValueAtTime( e.value , now + e.time/1000 );\n      }\n      else if( e.type == this.FS ) {\n        this.frequency.setValueAtTime( e.value  + freq, now + e.time/1000 );\n      }\n\n    }\n\n  }\n\n  setAttackDecayRelease( attackT, decayT, releaseT ) {\n\n    this.attackT = attackT;\n    this.decayT = decayT;\n    this.releaseT = releaseT;\n\n  }\n\n  setSustainLevel( sustainV ) {\n\n    this.sustainV = sustainV;\n\n  }\n\n\n  playSound( frequency, sustainT ) {\n\n    var now =this.audioCtx.currentTime;\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds0 = (this.attackT/1000);\n    var durInSeconds1 = (this.attackT/1000) + (this.decayT/1000);\n    var durInSeconds2 = (this.attackT/1000) + (this.decayT/1000) + (sustainT/1000) ;\n    var durInSeconds3 = (this.attackT/1000) + (this.decayT/1000) + (sustainT/1000) + (this.releaseT/1000);\n\n    this.frequency.cancelScheduledValues( now );\n    this.gain.gain.cancelScheduledValues( now );\n    //this.frequency.value = frequency;\n    this.frequency.setValueAtTime( frequency, now );\n\n    this.gain.gain.linearRampToValueAtTime( 1.0              , now + durInSeconds0);\n    this.gain.gain.linearRampToValueAtTime( this.sustainV    , now + durInSeconds1);\n    this.gain.gain.linearRampToValueAtTime( this.sustainV    , now + durInSeconds2);\n    this.gain.gain.linearRampToValueAtTime( 0                , now + durInSeconds3);\n\n  }\n\n  setFrequency( f ) {\n\n    var now =this.audioCtx.currentTime;\n    this.frequency.cancelScheduledValues( now );\n    //this.frequency.value = f;\n    this.frequency.setValueAtTime( f, now );\n  }\n\n  startSound( frequency ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds0 = this.attackT/1000;\n    var durInSeconds1 = (this.attackT/1000) + (this.decayT/1000);\n\n    //this.frequency.value = frequency;\n    this.frequency.cancelScheduledValues( now );\n    this.frequency.setValueAtTime( frequency, now );\n\n    var now =this.audioCtx.currentTime;\n    this.gain.gain.cancelScheduledValues( now );\n\n    this.gain.gain.linearRampToValueAtTime(1.0              , now + durInSeconds0);\n    this.gain.gain.linearRampToValueAtTime( this.sustainV   , now + durInSeconds1);\n\n  }\n\n  releaseSound( frequency ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds0 = this.releaseT/1000;\n\n    this.frequency.value = frequency;\n\n    var now =this.audioCtx.currentTime;\n    this.gain.gain.cancelScheduledValues( now );\n\n    this.gain.gain.linearRampToValueAtTime(0.0              , now +durInSeconds0);\n\n  }\n\n}\n\nexport { MrBeepChannel as default};\n","class MrBeep {\n\n  constructor( MrBeepChannel ) {\n    this.audioCtx = new (window.AudioContext || window.webkitAudioContext);\n\n    this.masterVolume = { value: 0.8 };\n    this.channels = [];\n    this.defaults = [\n      \"square\",\"sawtooth\",\"triangle\", \"sine\",\n      \"noise\",\"square\",\"sawtooth\", \"triangle\"\n    ]\n\n    this.masterGain = this.audioCtx.createGain();\n    this.masterGain.connect( this.audioCtx.destination );\n    this.masterGain.gain.value=0.0;\n    this.channelCount = 8;\n\n    for( var i=0; i<this.channelCount; i++) {\n        this.channels.push( new MrBeepChannel( this.audioCtx, this.defaults[ i ], this.masterGain, this._int_v2g ) );\n    }\n\n    this.FLR = 10;\n    this.FS = 11;\n    this.VLR = 20;\n    this.VS = 21;\n  }\n\n  _int_log10(x) {\n    return Math.log(x)/Math.LN10;\n  }\n\n  _int_v2g(v) {\n    //var x = -this._int_log10( 1-(v*.9));\n    var x = -Math.log( 1-(v*.9) )/Math.LN10;\n\n    console.log( v, \"->\", x);\n    return x;\n  }\n\n  reset() {\n    for( var i=0; i<this.channelCount; i++) {\n        this.channels[i].setVolume( 0 );\n        this.channels[i].clearEffect();\n    }\n  }\n\n  setVolume( v ) {\n    //var x = -this._int_log10( 1-(l*.9));//Math.pow(10, (decibel_level / 20));\n\n    this.masterGain.gain.value= this._int_v2g( v );\n  }\n\n  channelVolume( channel, x ) {\n    this.channels[ channel ].setVolume( x );\n  }\n\n  channelFrequency( channel, f ) {\n    this.channels[ channel ].setFrequency( f );\n  }\n\n  channelSetAttackDecayRelease( channel, attackT, decayT, releaseT ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].setAttackDecayRelease( attackT, decayT, releaseT );\n  }\n\n  channelSetSustainLevel( channel,  sustainV ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].setSustainLevel( sustainV );\n  }\n\n\n  playBeep( channel, frequency, duration ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].playBeep( frequency, duration );\n  }\n\n  playSound( channel, frequency, duration ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].playSound( frequency, duration );\n  }\n\n\n  startSound( channel, frequency ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].startSound( frequency );\n  }\n\n  releaseSound( channel, frequency ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].releaseSound( frequency );\n  }\n\n  addEffect( channel,  type , value, time ) {\n    this.channels[ channel ].addEffect( type , value, time );\n  }\n\n  clearEffect( channel ) {\n    this.channels[ channel ].clearEffect();\n  }\n\n  playEffect( channel, freq ) {\n    this.channels[ channel ].playEffect( freq );\n  }\n}\n\nexport { MrBeep as default};\n","class LIB {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n\n    this.files = [];\n    this.data  = {};\n    this.prefix = \"\";\n\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  exists( fileName ) {\n\n    throw this.makeError( \"Exists error\", \"Not yet implemented\");\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    throw this.makeError( \"saveFile error\", \"Not supported\");\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      message: details,\n      fsErrorSignature: true,\n    }\n  }\n\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n  loadTextFromURL( url, cb ){\n      // read text from URL location\n      var request = new XMLHttpRequest();\n      var _this = this;\n\n      request.onreadystatechange = function () {\n          if (request.readyState === 4 && request.status === 200) {\n\n              _this.loadedFile( url, cb, _this.makeDataContainer( request.responseText ) );\n          }\n          else if (request.readyState === 4 && request.status != 200) {\n            _this.loadedFile( url, cb,\n              _this.makeError( \"File not found (\"+request.status+\")\", request.status ) );\n          }\n      }\n      request.overrideMimeType(\"text/plain\");\n      request.open('GET', this.prefix + url, true);\n      request.send(null);\n  }\n\n\n\n  loadFile( fileName, cbRec ) {\n\n      this.loadTextFromURL( fileName, cbRec );\n\n  }\n\n  loadedFile( fileName, cbRec, response) {\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, response );\n  }\n\n  getDir() {\n    throw this.makeError( \"getDir error\", \"Not supported\");\n\n  }\n\n  deleteFile( fileName ) {\n\n    throw this.makeError( \"deleteFile error\", \"Not supported\");\n\n  }\n\n  formatDisk() {\n\n    throw this.makeError( \"formatDisk error\", \"Sorry dave, but I cannot allow you to format the internet :)\");\n\n  }\n\n}\n\nexport { LIB as default};\n","class DATA {\n\n\tconstructor() {\n\n\t\t//opt: \"name\", means use as suffix string call a handler in basicmenu/apps main class\n\t\t//opt: \"@name\", means, call a handler in basic/apps main class\n\n\t\tthis.options = {};\n\n\t\tvar opts = [];\n    opts.push({opt: \"file\", display: \"File\" });\n    opts.push({opt: \"copy\", display: \"Copy\" });\n\t\topts.push({opt: \"basic\", display: \"Basic\" });\n\t\topts.push({opt: \"screeneditor\", display: \"Screen\" });\n\t\topts.push({opt: \"help\", display: \"Help\" });\n\n    this.options[\"main\"] = opts;\n\n    opts = [];\n    opts.push({opt: \"@requestClipboardCopy\", display: \"Copy program\" });\n\t\tif( navigator.clipboard.readText ) {\n\t\t\topts.push({opt: \"pasteFromClip\", data: \"pgm\", display: \"Paste program\" });\n\t\t} else {\n\t\t\topts.push({opt: \"pasteBox\", data: \"pgm\", display: \"Paste program\" });\n\t\t}\n    opts.push({opt: \"@requestClipboardCopyScreen\", display: \"Copy screen data\" });\n    if( navigator.clipboard.readText ) {\n\t\t\topts.push({opt: \"pasteFromClip\", data: \"txt\", display: \"Paste text\" });\n\t\t} else {\n\t\t\topts.push({opt: \"pasteBox\", data: \"txt\", display: \"Paste text\" });\n\t\t}\n    this.options[\"copy\"] = opts;\n\n    opts = [];\n\t\topts.push({opt: \"@requestRun\", display: \"Run\" });\n\t\topts.push({opt: \"@requestStop\", display: \"Stop\" });\n    opts.push({opt: \"@requestList\", display: \"List Program\" });\n\t\topts.push({opt: \"@requestVars\", display:  \"Debug: List Variables\" });\n\t\topts.push({opt: \"@requestDataBlocks\", display:  \"Debug: List Data-blocks\" });\n\t\topts.push({opt: \"@requestRenumber\", display:  \"Renumber Program\" });\n\t\topts.push({opt: \"@requestNew\", display:  \"New Program\" });\n    this.options[\"basic\"] = opts;\n\n    opts = [];\n\t\topts.push({opt: \"@requestListDirectory\", display: \"List directory\" });\n\t\topts.push({opt: \"@requestFileSystems\", display: \"List file systems\" });\n\t\topts.push({opt: \"@requestListScripts\", display: \"List embedded scripts\" });\n    opts.push({opt: \"@requestExport\", display: \"Export Basic Program\" });\n    this.options[\"file\"] = opts;\n\n\t\topts = [];\n\t\topts.push({opt: \"@requestResetConsole\", display: \"Reset Console\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 1, bg:0, border: 10 }, display: \"Dark Mode 1\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 14, bg:0, border: 0 },display: \"Dark Mode 2\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 5, bg:0, border: 10 },display: \"Dark Mode 3\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:8, border: 0 },display: \"Light Mode 1\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:8, border: 10 },display: \"Light Mode 2\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:1, border: 10 },display: \"Light Mode 3\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 15, bg:4, border: 15 },display: \" C64 Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 14, bg:10, border: 14 },display: \"C128 Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 4, bg:1, border: 6 },display: \"Vic20 Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:9, border: 9 },display: \"ZX-Spectrum Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 1, bg:4, border: 4 },display: \"MSX Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 1, bg:0, border: 0 },display: \"BBC Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 3, bg:0, border: 0 },display: \"Apple2 Theme\" });\n    this.options[\"screeneditor\"] = opts;\n\n\t\topts = [];\n\t\topts.push({opt: \"@requestHelp\", display: \"Basic Commands\" });\n\t\topts.push({opt: \"@requestAbout\", display: \"About\" });\n    this.options[\"help\"] = opts;\n\n\t}\n\n\tgetOptions() {\n\t\treturn this.options;\n\t}\n}\n\nexport { DATA as default};\n","class HANDLERS {\n\n\tconstructor( menuSys ) {\n\t\tthis.menuSys = menuSys;\n\t\tthis.sys = this.menuSys.sys;\n\n\t}\n\n\tsetBasic() {\n\t\tthis.basic = this.sys.m.basic;\n\t}\n\n\tdoExposedAction( id, data ) {\n\n\t\tif( id == \"paste\" ) {\n\t\t\tif( !navigator.clipboard.readText ) {\n\t\t\t\tthis.handler_pasteBox( data );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.handler_pasteFromClip( data );\n\t\t\t}\n\t\t}\n\t}\n\n\thandler_pasteBox( type ) {\n\n\t\tthis.menuSys.pastebox.style.display = \"block\";\n\t\tthis.menuSys.pasteArea.value = this.menuSys.defaultPasteText;\n\n\t\tthis.oldInnerText = this.menuSys.pasteArea.innerText;\n\n\t\tthis.input = this.sys.input;\n    this.input.unsetInputHandler();\n\n\t\tthis.menuSys.clearMenu();\n\t\tthis.menuSys.hideMenu();\n\n\t\tthis.menuSys.pasteArea.style.color = this.menuSys.color;\n\t\tthis.menuSys.pasteArea.style.backgroundColor = this.menuSys.bgColor;\n\n\t\tthis.menuSys.pasteArea.focus();\n\t\tthis.menuSys.pasteArea.select();\n\n\t\tthis.sys.out.hideInner();\n\n\t\tvar __this = this;\n\n\t\tthis.pasteHandler = function ( e ) {\n\t\t\tsetTimeout(__this.pasteHandler2 , 10 );\n\t\t}\n\n\t\tthis.pasteHandler2 = function( e ) {\n\t\t\t__this.sys.out.showInner();\n\t\t\t__this.menuSys.unhideMenu();\n\t\t\t__this.basic.setInput( __this.sys.input );\n\t\t\t__this.menuSys.pasteArea.removeEventListener( \"paste\", __this.pasteHandler );\n\t\t\t__this.menuSys.pastebox.style.display = \"none\";\n\t\t\tif( __this.oldInnerText != __this.menuSys.pasteArea.value ) {\n\t\t\t\t__this.basic.pasteTextFromClipboard( __this.menuSys.pasteArea.value, type );\n\t\t\t}\n\n\t\t}\n\n\t\tthis.menuSys.pasteArea.addEventListener(\"paste\", this.pasteHandler);\n\t\t//this.menuSys.pasteArea.addEventListener(\"paste\", this.pasteHandler);\n\t}\n\n\n\thandler_pasteFromClip( type ) {\n\t\tvar __this = this;\n\n\t\tif( !navigator.clipboard.readText ) {\n\t\t\talert(\"Clipboard reading is disabled in your browser\\nYou have to enable it to make this feature work.\");\n\t\t}\n\n\t\tnavigator.clipboard.readText().then(\n\t\t\t(clipText) => {\n\t\t\t\t__this.basic.pasteTextFromClipboard( clipText, type );\n\t\t\t} );\n\n\t}\n\n}\n\nexport { HANDLERS as default};\n","const staticLoading = true;\n\nimport  BootCfg   from        './bootcfg.js';\nimport  BootSys   from        './bootsys.js';\n\nimport  displaymodes   from        './modules/displaymodes.js';\nimport  tablecon   from        './modules/tablecon.js';\nimport  canvas   from        './modules/canvas/module.js';\nimport mrbeep  from       './modules/mrbeep/module.js';\nimport  simplewarning  from   './modules/simplewarning.js';\nimport  privwarning from     './modules/privwarning.js';\nimport  mutedinput from      './modules/mutedinput.js';\nimport domelinput from      './modules/domelinput.js';\nimport htmlwrapper from     './modules/htmlwrapper.js';\nimport sessionfs  from       './modules/fs/sessionfs.js';\nimport lfs  from             './modules/fs/lfs.js';\nimport ramfs  from           './modules/fs/ramfs.js';\nimport qfs  from             './modules/fs/qfs.js';\nimport scripturl  from       './modules/fs/scripturl.js';\nimport exportfs  from       './modules/fs/transferfs.js';\nimport site  from           './modules/fs/http/sitefs.js';\nimport basic from           './modules/basic/module.js';\nimport basicmenu from           './modules/basicmenu/module.js';\n\nvar bootCfg = new BootCfg(  );\nvar boot = new BootSys( bootCfg, staticLoading );\nvar sys = boot.getSys();\n\n\nboot.dep = {};\nboot.i = {}\nboot.i.displaymodes = displaymodes;\nboot.i.tablecon = tablecon;\nboot.i.canvas = canvas;\nboot.i.mrbeepaudio = mrbeep;\nboot.i.simplewarning = simplewarning;\nboot.i.priv = privwarning;\nboot.i.mutedinput = mutedinput;\nboot.i.domelinput = domelinput;\nboot.i.htmlwrapper = htmlwrapper;\nboot.i.basic = basic;\nboot.i.basicmenu = basicmenu;\nboot.i.sfs = sessionfs\nboot.i.cache = lfs;\nboot.i.ramfs = ramfs;\nboot.i.script = scripturl;\nboot.i.site = site;\nboot.i.export = exportfs;\nboot.i.qfs = qfs;\nboot.dep.basicmenu = [ \"domelinput\" ];\nboot.dep.qfs = [ \"ramfs\", \"cache\", \"sfs\", \"script\", \"site\", \"export\" ];\nboot.dep.basic = [ \"canvas\", \"tablecon\", \"displaymodes\", \"mrbeepaudio\", \"qfs\", \"htmlwrapper\", \"basicmenu\" ];\n\nboot.initSimpleLogging();\n\n/* Instantiate modules */\nfunction addModule( m, toList, checkL ) {\n\n  if( checkL >= 5 ) {\n    var tmp = 1;\n    console.log(\"HALT, probably dependency recursion detected\" );\n    throw \"HALT, probably dependency recursion detected\";\n    return;\n  }\n\n  console.log(\" dependencies for \" + m + \" checkL=\" + checkL );\n  if( boot.dep[ m ]) {\n    console.log(\"FOUND DEPENDENCY LIST for \" + m );\n    var deps = boot.dep[ m ];\n    for( var j=0;j<deps.length;j++) {\n      console.log(\" add dependency:  \" + deps[ j ] );\n      addModule( deps[j], mods, checkL + 1 );\n    }\n  }\n\n  var exists = false;\n  for( var ci=0;ci<toList.length;ci++) {\n    if( toList[ ci ] == m ) {\n      exists = true;\n      return;\n    }\n  }\n\n  console.log(\"ADD MODULE \" + m );\n  toList.push( m );\n}\n\nvar mods0 = Object.getOwnPropertyNames( boot.i );\nvar mods = [];\nfor( var i=0;i<mods0.length;i++) {\n  var m = mods0[i];\n  if( mods0[ i ]  === undefined ) {\n    continue;\n  }\n\n\n  addModule( m, mods, 0 );\n\n}\n\n\nfor( var i=0;i<mods.length;i++) {\n  console.log(\"construct \" + mods[ i ] );\n  boot.m[ mods[i] ] = new boot.i[ mods[i] ]( sys, boot.dep[ mods[i] ] );\n}\n\nsys.audio = sys.m.mrbeepaudio;\n\nsys.init.queuedMessages = sys.nulcon;\nsys.init.conStyle = boot.conStyle;\nsys.init.displayMode = boot.displayMode;\nsys.m = boot.m;\nsys.fs =  boot.m.qfs;\nsys.input = boot.m.domelinput;\nsys.m.displaymodes.setMode( boot.displayMode, sys.m.basicmenu );\nboot.out = sys.out;\n\n\n/* Initialize modules */\nfor( var i=0;i<mods.length;i++) {\n  console.log(\"init \" + mods[ i ] );\n  boot.m[ mods[i] ].init();\n}\n\n/* Get the boot script */\n\ntry {\n\n\n  var script = boot.rootScript.dataset.script;\n  if( script == null ) { script = \"autorun.bas\"; }\n  boot.onReady = \"script://\" + script;\n}\ncatch ( e ) {\n  alert( \"HALT: Boot-Onready Handler not found!!\");\n  throw \"HALT - Neither root-script-attribute 'basScript' or constant 'BOOT_ONREADY' defined.\";\n}\n\n\nsys.nulcon = undefined;\nboot.input = boot.m.domelinput;\nconsole.log( \"boot.basic=\",boot.basic );\nboot.m.basic.setInput( boot.input );\nboot.m.basic.loadApp(  boot.onReady );\n","class BOOTCFG {\n\n  constructor() {\n\n    this.fs = {};\n    this.fs.default = \"cache\";\n\n    this.display = {}\n    this.display.mode = 100;\n\n    this.warnings = {};\n    this.warnings.privacyMute = true;\n\n    this.subSys = \"S3\";\n\n    this.keyboard = {};\n    this.keyboard.allowDefault = {};\n    var allowDefault = this.keyboard.allowDefault;\n    allowDefault.all = false;\n    allowDefault.events = [];\n\n    var adEvents = allowDefault.events;\n    adEvents.push(\"F5\");\n    adEvents.push(\"F12\");\n\n  }\n\n}\n\nexport { BOOTCFG as default};\n","class COMMONBOOTLOADER {\n\n  constructor( cfg, staticFlag ) {\n\n    var sys = {};\n    this.m = {};\n    sys.m = this.m;\n    sys.bootCfg = cfg;\n    this.sys = sys;\n    sys.init = {};\n    sys.staticTarget = staticFlag;\n    sys.headerElement = null;\n\n    sys.domContainer = document.createElement(\"div\");\n    document.body.appendChild( sys.domContainer );\n\n    sys.SIG = \"BOSS64\";\n    sys.SUBSYS = sys.bootCfg.subSys;\n    sys.VERSION = \"0.2\";\n    sys.CODENAME = \"Papa Smurf\";\n\n    sys.nulcon = [];\n    sys.nulcon.push(\"Starting System...\");\n    sys.nulcon.push(\"SYS version \" + sys.VERSION);\n    sys.nulcon.push(\"SYS name \" + sys.SIG + \":\" + sys.SUBSYS + \" \\\"\" + sys.CODENAME + \"\\\"\");\n    sys.nulcon.push(\"SYS release name \\\"\" + sys.CODENAME + \"\\\"\");\n    sys.nulcon.push(\"Starting Boot Sequence...\");\n\n    var rootScript = document.getElementById(\"boot\");\n    this.rootScript = rootScript;\n\n    this.displayMode = parseInt( rootScript.dataset.mode );\n    if( isNaN( this.displayMode ) ) {\n      this.displayMode = cfg.display.mode;\n    }\n\n    this.bootMode = rootScript.dataset.boot;\n\n    this.dynamicMinTarget = false;\n    if( this.bootMode ) { this.dynamicMinTarget = (this.bootMode.indexOf(\"min\") >= 0) };\n    sys.dynamicMinTarget = this.dynamicMinTarget;\n\n    this.bootDebug = (this.bootMode.indexOf(\"debug\") >= 0);\n\n    if( this.bootDebug ) {\n      sys.nulcon.push(\"Enabled debug mode\");\n    }\n\n    if( this.dynamicMinTarget ) {\n      sys.nulcon.push(\"Enabled minimal target settings for dynamic mode\");\n    }\n\n    document.body.style.backgroundColor = \"#444444\";\n  }\n\n  getSys() {\n    return this.sys;\n  }\n\n  initSimpleLogging() {\n\n    /*primitive logging, before it is setup fully*/\n\n    var sys = this.sys;\n\n    sys.out = {\n      buf: \"\"\n    };\n\n    var out = sys.out;\n\n    sys.out.getAll = function() {\n      return out.buf;\n    }\n\n    sys.out.writeln = function( txt ) {\n      var s = \"$\" + txt +\"\\n\";\n      out.buf += s;\n      console.log( s );\n    }\n\n    out.writeln( \"$Init logging...\" );\n\n    sys.rawlog = function( type, array ) {\n\n      var line = array;\n      var txt = \"\";\n\n      txt +=  ( type + \": \" );\n\n      for( var j=0; j<line.length; j++) {\n          var sep = \" \";\n          if( j==0 ) { sep = \"\" };\n          txt += ( sep + line[j] );\n      }\n\n      sys.out.writeln( txt );\n\n    }\n\n    sys.rawlogcon = function( type, array ) {\n\n      var line = array;\n      var txt = \"\";\n\n      txt +=  ( type + \": \" );\n\n      for( var j=0; j<line.length; j++) {\n          var sep = \" \";\n          if( j==0 ) { sep = \"\" };\n          txt += ( sep + line[j] );\n      }\n\n      console.log( txt );\n\n    }\n\n    sys.log = function() {\n      var args = Array.prototype.slice.call(arguments);\n      sys.rawlog( \"info\", args );\n      console.log.apply(console, args);\n    }\n\n    sys.logwarn = function() {\n      var args = Array.prototype.slice.call(arguments);\n      sys.rawlog( \"warn\", args );\n      console.warn(args);\n    }\n\n    sys.logerr = function() {\n      var args = Array.prototype.slice.call(arguments);\n      sys.rawlog( \"error\", args );\n      console.error.apply(console, args);\n    }\n\n    this.logerr = sys.logerr;\n    this.logwarn = sys.logwarn;\n    this.log = sys.log;\n\n    if( !this.bootDebug ) {\n      sys.rawlog = sys.rawlogcon;\n    }\n  }\n\n\n}\n\nexport { COMMONBOOTLOADER as default};\n","class KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.initialized = false;\n\t\tthis.default = 100;\n\n\t\tthis.sys = sys;\n\t\tthis.drivers = [];\n\n\t}\n\n\tinit() {\n\n\t\t\tif( this.initialized ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.drivers[\"text\"] = this.sys.m.tablecon;\n\t\t\tthis.drivers[\"canvas\"] = this.sys.m.canvas;\n\n\t\t\tthis.modes = [];\n\n\t\t\tvar textmode1 = \"text:80x30\";\n\t\t\tvar textmode2 = \"text:80x50\";\n\t\t\tvar textmode3 = \"text:80x150\";\n\n\t\t\tvar fontSmall = \t\"font=14\";\n\t\t\tvar fontMedium1 = \"font=16\";\n\t\t\tvar fontMedium2 = \"font=18\";\n\t\t\tvar fontBig = \t\t\"font=22\";\n\n\t\t\tthis.modes[0] = textmode1 + \":\" + fontSmall;\n\t\t\tthis.modes[1] = textmode1 + \":\" + fontMedium1;\n\t\t\tthis.modes[2] = textmode1 + \":\" + fontMedium2;\n\t\t\tthis.modes[3] = textmode1 + \":\" + fontBig;\n\n\t\t\tthis.modes[4] = textmode2 + \":\" + fontSmall;\n\t\t\tthis.modes[5] = textmode2 + \":\" + fontMedium1;\n\t\t\tthis.modes[6] = textmode2 + \":\" + fontMedium2;\n\t\t\tthis.modes[7] = textmode2 + \":\" + fontBig;\n\n\t\t\tthis.modes[8] = textmode3 + \":\" + fontSmall;\n\t\t\tthis.modes[9] = textmode3 + \":\" + fontMedium1;\n\t\t\tthis.modes[10] = textmode3 + \":\" + fontMedium2;\n\t\t\tthis.modes[11] = textmode3 + \":\" + fontBig;\n\n\t\t\tthis.modes[100] = \"canvas:%95\";\n\n\t\t\tthis.modes[101] = \"canvas:%85\";\n\t\t\tthis.modes[102] = \"canvas:%75\";\n\t\t\tthis.modes[103] = \"canvas:%65\";\n\t\t\tthis.modes[104] = \"canvas:%45\";\n\t\t\tthis.modes[105] = \"canvas:%35\";\n\t\t\tthis.modes[106] = \"canvas:%25\";\n\t\t\tthis.modes[107] = \"canvas:%15\";\n\n\t\t\tthis.modes[110] = \"canvas:%%95,25\";\n\t\t\tthis.modes[111] = \"canvas:%%95,50\";\n\t\t\tthis.modes[120] = \"canvas:%%25,95\";\n\t\t\tthis.modes[121] = \"canvas:%%50,95\";\n\n\t\t\tthis.modes[200] = \"canvas:1024x768\";\n\n\t\t\tthis.modes[500] = \"canvas:800x600\";\n\t\t\tthis.modes[501] = \"canvas:640x512\";\n\t\t\tthis.modes[502] = \"canvas:640x480\";\n\t\t\tthis.modes[503] = \"canvas:640x400\";\n\t\t\tthis.modes[504] = \"canvas:320x512\";\n\t\t\tthis.modes[505] = \"canvas:320x400\";\n\t\t\tthis.modes[506] = \"canvas:320x256\";\n\t\t\tthis.modes[507] = \"canvas:320x200\";\n\n\t\t\tthis.menuCreated = false;\n\t}\n\n\tgetDriver() {\n\t\treturn this.currentDriver;\n\t}\n\n\tgetMode( x ) {\n\t\tthis.init();\n\n\t\tif( ! x ) {\n\t\t\treturn getMode( this.default );\n\t\t}\n\t\treturn this.modes[ x ];\n\t}\n\n\n\tgetModes() {\n\t\treturn this.modes;\n\t}\n\n\tgetCurrentMode() {\n\t\treturn this.currentMode;\n\t}\n\n\tsetMode( x, menu ) {\n\t\tthis.init();\n\n\n\t\tif( menu ) {\n\t\t\tthis.menu = menu;\n\t\t}\n\n\t\tif( x === undefined || x === null || x === -1 || Number.isNaN( x ) ) {\n\t\t\tthis.setMode( this.default, menu );\n\t\t}\n\n\t\tvar dc = this.getDeviceConfig( x );\n\t\tif(! dc ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cm = this.currentMode;\n\t\tif( ! (cm === undefined || cm === null || cm === -1 || Number.isNaN( x ) ) ) {\n\t\t\t\tthis.endMode( this.currentMode );\n\t\t\t\tthis.menuCreated = false;\n\t\t}\n\n\t\tif( !this.menuCreated ) {\n\t\t this.menu.create();\n\t\t this.menuCreated = true;\n\t\t}\n\n\t\tdc.device.initMode( dc.config, this.menu );\n\t\tthis.sys.out =  dc.device;\n\n\t\tthis.sys.out.notifyOnClick( this.sys.m.basicmenu, \"onDeselect\" );\n\n\t\tthis.currentMode = x;\n\t\tthis.currentDriver = dc.device;\n\n\t}\n\n\tendMode() {\n\n\t\tthis.init();\n\n\t\tif( !this.currentDriver ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar dev = this.currentDriver;\n\n\t\tdev.destroy();\n\t\tthis.menu.destroy();\n\n\t\tthis.currentMode = undefined;\n\t\tthis.currentDriver = undefined;\n\n\t}\n\n\tgetDeviceConfig( x ) {\n\n\t\tif( x === undefined || x === null || x === -1 || Number.isNaN( x ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif( !this.modes[ x ] ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar tmp = this.modes[ x ].split(\":\");\n\t\tif( tmp.length < 2 ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar driver = tmp[0];\n\t\tif( !this.drivers[ driver ] ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar driverDevice = this.drivers[ driver ];\n\n\t\tvar param = tmp.splice(1);\n\n\t\treturn {\n\t\t\tdevice: driverDevice,\n\t\t\tconfig: param\n\t\t};\n\n\t}\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\t\tthis.cursorOn = false;\n\t\tthis.cols = 80;\n\t\tthis.rows = 30;\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.hidden = false;\n\t\tthis.blinking = true;\n\t\tthis.reverse = false;\n\n\t\tthis.outColors ={};\n\n\t\tthis.fontSizeInt = 18;\n\t\tthis.fontSizeCSS = this.fontSizeInt + \"px\";\n\t\tthis.fontFamily = \"monospace\";\n\n\n\t\tthis.htmlPalette = [\n\t\t\t\"#000000\",\n\t\t\t\"#ffffff\",\n\t\t\t\"#ee2222\",\n\t\t\t\"#22ee22\",\n\t\t\t\"#2222ee\",\n\t\t\t\"#eeee22\",\n\t\t\t\"#22eeee\",\n\t\t\t\"#ee22ee\",\n\t\t\t\"#aaaaaa\",\n\t\t\t\"#777777\",\n\t\t\t\"#444444\",\n\t\t\t\"#FFAC1C\",\n\t\t\t\"#5C3317\",\n\t\t\t\"#F88379\",\n\t\t\t\"#79F883\",\n\t\t\t\"#8379F8\"\n\n\t\t];\n\n\t\tthis.outColors.txtBgColor= this.htmlPalette[0];\n\t\tthis.outColors.txtColor = this.htmlPalette[5];\n\n\t}\n\n\thtmlColor( ix ) {\n\t\treturn this.htmlPalette[ ix ];\n\t}\n\n\n\tdestroy() {\n\t\t\tthis.outDiv0.remove();\n\t\t\tthis.cvs = null;\n\t\t\tthis.cvs2 = null;\n\t\t\tthis.ctx = null;\n\t\t\tthis.ctx2 = null;\n\n\t\t\tthis.rowel = undefined;\n\t\t\tthis.cellel = undefined;\n\n\t\t\tif( this.blinkInterval ) {\n\t\t\t\tclearInterval ( this.blinkInterval );\n\t\t\t\tthis.blinkInterval = undefined;\n\t\t\t}\n\t\t}\n\n\t\tinit() {\n\t\t}\n\n\t\tgetColumCount() {\n\t\t\treturn this.cols;\n\t\t}\n\n\t\tgetRowCount() {\n\t\t\treturn this.rows;\n\t\t}\n\n\t\tgetDimensions() {\n\t\t\t\treturn [this.cols, this.rows ];\n\t\t}\n\n\t\tinitMode( m, headerElementManager ) {\n\n\t\t\tvar sys = this.sys;\n\t\t\tvar msgs = sys.init.queuedMessages;\n\n\t\t\tsys.init.inputElement = window;\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.blinking = true;\n\n\t\t\tvar tmp = m[0].split(\"x\");\n\t\t\tif( tmp.length == 2) {\n\t\t\t\tthis.rows = parseInt( tmp[1] );\n\t\t\t\tthis.cols = parseInt( tmp[0] );\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttmp = m[1].split(\"=\");\n\t\t\tif( tmp.length == 2) {\n\n\t\t\t\tthis.fontSizeInt = parseInt( tmp[1] );\n\t\t\t\tthis.fontSizeCSS = this.fontSizeInt + \"px\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.colsPercentage = (1/this.cols) * 100;\n\t\t\tthis.outColors.txtBgColor = this.htmlPalette[ 4 ];\n\t\t\tthis.outColors.txtColor = this.htmlPalette[ 1 ];\n\n\t\t\t/* Build DOM */\n\n\t\t\tthis.outDiv0 = document.createElement(\"div\");\n\t\t\tthis.outDiv1 = document.createElement(\"div\");\n\n\t\t\tthis.outEl = document.createElement(\"table\");\n\t\t\tthis.outEl.value = \"\";\n\n\t\t\tfunction getTextOfSelection () {\n\t\t\t  var range;\n\t\t\t  if (document.selection && document.selection.createRange) {\n\t\t\t    range = document.selection.createRange();\n\t\t\t    return range.toString();\n\t\t\t  }\n\t\t\t  else if (window.getSelection) {\n\t\t\t    var selection = window.getSelection();\n\t\t\t    if (selection.rangeCount > 0) {\n\t\t\t      range = selection.getRangeAt(0);\n\t\t\t\t\t\tconst documentFragment = range.cloneContents();\n\n\t\t\t\t\t\tvar rows = documentFragment.childNodes;\n\t\t\t\t\t\tvar text = \"\";\n\t\t\t\t\t\tfor( var rix=0; rix< rows.length ; rix++ ) {\n\t\t\t\t\t\t\tvar r = rows[rix];\n\t\t\t\t\t\t\tif( text != \"\" ) {\n\t\t\t\t\t\t\t\ttext += \"\\n\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar cols = r.childNodes;\n\t\t\t\t\t\t\tfor( var cix=0; cix< cols.length ; cix++ ) {\n\t\t\t\t\t\t\t\tvar c = cols[cix];\n\t\t\t\t\t\t\t\ttext += c.firstChild.data;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn text;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t      return '';\n\t\t\t    }\n\t\t\t  }\n\t\t\t  else {\n\t\t\t    return '';\n\t\t\t  }\n\t\t\t}\n\n\t\t\tvar __this = this;\n\n\t\t\tthis.outDiv0.addEventListener('copy', (event) => {\n\n\t\t\t\tvar sel = getTextOfSelection();\n\n\t\t\t\tevent.clipboardData.setData(\"text/plain\", sel );\n\t\t\t  event.preventDefault();\n\n\t\t\t});\n\n\t\t\tthis.table =  this.outEl;\n\t\t\tthis.table.style.borderCollapse = \"collapse\";\n\t\t\tthis.table.style.borderSpacing = 0;\n\t\t\tthis.table.style.backgroundColor = this.outColors.txtBgColor;\n\n\t\t\tthis.table.style.resize = \"none\";\n\t\t\tthis.table.style.fontFamily = this.fontFamily;\n\t\t\tthis.table.style.fontSize = this.fontSizeCSS;\n\t\t\tthis.table.style.tableLayout = \"fixed\";\n\t\t\tthis.table.readOnly = true;\n\t\t\tthis.table.textAlign = \"center\";\n\n\t\t\tthis.rowel = [];\n\t\t\tthis.cellel = [];\n\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tvar tr =  document.createElement(\"tr\");\n\t\t\t\ttr.style.padding = \"0px\";\n\t\t\t\ttr.style.maxHeight = this.fontSizeInt;\n\t\t\t\ttr.style.height = this.fontSizeInt;\n\n\t\t\t\tthis.rowel.push( tr );\n\t\t\t\tthis.outEl.appendChild( tr );\n\t\t\t\tvar rowArray = [];\n\t\t\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\t\t\tvar td =  document.createElement(\"td\");\n\t\t\t\t\t//td.style.width = this.colsPercentage + \"%\";\n\t\t\t\t\t//td.style.overflow = \"hidden\";\n\t\t\t\t\t//console.log( td.style.width );\n\t\t\t\t\ttd.style.padding = \"0px\";\n\t\t\t\t\ttd.style.color = this.outColors.txtColor;\n\t\t\t\t\ttd.style.backgroundColor = undefined;\n\t\t\t\t\ttd.style.textOverflow = \"\";\n\t\t\t\t\ttd.style.whiteSpace= \"nowrap\";\n\t\t\t\t\ttd.style.overflow = \"hidden\";\n\t\t\t\t\ttd.style.maxWidth = this.fontSizeInt;\n\t\t\t\t\ttd.style.maxHeight = this.fontSizeInt;\n\t\t\t\t\t//td.style.width = this.fontSize;\n\t\t\t\t\ttd.style.height = this.fontSizeInt;\n\n\t\t\t\t\ttd.innerHTML = \"&nbsp;\";\n\n\t\t\t\t\trowArray.push( td );\n\t\t\t\t\ttr.appendChild( td );\n\t\t\t\t}\n\t\t\t\tthis.cellel.push( rowArray );\n\t\t\t}\n\n\n\t\t\tdocument.body.appendChild( this.outDiv0 );\n\n\t\t\tthis.outDiv0.style.display = \"table\";\n\t\t\tthis.outDiv0.style.width = \"99%\";\n\t\t\tthis.outDiv0.style.height = \"99%\";\n\t\t\tthis.outDiv0.style.position = \"absolute\";\n\t\t\tthis.outDiv0.style.zIndex = \"10000\";\n\n\t\t\tthis.outDiv1.style.display = \"table-cell\";\n\t\t\tthis.outDiv1.style.verticalAlign = \"middle\";\n\n\t\t\tthis.table.style.marginLeft = \"auto\";\n\t\t\tthis.table.style.marginRight = \"auto\";\n\n\t\t\tthis.outDiv0.appendChild( this.outDiv1 );\n\n\t\t\tif( headerElementManager ) {\n\t\t\t\tthis.headerElementManager = headerElementManager;\n\t\t\t\tthis.outDiv1.appendChild( this.headerElementManager.get() );\n\t\t\t\t//this.headerElementManager.setDimensions( this.fontSizeInt * this.cols, 480 );\n\n\t\t\t\tthis.headerElementManager.enable();\n\t\t\t}\n\n/*\t\t\tif( this.sys.headerElement ) {\n\t\t\t\tthis.outDiv1.appendChild( this.sys.headerElement );\n}*/\n\n\t\t\tthis.outDiv1.appendChild( this.outEl );\n\n\t\t\tif( headerElementManager ) {\n\n\t\t\t\tthis.headerElementManager.setDimensions( this.outEl.clientWidth, 480 );\n\n\t\t\t}\n\n\n\t\t\tthis.outEl.focus( );\n\n\t\t\t this.dirty = true;\n\t\t\t this.dirtyFlags = {\n\t\t\t\t bg: true,\n\t\t\t\t color: true\n\t\t\t }\n\n\t\t\tvar _this = this;\n\t\t\tthis.blinkInterval = \t setInterval(function()  {\n\t\t\t\t \t_this._int_blink();\n\t\t\t\t}, 500);\n\n\t\t\t\tfor( var i=0; i<msgs.length; i++) {\n\t\t\t\t\tthis.writeln( msgs[ i ]);\n\t\t\t\t}\n\n\t\t\t this.sys.log(\"TBCON Ready.\");\n\t}\n\n\tnative( operation ) {\n\t\tthrow \"@Operation \" + operation.action + \" not supported on TABLECON\";\n\t}\n\n\tblinkMode( mode ) {\n\t\tthis.blinking = mode;\n\t}\n\n\tnotifyOnClick() {\n\n\t}\n\n\thasPixels() {\n\t\treturn false;\n\t}\n\n\t_int_updateArea( srccells, x0, y0, x1, y1 ) {\n\n\n\t\tfor( var x=x0; x<=x1; x++) {\n\t\t\tfor( var y=y0; y<=y1; y++) {\n\t\t\t\tvar cell = this.cellel[ y ][ x ];\n\t\t\t\tvar src = srccells[ y-y0 ][ x-x0 ];\n\n\t\t\t\tif( src.txt == \" \") {\n\t\t\t\t\t\tcell.innerHTML = \"&nbsp;\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\tcell.textContent = src.txt;\n\t\t\t\t}\n\t\t\t\tcell.style.color =  this.htmlPalette[ src.fg ];\n\t\t\t\tcell.style.backgroundColor = this.htmlPalette[ src.bg ];\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\tupdate( p, list ) {\n\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tthis.x = p.cx;\n\t\tthis.y = p.cy;\n\t\tif(\n\t\t\tthis.x<0 || this.y<0 ||\n\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t) {\n\t\t\tconsole.log(\"ouch\");\n\n\t\t}\n\n\t\tthis.outColors.txtBgColor= this.htmlPalette[ p.bg ];\n\t\tthis.outColors.txtColor = this.htmlPalette[ \tp.fg];\n\n\t\tfor( var i=0; i< list.length; i++) {\n\n\t\t\tvar el = list[ i ];\n\t\t\tthis._int_updateArea( el.cells, el.x1, el.y1, el.x2, el.y2 );\n\n\t\t}\n\n\n\t}\n\n\tupdateAll( p, srccells ) {\n\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tthis.x = p.cx;\n\t\tthis.y = p.cy;\n\n\t\tif(\n\t\t\tthis.x<0 || this.y<0 ||\n\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t) {\n\t\t\tconsole.log(\"ouch\");\n\n\t\t}\n\t\tthis.outColors.txtBgColor= this.htmlPalette[ p.bg ];\n\t\tthis.outColors.txtColor = this.htmlPalette[ \tp.fg];\n\n\t\tthis._int_updateArea( srccells, 0,0, this.cols -1, this.rows -1 );\n\n\t}\n\n\n\thide() {\n\t\tif( !this.hidden ) {\n\t\t\tthis.outDiv0.hidden = true;\n\t\t\tthis.hidden = true;\n\t\t}\n\t}\n\n\tshow() {\n\t\tif( this.hidden ) {\n\t\t\tthis.outDiv0.hidden = false;\n\t\t\tthis.hidden = false;\n\t\t}\n\t}\n\n\n\tgetElement() {\n\t\treturn null;\n\t}\n\n\n\t_int_blinkOff() {\n\n\t\tif( !this.cursorOn ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cursorOn = false;\n\n\t\tvar cell = this.cellel[ this.y ][ this.x ];\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tcell.style.color = this.outColors.txtColor;\n\t\tcell.style.backgroundColor = this.outColors.txtBgColor;\n\n\n\t}\n\n\t_int_blink() {\n\n\t\tif( ! this.blinking ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cell;\n\t\ttry {\n\t\t\t\tcell = this.cellel[ this.y ][ this.x ];\n\t\t}\n\t\tcatch {\n\t\t\tcell = null;\n\t\t}\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"Blink exception: Cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cursorOn = !this.cursorOn;\n\n\t\tif( !this.cursorOn ) {\n\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\tcell.style.backgroundColor = this.outColors.txtBgColor;\n\t\t}\n\t\telse {\n\t\t\tcell.style.backgroundColor = this.outColors.txtColor;\n\t\t\tcell.style.color = this.outColors.txtBgColor;\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tvar cell = this.cellel[ y ][ x ];\n\t\t\t\tcell.innerHTML = \"&nbsp;\";\n\t\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\t\tcell.style.backgroundColor = this.outColors.txtBgColor;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\t__int_nl() {\n\t\t\tthis.x = 0;\n\t\t\tthis.y ++;\n\t\t\tif( this.y >= this.rows ) {\n\t\t\t\tthis.__int_scrollDown();\n\t\t\t\tthis.y = this.rows -1;\n\t\t\t}\n\n\t}\n\n\n\twriteln( str ) {\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\t\t\t//console.log( \"writeln\" + str );\n\n\t\t\tfor( var i=0; i<str.length; i++) {\n\t\t\t\tvar c = str.substr(i,1);\n\t\t\t\tthis.__int_write_direct_ch( c );\n\t\t\t}\n\t\t\tthis.__int_nl();\n\t}\n\n\n\t__int_write_direct_ch( ch ) {\n\n\t\tvar cell = this.cellel[ this.y ][ this.x ];\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tif( ch == \" \") {\n\t\t\t\tcell.innerHTML = \"&nbsp\";\n\t\t}\n\t\telse {\n\t\t\tcell.innerHTML = ch;\n\t\t}\n\n\t\tif( !this.reverse  ) {\n\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\tcell.style.backgroundColor = undefined;\n\t\t}\n\t\telse {\n\t\t\tcell.style.backgroundColor = this.outColors.txtColor;\n\t\t\tcell.style.color = this.outColors.txtBgColor;\n\t\t}\n\n\t\tthis.x++;\n\t\tif( this.x >= this.cols ) {\n\t\t\tthis.x = 0;\n\t\t\tthis.__int_nl();\n\t\t}\n\t}\n\n\n\n\t__int_scrollDown() {\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tfor( var y=0; y<this.rows-1; y++) {\n\t\t\t\tvar cell = this.cellel[ y ][ x ];\n\t\t\t\tvar cellyp1 = this.cellel[ y+1 ][ x ];\n\n\t\t\t\tcell.textContent = cellyp1.textContent;\n\t\t\t\tcell.style.color = cellyp1.style.color;\n\t\t\t\tcell.style.backgroundColor = cellyp1.style.backgroundColor;\n\n\n\t\t\t}\n\t\t}\n\n\t\tvar y2 = this.rows-1;\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tvar cell = this.cellel[ y2 ][ x ];\n\t\t\tcell.innerHTML = \"&nbsp;\";\n\t\t\tif( !this.reverse  ) {\n\t\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\t\tcell.style.backgroundColor = undefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcell.style.backgroundColor = this.outColors.txtColor;\n\t\t\t\tcell.style.color = \"rgba(0,255,0,0.0)\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport { KERNALMODULE as default};\n","import  SymbolsTileImage   from    './symbols.js';\nimport  SimpleTiles   from    './simpletiles.js';\n\nclass KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\t\tthis.cursorOn = false;\n\t\tthis.hidden = false;\n\t\tthis.blinking = true;\n\t\tthis.cursorMode = \"insert\";\n\t\tthis.bmFontEnable = true;\n\t\tthis.colors ={};\n\n\t\tthis.palette = [\n\t\t\t\"#000000\",\n\t\t\t\"#ffffff\",\n\t\t\t\"#ee2222\",\n\t\t\t\"#22aa22\",\n\t\t\t\"#1111cc\",\n\t\t\t\"#eeee22\",\n\t\t\t\"#22eeee\",\n\t\t\t\"#ee22ee\",\n\t\t\t\"#bbbbbb\",\n\t\t\t\"#777777\",\n\t\t\t\"#444444\",\n\t\t\t\"#FFAC1C\",\n\t\t\t\"#5C3317\",\n\t\t\t\"#F88379\",\n\t\t\t\"#79F883\",\n\t\t\t\"#8379F8\"\n\n\t\t];\n\n\n\n\t\tvar pad2 = function( hs ) {\n\t\t\tvar rv = hs;\n\t\t\twhile ( rv.length < 2 ) {\n\t\t\t\trv = \"0\" + rv;\n\t\t\t}\n\t\t\treturn rv;\n\t\t}\n\n\t\tvar pl = this.palette.length;\n\t\tfor( var i=0; i < pl; i++) {\n\t\t\tvar htmlCol = this.palette[i];\n\t\t\tvar r = pad2( Math.floor(parseInt(htmlCol.substr(1,2),16) / 2).toString(16));\n\t\t\tvar g = pad2( Math.floor(parseInt(htmlCol.substr(3,2),16) / 2).toString(16));\n\t\t\tvar b = pad2( Math.floor(parseInt(htmlCol.substr(5,2),16) / 2).toString(16));\n\t\t\tvar newcolor = \"#\" + r + g + b;\n\t\t\tthis.palette.push( newcolor );\n\n\t\t}\n\n\n\t\tthis.bmPalette = [];\n\t\tfor( var i=0; i<this.palette.length; i++) {\n\t\t\tvar htmlCol = this.palette[i];\n\t\t\tvar r = parseInt(htmlCol.substr(1,2),16)\n\t\t\tvar g = parseInt(htmlCol.substr(3,2),16)\n\t\t\tvar b = parseInt(htmlCol.substr(5,2),16)\n\t\t\tthis.bmPalette.push(\n\t\t\t\t{\n\t\t\t\t\tr:r,g:g,b:b\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\n\n\t\tthis.defaultTextMode();\n\n\t\tvar __this = this;\n\t\tvar image = new Image();\n\t\timage.onload = function ( evt ) {\n\t\t\t__this._postLoadFontImage();\n\t\t}\n\t\timage.src = new SymbolsTileImage().getBlobURL();\n\n\t\tthis.fimage = image;\n\n\t\tvar UNICODE=0;\n\t\tvar CUSTOM=1;\n\t\tvar GLYPHS0=2;\n\t\tvar GLYPHS1=3;\n\t\tvar GLYPHS2=4;\n\t\tvar GLYPHS3=5;\n\n\t\tthis.GLYPHSADDR = [ NaN, NaN, 0, 128, 256 , 384];\n\n\t\tthis.characterbank0 = GLYPHS0;\n\t\tthis.characterbank1 = GLYPHS1;\n\t\tthis.characterbank2 = GLYPHS2;\n\t\tthis.characterbank3 = UNICODE;\n\n\t\tthis.bankDefaultBaseAddr = 256;\n\t\tthis.bankBaseAddr = this.bankDefaultBaseAddr;\n\n\n\t}\n\n\t_postLoadFontImage() {\n\n\n\t\tthis.bfont = new SimpleTiles( this.fimage, 12, 20, { r:0, g:0, b:0 } );\n\n\t}\n\n\thtmlColor( ix ) {\n\t\treturn this.palette[ ix ];\n\t}\n\n\n\tdestroy() {\n\t\tthis.outDiv0.remove();\n\t\tthis.cvs = null;\n\t\tthis.cvs2 = null;\n\t\tthis.cvsCursor = null;\n\t\tthis.ctx = null;\n\t\tthis.ctx2 = null;\n\t\tthis.ctxCursor = null;\n\t\tthis.cache = null;\n\n\t\tthis.cells = [];\n\n\t\tif( this.blinkInterval ) {\n\t\t\tclearInterval ( this.blinkInterval );\n\t\t\tthis.blinkInterval = undefined;\n\t\t}\n\t}\n\n\tdefaultTextMode() {\n\t\tthis.cols = 80;\n\t\tthis.rows = 30;\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tthis.fontSize = \"20\";  //16x10, 18x11, 20x12\n\n\t\tthis.fontSizeCSS = this.fontSize + \"px\";\n\t\tthis.fontSizeIntW = 12 ; //Math.floor(parseInt( this.fontSize ) * .7)-1;\n\t\tthis.fontSizeIntH = parseInt( this.fontSize );\n\t\tthis.fontFamily = \"monospace\";\n\n\t\tvar oc = this.colors;\n\t\toc.bg = 0;\n\t\toc.fg = 5;\n\n\t\tthis.colors.bgHTML = this.palette[ oc.bg ];\n\t\tthis.colors.fgHTML = this.palette[ oc.fg ];\n\t\tthis.colors.bgRGB = this.bmPalette[ oc.bg ];\n\t\tthis.colors.fgRGB = this.bmPalette[ oc.fg ];\n\n\t}\n\n\tinit() {\n\t}\n\n\tinitMode( config, headerElementManager ) {\n\n\t\t\tvar sys = this.sys;\n\t\t\tvar msgs = sys.init.queuedMessages;\n\n\t\t\tthis.cursorOn = false;\n\t\t\tthis.blinking = true;\n\n\t\t\tvar w;\n\t\t\tvar h;\n\t\t\tif( config[0].indexOf(\"x\") > 0) {\n\t\t\t\tvar tmp = config[0].split(\"x\");\n\t\t\t\tw = parseInt( tmp[0] );\n\t\t\t\th = parseInt( tmp[1] );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar ww = window.innerWidth;\n\t\t\t\tvar wh = window.innerHeight;\n\n\t\t\t\tif( config[0].startsWith( \"%%\" )) {\n\t\t\t\t\tvar percentages = config[0].substr( 2 ).split(\",\");\n\t\t\t\t\tvar percentagex = percentages[0] / 100;\n\t\t\t\t\tvar percentagey = percentages[1] / 100;\n\t\t\t\t\tw = Math.floor(ww * percentagex);\n\t\t\t\t\th = Math.floor(wh * percentagey);\n\t\t\t\t}\n\t\t\t\telse if( config[0].startsWith( \"%\" )) {\n\t\t\t\t\tvar percentage = config[0].substr( 1 );\n\t\t\t\t\tpercentage = percentage / 100;\n\t\t\t\t\tw = Math.floor(ww * percentage);\n\t\t\t\t\th = Math.floor(wh * percentage);\n\t\t\t\t}\n\n\n\t\t\t}\n\n\n\n\t\t\tthis.cols = Math.floor( w / this.fontSizeIntW );\n\t\t\tthis.rows = Math.floor( h / this.fontSizeIntH );\n\n\t\t\t/* adjust w,h to fit exactly so many cols and rows */\n\t\t\tw = this.cols * this.fontSizeIntW;\n\t\t\th = this.rows * this.fontSizeIntH;\n\n\t\t\tvar fsw = this.fontSizeIntW;\n\t\t\tvar fsh = this.fontSizeIntH;\n\n\t\t\tthis.width = w;\n\t\t\tthis.height = h;\n\n\t\t\tconsole.log(\"Reinit with \" , w, h);\n\t\t\tconsole.log(\" colsXrows \" , this.cols, this.rows);\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.blinking = true;\n\n\t\t\tvar oc = this.colors;\n\t\t\toc.bg = 0;\n\t\t\toc.fg = 5;\n\t\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\t\toc.fgHTML = this.palette[ oc.fg ];\n\n\t\t\tsys.init.inputElement = document.body;\n\n\t\t\tthis.outDiv0 = document.createElement(\"div\");\n\t\t\tthis.outDiv1 = document.createElement(\"div\");\n\t\t\tthis.center = document.createElement(\"center\");\n\n\t\t\tthis.cvs = document.createElement(\"canvas\");\n\t\t\tthis.ctx = this.cvs.getContext('2d', {alpha: false});\n\t\t\tthis.ctx.strokeStyle = '#ffffff';\n\t\t\tthis.cX = 0;\n\t\t\tthis.cY = 0;\n\t\t\t//this.cvs = this.outEl;\n\n\t\t\tthis.cvs2 = document.createElement(\"canvas\"); //only used for scrolling, really needed??\n\t\t\tthis.ctx2 = this.cvs2.getContext('2d');\n\n\t\t\tthis.cvsCursor = document.createElement(\"canvas\");\n\t\t\tthis.ctxCursor = this.cvsCursor.getContext('2d' , {alpha: false} );\n\n\t\t\tthis.cache = [];\n\t\t\tthis.updCtxImageData = { synched: false }\n\n\t\t\tthis.cvs.width = w;\n\t\t\tthis.cvs.height = h;\n\t\t\tthis.cvs2.width = w;\n\t\t\tthis.cvs2.height = h;\n\t\t\tthis.cvsCursor.width = fsw;\n\t\t\tthis.cvsCursor.height = fsh;\n\n\t\t\tthis.offsets = [];\n\n\t\t\tvar ctx = this.ctx;\n  \t\tctx.font =  this.fontSizeCSS + \" \" + this.fontFamily;\n\t\t\t//ctx.font =  \"20px Verdana\";\n \t\t  ctx.textBaseline = \"bottom\";\n\t\t\t//ctx.fontStretch=\"expanded\";\n\n\t\t\tvar str = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890@+_!#%&/()=?*-:;,.'\\\"\";\n\t\t\tvar fsid2 = this.fontSizeIntW / 2;\n\t\t\tfor (const c of str) {\n\t\t\t\tvar tmp3 =  this.ctx.measureText( c )  ;\n\t\t\t\tvar tmp2 =  tmp3.width  ;\n\t\t\t\tvar tmp1 =  (tmp2 / 2) ;\n\t\t\t\tvar tmp0 =  fsid2 - tmp1 ;\n\t\t\t\tvar tmp = Math.floor( tmp0 );\n\t\t\t\tif( tmp<0 ) { tmp = 0; }\n\t\t\t\tthis.offsets[ c ] = tmp;\n \t\t }\n\n\t\t \tthis.oIndicatorChar = \"\\u2595\";\n\t\t  this.oIndicatorSize = this.ctx.measureText( this.oIndicatorChar )  ;\n\t\t\tthis.oIndicatorOffset = Math.floor( fsid2 - (this.oIndicatorSize.width / 2));\n\n\t\t\tthis.cells = [];\n\n\t\t\tvar cols = this.colors;\n\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tvar rowArray = [];\n\t\t\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\t\t\trowArray.push( { txt: \" \", fg: cols.fg, bg: cols.bg } );\n\t\t\t\t}\n\t\t\t\tthis.cells.push( rowArray );\n\t\t\t}\n\n\t\t\tdocument.body.appendChild( this.outDiv0 );\n\n\t\t\tthis.outDiv0.style.display = \"table\";\n\t\t\tthis.outDiv0.style.width = \"99%\";\n\t\t\tthis.outDiv0.style.height = \"99%\";\n\t\t\tthis.outDiv0.style.position = \"absolute\";\n\t\t\tthis.outDiv0.style.zIndex = \"10000\";\n\n\t\t\tthis.outDiv1.style.display = \"table-cell\";\n\t\t\tthis.outDiv1.style.verticalAlign = \"middle\";\n\n\t\t\tthis.cvs.style.marginLeft = \"auto\";\n\t\t\tthis.cvs.style.marginRight = \"auto\";\n\n\n\t\t\tthis.outDiv0.appendChild( this.outDiv1 );\n\t\t\tthis.outDiv1.appendChild( this.center );\n\t\t\tif( headerElementManager ) {\n\t\t\t\tthis.headerElementManager = headerElementManager;\n\t\t\t\tthis.center.appendChild( this.headerElementManager.get() );\n\t\t\t\tthis.headerElementManager.setDimensions( w, h );\n\n\t\t\t\tthis.headerElementManager.enable();\n\t\t\t}\n\t\t\tthis.center.appendChild( this.cvs );\n\n\n\t\t\tthis.cvs.focus( );\n\n\n \t\t  var _this = this;\n\n\t\t\tthis.blinkInterval = setInterval(function()  {\n\n\t\t\t\t \t_this._int_blink();\n\t\t\t\t}, 300);\n\n\t\t\t\tfor( var i=0; i<msgs.length; i++) {\n\t\t\t\t\tthis.writeln( msgs[ i ]);\n\t\t\t\t}\n\n\t\t\t this.clear();\n\n\n\t\t\t this.sys.log(\"CANVASCON Ready.\");\n\t}\n\n\n\tnotifyOnClick( handler, myFunction ) {\n\n\t\tthis.cvs.addEventListener( \"click\", function() {\n\t\t\thandler[myFunction]();\n\t\t} );\n\n\t}\n\n\thideInner() {\n\t\tthis.cvs.hidden = true;\n\t}\n\nshowInner() {\n\t\tthis.cvs.hidden = false;\n\t}\n\n\thide() {\n\t\tthis.init();\n\t\tif( !this.hidden ) {\n\t\t\tthis.outDiv0.hidden = true;\n\t\t\tthis.hidden = true;\n\t\t}\n\t}\n\n\n\n\tshow() {\n\t\tthis.init();\n\t\tif( this.hidden ) {\n\t\t\tthis.outDiv0.hidden = false;\n\t\t\tthis.hidden = false;\n\t\t}\n\t}\n\n\n\tgetElement() {\n\t\treturn null;\n\t}\n\n\tgfilter( f ) {\n\t\tthis.outDiv1.filter = f;\n\t\treturn;\n\t\tthis.ctx.filter = f;\n\t\tthis._int_Refresh();\n\t}\n\n\tblinkMode( mode ) {\n\t\tthis.blinking = mode;\n\t}\n\n\n\t_int_blinkOff() {\n\n\n\t\tif( !this.cursorOn ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\n\t\tvar x0 = (fsw * this.x);\n\t\tvar y0 = fsh * (this.y );\n\n\t\tvar ctx = this.ctx;\n\n\t\tthis.ctx.drawImage(this.cvsCursor, x0, y0);\n\n\t\tthis.cursorOn = false;\n\n\t}\n\n\t_int_storeset_color( fg, bg ) {\n\n\t\tthis.oldfg = fg;\n\t\tthis.oldbg = bg;\n\n\t\tvar oc = this.colors;\n\t\toc.fg = fg;\n\t\toc.bg = bg;\n\t\toc.fgHTML = this.palette[ oc.fg ];\n\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\toc.fgRGB = this.bmPalette[ oc.fg ];\n\t\toc.bgRGB = this.bmPalette[ oc.bg ];\n\n\t}\n\n\n\t_int_restore_color() {\n\n\t\tvar oc = this.colors;\n\t\toc.fg = this.oldfg;\n\t\toc.bg = this.oldbg;\n\t\toc.fgHTML = this.palette[ oc.fg ];\n\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\toc.fgRGB = this.bmPalette[ oc.fg ];\n\t\toc.bgRGB = this.bmPalette[ oc.bg ];\n\n\t}\n\n\t_int_blink() {\n\n\t\tif( ! this.blinking ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar currentCursorIsOn = this.cursorOn;\n\n\t\tthis.cursorOn = !this.cursorOn;\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\n\t\tvar x0 = (fsw * this.x);\n\t\tvar y0 = (fsh * this.y);\n\t\tvar oc = this.colors;\n\n\t\tvar ctx = this.ctx;\n\t\tvar cell = this.cells[ this.y][this.x ];\n\n\n\t\tif(  this.cursorOn ) {\n\n\t\t\t\t/* first we backup underneath cursor */\n\t\t\t\tthis.ctxCursor.drawImage(this.cvs, x0, y0, fsw, fsh, 0, 0, fsw, fsh);\n\n\t\t\t\t/* we decide the colors */\n\t\t\t\tvar col = this.colors.fgHTML;\n\t\t\t\tvar index = this.colors.fg;\n\t\t\t\tvar index2 = this.colors.bg;\n\n\t\t\t\t/*if cell.bg == cell.fg, use instead black on white or white on black */\n\t\t\t\tif( cell.fg == cell.bg ) {\n\t\t\t\t\tif( cell.fg == 0 ) {\n\t\t\t\t\t\tindex = 1;\n\t\t\t\t\t\tindex2 = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\tindex2 = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t/*if bg!=fg use cell colors*/\n\t\t\t\t\tindex = cell.fg;\n\t\t\t\t\tindex2 = cell.bg;\n\t\t\t\t}\n\n\t\t\t\tthis.paintCursor( x0, y0, cell.txt, index, index2, this.cursorMode == \"overwrite\" );\n\n\t\t\t\treturn;\n\n\t\t}\n\t\telse {\n\n\t\t\t//cursor off\n\t\t\tthis.ctx.drawImage(this.cvsCursor, x0, y0);\n\n\t\t}\n\n\t}\n\n\t_int_updateArea( srccells, x0, y0, x1, y1 ) {\n\n\t\tvar ctx = this.ctx;\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\t\tvar oc = this.colors;\n\n\t\tvar x; var y;\n\t\ttry {\n\n\t\tfor( y=y0; y<=y1; y++) {\n\t\t\tvar yy = fsh * y;\n\t\t\tvar offX =x0 * fsw;\n\t\t\t//for( x=x1; x>=x0; x--) {\n\t\t\tfor( x=x0; x<=x1; x++) {\n\t\t\t\tvar cell = this.cells[ y ][ x ];\n\t\t\t\tvar src = srccells[ y-y0 ][ x-x0 ];\n\t\t\t\tvar ch = src.txt;\n\n\t\t\t\toc.bg = src.bg;\n\t\t\t\toc.fg = src.fg;\n\n\t\t\t\toc.bgHTML = this.palette[ src.bg ];\n\t\t\t\toc.fgHTML = this.palette[ src.fg ];\n\t\t\t\toc.bgRGB = this.bmPalette[ src.bg ];\n\t\t\t\toc.fgRGB = this.bmPalette[ \tsrc.fg ];\n\n\t\t\t\tcell.txt = ch;\n\t\t\t\tcell.fg = src.fg;\n\t\t\t\tcell.bg = src.bg;\n\n\t\t\t\tthis._int_paintchar( offX , yy , ch );\n\t\t\t\toffX += fsw;\n\t\t\t}\n\t\t}\n\t} catch ( e ) {\n\t\tconsole.log(\"x= \" + x + \" y= \" + y);\n\t\tconsole.log(\"x0=\", x0, \"y0=\",y0, \"x1=\",x1,\"y1=\",y1);\n\t\tconsole.log(e);\n\t}\n\n\t}\n\n\n\t_int_Refresh() {\n\n\t\ttry {\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\t\tvar oc = this.colors;\n\t\tvar yy = 0;\n\n\t\tvar obg = oc.bg;\n\t\tvar ofg = oc.fg;\n\n\t\tfor( var y=0; y<=this.rows-1 ; y++) {\n\n\t\t\tvar offX =0;\n\n\t\t\tfor( var x=0; x<=this.cols-1 ;x++) {\n\t\t\t\t\n\t\t\t\tvar cell = this.cells[ y ][ x ];\n\t\t\t\tvar ch = cell.txt;\n\t\t\t\tvar fg = this.cells[ y ][ x ].fg;\n\t\t\t\tvar bg = this.cells[ y ][ x ].bg;\n\n\t\t\t\toc.bg = bg;\n\t\t\t\toc.fg = fg;\n\t\t\t\toc.bgHTML = this.palette[ bg ];\n\t\t\t\toc.fgHTML = this.palette[ fg ];\n\t\t\t\toc.bgRGB = this.bmPalette[ bg ];\n\t\t\t\toc.fgRGB = this.bmPalette[ \tfg ];\n\n\t\t\t\tthis._int_paintchar( offX , yy , ch );\n\t\t\t\toffX += fsw;\n\t\t\t}\n\t\t\tyy += fsh;\n\t\t}\n\n\n\t\toc.bg = obg;\n\t\toc.fg = ofg;\n\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\toc.fgHTML = this.palette[ oc.fg ];\n\t\toc.bgRGB = this.bmPalette[ oc.bg ];\n\t\toc.fgRGB = this.bmPalette[ oc.fg ];\n\t} catch ( e ) {\n\t\tconsole.log(\"x= \" + x + \" y= \" + y);\n\t\tconsole.log(e);\n\t}\n\n\t}\n\n\tpaintCursor( x, y, ch , col1, col2, mode ) {\n\t\tthis._int_storeset_color( col2, col1 );\n\t\tthis._int_paintchar( x, y, ch );\n\t\tif(  mode ) {\n\t\t\tthis._int_drawIndicator( x, y, ch );\n\t\t}\n\t\tthis._int_restore_color();\n\t}\n\n\n\t_int_drawIndicator( x, y, c ) {\n\n\t\tvar ctx = this.ctx;\n\n\t\tctx.font =  this.fontSizeCSS + \" \" + this.fontFamily;\n\t\tctx.textBaseline = \"top\";\n\n\t\tctx.fillStyle = this.colors.fgHTML\n\t\tctx.fillRect(  x,y + (4*this.fontSizeIntH)/5, this.fontSizeIntW, (this.fontSizeIntH)/5 );\n\n\t}\n\n\tsetCharacterBank( addr, mode ) {\n\t\tthis.characterbank[addr] = mode;\n\t}\n\n\t_int_paintchar( x, y, ch ) {\n\n\t\t\tthis.updCtxImageData.synched = false;\n\n\t\t\tvar oc = this.colors;\n\t\t\tvar index = ch + \":\"+oc.bg+\":\"+oc.fg;\n\t\t\tif( ch == \" \") { var index = ch + \":\"+oc.bg; }\n\n\t\t\tvar cacheel = this.cache[ index ];\n\t\t\tvar fsw = this.fontSizeIntW;\n\t\t\tvar fsh = this.fontSizeIntH;\n\n\t\t\tif( ! cacheel ) {\n\n\t\t\t\tvar cvs = document.createElement(\"canvas\");\n\n\t\t\t\tvar code = ch.charCodeAt(0);\n\n/*\n\twhat is this.bmFontEnable ??\n\n\t\tvar UNICODE=0;\n\t\tvar CUSTOM=1;\n\t\tvar GLYPHS0=2;\n\t\tvar GLYPHS1=3;\n\t\tvar GLYPHS2=4;\n\t\tvar GLYPHS3=5;\n\t\tthis.characterbank0 = GLYPHS0;\n\t\tthis.characterbank1 = GLYPHS1;\n\t\tthis.characterbank2 = GLYPHS2;\n\t\tthis.characterbank3 = GLYPHS3;\n\n\t\tthis.bankDefaultBaseAddr = 256;\n\t\tthis.bankBaseAddr = this.bankDefaultBaseAddr;\n\n*/\n\n\t\t\t\tvar GLYPHS0=2;\n\t\t\t\tvar GLYPHS1=3;\n\t\t\t\tvar GLYPHS2=4;\n\t\t\t\tvar GLYPHS3=5;\n\n\t\t\t\tvar bitmapchar = false;\n\t\t\t\tvar glyphs;\n\t\t\t\tvar bitmapchar0 = ( code >= this.bankBaseAddr && code < (this.bankBaseAddr + 512));\n\t\t\t\tvar charAddr;\n\t\t\t\tvar relCode;\n\t\t\t\t//var bank;\n\n\n\t\t\t\tif( bitmapchar0  ) {\n\n\t\t\t\t\tif ( code < (this.bankBaseAddr + 128) && this.characterbank0 >= GLYPHS0) {\n\t\t\t\t\t\t bitmapchar = true;\n\t\t\t\t\t\t //bank = 0;\n\t\t\t\t\t   //glyphs = this.characterbank0;\n\t\t\t\t\t\t// bankaddr = 0;\n\t\t\t\t\t\t// if( )\n\t\t\t\t\t\t// charAddr = code - this.bankBaseAddr;\n\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr );\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank0 ] + relCode;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( (code >= this.bankBaseAddr + 128) && code < (this.bankBaseAddr + 256) && this.characterbank1 >= GLYPHS0) {\n\t\t\t\t\t\tbitmapchar = true;\n\t\t\t\t\t\t//bank = 1;\n\t\t\t\t\t\t//glyphs = this.characterbank1;\n\t\t\t\t\t\t//charAddr = code - (this.bankBaseAddr);\n\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr + 128);\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank1 ] + relCode;\n\n/*\n\t\t\t\t\t\texample:\n\t\t\t\t\t\t\tcode = 130\n\t\t\t\t\t\t\tthis.characterbank1 = GLYPHS2;\n\n\t\t\t\t\t\t\tcharBaseAddr = 130-128 = 2\n\t\t\t\t\t\t\tcharAddr = addr( GLYPHS2 ) + 2;\n*/\n\t\t\t\t\t}\n\t\t\t\t\telse if ( (code >= this.bankBaseAddr + 256 ) && code < (this.bankBaseAddr + 384) && this.characterbank2 >= GLYPHS0) {\n\t\t\t\t\t\tbitmapchar = true;\n\t\t\t\t\t\t//glyphs = this.characterbank2;\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr + 256);\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank2 ] + relCode;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( (code >= this.bankBaseAddr + 384 ) && this.characterbank3 >= GLYPHS0) {\n\t\t\t\t\t\tbitmapchar = true;\n\t\t\t\t\t\t//glyphs = this.characterbank3;\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr + 384);\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank3 ] + relCode;\n\t\t\t\t\t}\n\n\t\t\t\t\t//bankaddr =\n\n\t\t\t\t}\n\n\t\t\t\tif( code > 256 && !bitmapchar ) {\n\t\t\t\t\tvar tmp3 =  this.ctx.measureText( ch )  ;\n\t\t\t\t\tvar tmpw =  Math.floor( tmp3.width ) ;\n\t\t\t\t\tif( tmpw > fsw ) {\n\t\t\t\t\t\tfsw = tmpw;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcvs.width = fsw;\n\t\t\t\tcvs.height = fsh;\n\n\t\t\t\tvar ctx = cvs.getContext('2d', {alpha: false});\n\n\t\t\t\tif( bitmapchar ) {\n\n\t\t\t\t\tvar grid = this.bfont.getCharData( charAddr ); //code-this.bankBaseAddr );\n\n\t\t\t\t\tvar imgdata = ctx.getImageData(0, 0, fsw, fsh );\n\t\t\t\t\tvar sd  = imgdata.data;\n\n\t\t\t\t\tvar offset;\n\t\t\t\t\tvar yoffset = 0, xoffset=0;\n\t\t\t\t\tvar yofflen = 4 * fsw;\n\t\t\t\t\tvar xofflen = 4;\n\n\t\t\t\t\tvar bgc = this.colors.bgRGB;\n\t\t\t\t\tvar fgc = this.colors.fgRGB;\n\n \t\t\t\t\tfor( var yy=0; yy<fsh; yy++) {\n\n\t\t\t\t\t\txoffset = 0;\n \t\t\t\t\t\tfor( var xx=0; xx<fsw; xx++) {\n\t\t\t\t\t\t\tvar pix = grid[yy][xx];\n\t\t\t\t\t\t\toffset = xoffset + yoffset;\n\n\t\t\t\t\t\t\tif( pix ) {\n\t\t\t\t\t\t\t\tsd[ offset + 0] = fgc.r;\n\t\t\t\t\t\t\t\tsd[ offset + 1] = fgc.g;\n\t\t\t\t\t\t\t\tsd[ offset + 2] = fgc.b;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tsd[ offset + 0] = bgc.r;\n\t\t\t\t\t\t\t\tsd[ offset + 1] = bgc.g;\n\t\t\t\t\t\t\t\tsd[ offset + 2] = bgc.b;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsd[ offset + 3] = 255;\n\t\t\t\t\t\t\txoffset += xofflen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tyoffset += yofflen;\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.putImageData( imgdata, 0, 0);\n\t\t\t\t}\n/*\t\t\t\telse if ( code==32 && oc.bg==0 ) {\n//this.ctx.drawImage( cacheel.cvs, x, y );\n\t\t\t\t\tthis.ctx.clearRect(x, y, fsw, fsh);\n\t\t\t\t\t//ctx.fillRect(  0,0, fsw, fsh);\n\t\t\t\t\treturn;\n\t\t\t\t}\n*/\n\t\t\t\telse {\n\t\t\t\t\tctx.font =  this.fontSizeCSS + \" \" + this.fontFamily;\n\t\t\t\t\tctx.textBaseline = \"top\";\n\n\t\t\t\t\tvar off = 0;\n\t\t\t\t\tif( this.offsets[ ch ] ) {\n\t\t\t\t\t\toff = this.offsets[ ch ];\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.fillStyle = this.colors.bgHTML;\n\t\t\t\t\tctx.fillRect(  0,0, fsw, fsh);\n\n\t\t\t\t\tctx.fillStyle = this.colors.fgHTML;\n\t\t\t\t\tctx.fillText( ch , off, 0);\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache[ index ] = { ctx: ctx, cvs: cvs, w: fsw } ;\n\t\t\t\tcacheel = this.cache[ index ];\n\n\t\t\t}\n\n\t\t\tthis.ctx.drawImage( cacheel.cvs, x, y );\n\t\t}\n\n\t\top_gcolor( params ) {\n\t\t\t\tvar htmlCol = this.palette[ params.c ];\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.strokeStyle = htmlCol;\n\n\t\t}\n\n\n\t\top_line( params ) {\n\n\t\t\tthis.updCtxImageData.synched = false;\n\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tvar x0 =params.x0;\n\t\t\tvar y0 =params.y0;\n\t\t\tif( x0 < 0) {\n\t\t\t\tx0=this.cX;\n\t\t\t}\n\t\t\tif( y0 < 0) {\n\t\t\t\ty0=this.cY;\n\t\t\t}\n\n\t\t\tctx.beginPath(); // Start a new path\n\t\t\tctx.moveTo( x0,  y0); // Move the pen to (30, 50)\n\t\t\tctx.lineTo(params.x1, params.y1); // Draw a line to (150, 100)\n\t\t\tctx.stroke(); // Render the path\n\n\t\t\tthis.cX = params.x1;\n\t\t\tthis.cY = params.y1;\n\n\t\t}\n\n\t\tnative( operation ) {\n\n\t\t\tthis[ \"op_\" + operation.action]( operation.params);\n\t\t}\n\n\n\t\tgfxUpdate( record ) {//see 152\n\n\t\t\tvar lineLen = this.width * 4;\n\t\t\tvar cellLen = 4;\n\n\t\t\tvar pixels = record.pixels;\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tvar upd = this.updCtxImageData;\n\n\t\t\tif(! upd.synched ) {\n\t\t\t\tupd.imd = ctx.getImageData( 0, 0, this.width, this.height );\n\t\t\t\tupd.data = upd.imd.data;\n\t\t\t\tupd.synched = true;\n\t\t\t}\n\n\t\t\tvar pdata = upd.data;\n\t\t\tvar imd = upd.imd;\n\n\t\t\tfor( var i=0; i< pixels.length; i++) {\n\t\t\t\tvar p = pixels[ i ];\n\n\t\t\t\tvar xrel = p.x;\n\t\t\t\tvar yrel = p.y;\n\n\t\t\t\tvar offset = ( yrel * lineLen ) + xrel * cellLen;\n\n\t\t\t\tvar c = this.bmPalette[ p.c ];\n\t\t\t\tpdata[offset+0] = c.r;\n\t\t\t\tpdata[offset+1] = c.g;\n\t\t\t\tpdata[offset+2] = c.b;\n\n\t\t\t}\n\t\t\tctx.putImageData(imd, 0, 0);\n\n\t\t}\n\n\n\t\tupdate( p, list ) {\n\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\n\t\t\tthis.x = p.cx;\n\t\t\tthis.y = p.cy;\n\t\t\tif(\n\t\t\t\tthis.x<0 || this.y<0 ||\n\t\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t\t) {\n\t\t\t\tconsole.log(\"ouch\");\n\n\t\t\t}\n\n\t\t\tthis.colors.bgHTML = this.palette[ p.bg ];\n\t\t\tthis.colors.fgHTML = this.palette[ \tp.fg ];\n\t\t\tthis.colors.bgRGB = this.bmPalette[ p.bg ];\n\t\t\tthis.colors.fgRGB = this.bmPalette[ \tp.fg ];\n\n\t\t\tthis.colors.bg = p.bg;\n\t\t\tthis.colors.fg = p.fg;\n\t\t\tthis.cursorMode = p.cursorMode;\n\n\t\t\tfor( var i=0; i< list.length; i++) {\n\n\t\t\t\tvar el = list[ i ];\n\t\t\t\tthis._int_updateArea( el.cells, el.x1, el.y1, el.x2, el.y2 );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tupdateAll( p, srccells ) {\n\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\n\t\t\tthis.x = p.cx;\n\t\t\tthis.y = p.cy;\n\n\t\t\tif(\n\t\t\t\tthis.x<0 || this.y<0 ||\n\t\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t\t) {\n\t\t\t\tconsole.log(\"ouch\");\n\n\t\t\t}\n\t\t\tthis.colors.bgHTML = this.palette[ p.bg ];\n\t\t\tthis.colors.fgHTML = this.palette[ \tp.fg];\n\t\t\tthis.colors.bgRGB = this.bmPalette[ p.bg ];\n\t\t\tthis.colors.fgRGB = this.bmPalette[ \tp.fg ];\n\n\t\t\tthis.colors.bg = p.bg;\n\t\t\tthis.colors.fg = p.fg;\n\t\t\tthis.cursorMode = p.cursorMode;\n\n\t\t\tthis._int_updateArea( srccells, 0,0, this.cols -1, this.rows -1 );\n\n\t\t}\n\n\tclear() {\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tvar b=0;\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tb=1-b;\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tthis.cells[ y ][ x ].txt = \" \";\n\t\t\t\tthis.cells[ y ][ x ].fg = this.colors.fg;\n\t\t\t\tthis.cells[ y ][ x ].bg = this.colors.bg;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.ctx.fillStyle = this.colors.bgHTML;\n\t\tthis.ctx.fillRect(0, 0, this.cvs.width, this.cvs.height);\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\n\t__int_nl() {\n\t\tthis.x = 0;\n\t\tthis.y ++;\n\t\tif( this.y >= this.rows ) {\n\t\t\tthis.__int_scrollDown();\n\t\t\tthis.y = this.rows -1;\n\t\t}\n\t}\n\n\twriteln( str ) {\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\t\t\t//console.log( \"writeln\" + str );\n\n\t\t\tfor (const c of str) {\n\t\t\t  this.__int_write_direct_ch( c );\n\t\t\t}\n\t\t\tthis.__int_nl();\n\t}\n\n\n\t__int_write_direct_ch( ch ) {\n\n\t\tvar cell = this.cells[ this.y ][ this.x ];\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tcell = ch.txt;\n\n\t\tvar ctx = this.ctx;\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\n\t\tvar off = 0;\n\t\tif( this.offsets[ ch.txt ] ) {\n\t\t\toff = this.offsets[ ch.txt ];\n\t\t}\n\n\t\tthis.ctx.fillStyle = this.colors.bgHTML;\n\t\tctx.fillRect(  (fsw * this.x) , fsh * (this.y ), fsw, fsh);\n\n\t\tctx.fillStyle = this.colors.fgHTML;\n\t\tctx.fillText( ch.txt , off + (fsw * this.x) , fsh * (this.y +1));\n\n\t\tthis.x++;\n\t\tif( this.x >= this.cols ) {\n\t\t\tthis.x = 0;\n\t\t\tthis.__int_nl();\n\t\t}\n\t}\n\n\tgetDimensions() {\n\t\t\treturn [this.cols, this.rows ];\n\t}\n\n\thasPixels() {\n\t\treturn true;\n\t}\n\n\tgetBitmapDimensions() {\n\t\treturn [ this.width, this.height ];\n\t}\n\n\t/*plot( x, y, col ) {\n\t\tvar ctx = this.ctx;\n\n\t\tconst pixel = ctx.getImageData( x, y, 1, 1);\n\t\tconst pdata = pixel.data;\n\n\t\tvar c = this.bmPalette[ col ];\n\t\tpdata[0] = c.r;\n\t\tpdata[1] = c.g;\n\t\tpdata[2] = c.b;\n\n\t\tctx.putImageData(pixel, x, y);\n\n\t}*/\n\n\tgetColumCount() {\n\t\treturn this.cols;\n\t}\n\n\tgetRowCount() {\n\t\treturn this.rows;\n\t}\n\n\n\t__int_scrollDown() {\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tfor( var y=0; y<this.rows-1; y++) {\n\t\t\t\tvar cell = this.cells[ y ][ x ];\n\t\t\t\tvar cellyp1 = this.cells[ y+1 ][ x ];\n\n\t\t\t\tcell = cellyp1;\n\n\t\t\t}\n\t\t}\n\n\t\t//fill last row\n\t\tvar y2 = this.rows-1;\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tvar cell = this.cells[ y2 ][ x ];\n\t\t\tcell.txt = \" \";\n\t\t}\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntW;\n\t\tthis.ctx2.drawImage(this.cvs, 0, 0);\n\t\tvar w = this.cvs2.width;\n\t\tvar h = this.cvs2.height-fsh;\n\n\t\tthis.ctx.fillStyle = this.colors.bg;\n\t\tthis.ctx.fillRect(0, 0, this.cvs.width, this.cvs.height);\n\n\t\tthis.ctx.drawImage(this.cvs2, 0, fsh, w, h-fsh, 0, 0, w, h-fsh );\n\t\t//drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)\n\n\t}\n\n}\n\nexport { KERNALMODULE as default};\n","import  mrBeepChannelClass   from    './mrbeep-channel.js';\nimport  mrBeepClass   from           './mrbeep.js';\n\n\nclass KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\t}\n\n\tdestroy() {\n\t}\n\n\n\tinit() {\n\t\tthis.mrBeep = new mrBeepClass( mrBeepChannelClass );\n\t}\n\n\treset() {\n\t\t\tthis.mrBeep.reset();\n\t}\n\n  setVolume( x ) {\n    this.mrBeep.setVolume( x );\n  }\n\n  channelVolume( channel, x ) {\n    this.mrBeep.channelVolume( channel, x );\n  }\n\n\tchannelFrequency( channel, f ) {\n    this.mrBeep.channelFrequency( channel, f );\n  }\n\n  channelSetAttackDecayRelease( channel, attackT, decayT, releaseT ) {\n    this.mrBeep.channelSetAttackDecayRelease( channel, attackT, decayT, releaseT );\n  }\n\n  channelSetSustainLevel( channel,  sustainV ) {\n    this.mrBeep.channelSetSustainLevel( channel,  sustainV );\n  }\n\n\n  playBeep( channel, frequency, duration ) {\n    this.mrBeep.playBeep( channel, frequency, duration );\n  }\n\n  playSound( channel, frequency, duration ) {\n    this.mrBeep.playSound( channel, frequency, duration );\n  }\n\n\n  startSound( channel, frequency ) {\n    this.mrBeep.startSound( channel, frequency );\n  }\n\n  releaseSound( channel, frequency ) {\n    this.mrBeep.releaseSound( channel, frequency );\n  }\n\n\n\taddEffect( channel,  type , value, time ) {\n\n\t\tthis.mrBeep.addEffect( channel,  type , value, time );\n\n  }\n\n  clearEffect( channel ) {\n\n\t\tthis.mrBeep.clearEffect( channel );\n\n  }\n\n\tplayEffect( channel, freq ) {\n\t\tthis.mrBeep.playEffect( channel, freq );\n\t}\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  /* QFS - Qualified file system */\n  /* Qualified paths can be used to find files on other file system*/\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n\n    this.sys = sys;\n    this.key = sys.SIG + \"__LSConfirmed\" ;\n\n    this.warningOngoing = false;\n\n    console.log(\"simplewarning initialized\");\n\n    sys.notify = this;\n  }\n\n  init() {\n\n  }\n\n  simpleWarning() {\n      if( this.warningOngoing ) {\n        return;\n      }\n\n      this.oldBGColor = document.body.style.backgroundColor;\n      document.body.style.backgroundColor = \"#ffffff\";\n\n      var __this = this;\n      function clearWarning() {\n        document.body.style.backgroundColor = __this.oldBGColor;\n        __this.warningOngoing = false;\n      }\n\n      var myTimeout = setTimeout(clearWarning, 200);\n\n  }\n\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  /* QFS - Qualified file system */\n  /* Qualified paths can be used to find files on other file system*/\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n\n    this.sys = sys;\n    this.disable = sys.bootCfg.warnings.privacyMute;\n    this.key = sys.SIG + \"__LSConfirmed\" ;\n    this.verified = false;\n    this.denied = false;\n\n    console.log(\"PrivWarning initialized\");\n\n  }\n\n  init() {}\n\n  confirmLocalStorage() {\n\n    if( this.denied ) {\n      return false;\n    }\n\n    var confirmed = localStorage.getItem( this.key );\n    if( confirmed == \"true\" ) { return true; }\n\n    if( this.disable ) {\n      return true;\n    }\n\n\n    var ok = confirm(\"!! Do you allow \"+\n      this.sys.SIG +\n      \" to write to local browser storage !!\\n\"+\n      \"This is needed to simulate a local harddisk.\\n\" +\n      \" If you do not agree, you can still use the system,\\n\"+\n      \" but you won't be able to save any files, or session information.\\n\\n\"+\n      \"All information will only be stored on the local storage,\\n\"+\n      \" and will not be shared with any server, unless you will give explicit permission.\\n\\n\"+\n      \"Thank you!\"\n    );\n\n    if( !ok ) { this.denied = true; return false; }\n\n    localStorage.setItem( this.key, \"true\" );\n\n    return true;\n  }\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {}\n\n  init() {}  \n\n  getKey() {\n     return null;\n  }\n\n  setInputHandler( clazz, prefix ) {\n  }\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n    this.evtQueueKeyPress = [];\n    this.handler = null;\n    this.prefix = \"\";\n    this.cfg = sys.bootCfg.keyboard;\n  }\n\n  init() {\n    var target = this.init.inputElement;\n\n    if( target ) {\n        this.target = window;\n    }\n    else {\n      this.target = window;\n    }\n  }\n\n  getKey() {\n\n    if( this.handler ) {\n      return null;\n    }\n    if( this.evtQueueKeyPress.length == 0 ) {\n      return null;\n    }\n\n    return this.evtQueueKeyPress.shift();\n  }\n\n\n  unsetInputHandler() {\n    if( this.elFun ) {\n      this.target.removeEventListener(\"keydown\", this.elFun  );\n      this.elFun = null;\n    }\n  }\n\n  checkIfAllowDefault( e ) {\n    var tmp = 1;\n    var ad = this.cfg.allowDefault;\n    if( ! ad ) {\n      return true;\n    }\n\n    if( ad.all ) { return true }\n\n    var l = ad.events;\n    for( var i=0; i<l.length; i++) {\n      var e2 = l[i];\n      if( e2 == e.key ) {\n        return true;\n      }\n    }\n    return false;\n    //98//77/88(8(88999==007777////iiii(889[]{})))\n  }\n\n  setInputHandler( clazz, prefix ) {\n    this.handler = clazz;\n    this.prefix = prefix;\n\n    if( this.elFun ) {\n      this.target.removeEventListener(\"keydown\", this.elFun  );\n      this.elFun = null;\n    }\n\n    var queuekp = this.evtQueueKeyPress;\n    var con = this.sys.out;\n    var handler = this.handler;\n    var prefix = this.prefix;\n    var _this = this;\n\n    var f = function(event) {\n\n    //console.log( event ) ;\n\n    var kEvent =\n      {\n          type: \"keydown\",\n          key: event.key,\n          keyLabel: event.key,\n          shiftKey: event.shiftKey,\n          ctrlKey: event.ctrlKey\n      };\n\n\n      if( event.key.length > 1) {\n        kEvent.key = null;\n        kEvent.keyLabel = event.key;\n        if( event.key == \"Enter\" ) {\n          kEvent.key = \"\\n\";\n        }\n      }\n\n      if( !_this.checkIfAllowDefault( event )) {\n        event.preventDefault();\n      }\n\n      if( handler ) {\n        handler[ prefix + \"KeyHandler\" ]( kEvent );\n      } else {\n        queuekp.push( kEvent );\n      }\n    };\n\n    this.elFun = f;\n\n    this.target.inputMode = \"text\";\n    this.target.addEventListener(\"keydown\", f);\n  }\n\n}\n\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n    this.node  = document.body;\n    document.body.id = \"top\";\n    this.isAttr = false;\n  }\n\n  init() {\n  }\n\n  executeFunction( paramArray ) {\n    if( paramArray[0] == \"body.style.backgroundImage\") {\n      document.body.style.backgroundImage = \"url('\" +paramArray[1]+ \"')\";\n      document.body.style.backgroundSize = \"cover\";\n    }\n  }\n\n  execute( htmlCodeArr ) {\n    var htmlCode = htmlCodeArr[0];\n    console.log( \"execute\",  htmlCode );\n\n    var handle = htmlCode.htmlHandle;\n    if( handle ) {\n      this.setnode( handle );\n    }\n    else {\n      this.isAttr = false;\n    }\n\n    if( this.node == null ) {\n        console.log(\"invalid html root\");\n        return; //TODO back propagate error\n    }\n\n    if( this.isAttr == false ) {\n      /* element */\n\n      if( htmlCode.htmlAppend) {\n        var s = document.createElement(\"span\");\n        s.innerHTML = htmlCode.htmlValue;\n\n        const list = s.childNodes;\n        var arr = [];\n        for (let i = 0; i < list.length; i++) {\n            arr.push( list[i] );\n        }\n\n        for (let i = 0; i < arr.length; i++) {\n            this.node.appendChild( arr[i]  );\n        }\n\n        s = null;\n\n      }\n      else {\n        if( this.node.id == \"top\" ) {\n          console.log(\"Cannot replace body code. it would crash the console!\")\n          return;\n        }\n\n        this.node.innerHTML = htmlCode.htmlValue;\n      }\n    }\n    else {\n      /* attribute */\n\n      var attr = this.node.attributes.getNamedItem( this.attrName );\n      if( attr == null ) {\n        console.log(\"Attr '\"+this.attrName+\"' not found on html node \"+this.node.id+\"!\")\n        return;\n      }\n      attr = attr.nodeValue;\n\n      if( htmlCode.htmlAppend) {\n        attr = attr + htmlCode.htmlValue;\n      }\n      else {\n        attr = htmlCode.htmlValue;\n      }\n\n      this.node.setAttribute( this.attrName, attr );\n    }\n\n  }\n\n\n  setnode( handle ) {\n\n    console.log( \"setnode\",  handle );\n    this.isAttr = false;\n\n    if( handle == \"..\" ) {\n      this.node  = this.node.parentNode;\n    }\n    else {\n      var parts = handle.split(\".\");\n      var attrName = null;\n      var elName = null;\n\n      if( parts.length > 1) {\n        elName = parts[0];\n        attrName = parts[1];\n      }\n      else {\n        elName = handle;\n      }\n\n      if( elName != \"\" ) {\n        var el = document.getElementById(  elName  );\n        if( el ) {\n          this.node = el;\n        }\n        else {\n          console.log(\"could not find\", handle);\n          return;\n        }\n      }\n\n      if( attrName != \"\" && attrName != null ) {\n        this.isAttr = true;\n        this.attrName = attrName;\n    }\n\n  }\n\n}\n/*\n\n\n-- flavour 1\n\nOPEN \"html://\" FOR OUTPUT AS #1\nPRINT #1, \"<b>hello world </b>\"\nCLOSE #1\n\n-- flavour 2\n\nHTM <b id=\"mylabel\">hello world</b>\nHTMINNER \"mylabel\", \"hello 2\"\nHTMCLEAR \"mybody\"\n\nHTM \"b\", \"mylabel\" TO el\nHTMTEXT \"hello world\"\n\n-- flavour 2b\n\n; stay on same line\n+ stay in element\n\n\nHTM \"b\" TO el\nHTMTEXT el, \"hello world\"\n\n\nHTM \"b\"+\nHTMTEXT \"hello world\"+\nHTM \"br\"\nHTMTEXT \"hello world2 \"\n\n\n\n-- flavour 3\n\nHTAG \"b\";\nHTEXT \"hello world\";\nHCLOSE;\n\n-- flavour 4\n\nb = html(\"b\")\nhtml b, \"hello word\"\nsleep\nhtml b, \"hello my world\"\n\ntable = html(\"table\")\n\n--- flavour 5\n\n  #add tag\n\n  b=htag(\"b\")\n\n  or htag \"b\" to b\n\n  or htag \"b\" : REM implicit output variable hnode\n     b = hnode\n\n  hclr b\n  hprint b, \"hello world1\"\n  hprint b, \"hello world2\"\n\n\n  htag \"div\"\n  hstyle hnode add \"bg-color=red\"\n  hstyle hnode add \"font-size=10px\"\n  hprint div, \"hello world1\"\n\n  htag \"div\" in div\n  hstyle hnode add \"bg-color=blue\"\n  hprint div, \"hello world1\"\n\n  console \"\"\n\n\n  ---\n\n  h \"\" to \"<body>\"\n  h \"<div id=1000>Hello world</div>\"\n  h \"\" to 1000\n  hattr \"1000.style\" set     \"background-color=green\"\n  hattr \"1000.style\" append  \";color=red\"\n\n  hshow \"1000\", 0\n  sleep 1\n  hshow \"1000\", 0\n\n  htext \"1234\";\n\n\n----------------\n\ncontent usecases\nc1a append         >\"\"\nc1b append text\nc1c append text with newline\nc2 clear          CLR\nc3 overwrite      \"\"\nc4 get\n\nattr usecases\na1 set attribute\na2 append attribute\na3 get\n\ntarget usecases\nt1 current target      <nothing>\nt2 explicit target     <target>,\"<html>\"\nt3 jump to new target hpos hjmp, hgoto htmlj command\n\n\n*t1\nimplicit :  html \"<b>implicitly in current parent</b>\"\n\n*t2\nexplicit :\n    html 1000, \"<b>explicitly in specified parent</b>\"\n    or\n    html \"<b>explicitly in specified parent</b>\" to 1000\n\n*t3\nexplicit :  html to 1000\n\n\n\n  usecases\n  1a set body\n  1b clear body\n  2 append element in body\n  3 clear Element\n  4 append element in body\n  5 add text to element\n  6 add text to element on same line\n  7 add text to element on next line\n  8 set attr to element\n  9 append into element attr\n\n\n\n  target-and-append-usecases\n  ta1 append to current target\n  ta2 overwrite current target\n\n\n  uc 1a\n  h \"<center>hello world</center>\" to \"<body>\"\n\n  uc 2\n  h \"<div>Hello world</div>\"\n\n  uc 3\n  h \"<div id=1000>Hello world</div>\"\n  h \"\" to 1000\n\n  uc 4\n  h \"<div id=1000>Hello world</div>\"\n  h \"<b>Hello bold world</b>\" to 1000\n\n  uc 5\n  h \"<div id=1000>Hello world</div>\"\n  htxt \"Hello bold world\"\n\n  uc 6\n  h \"<div id=1000>Hello world</div>\"\n  htxt \"Hello bold world\";\n  htxt \"Hello bold world2\"\n\n  uc 7\n  h \"<div id=1000>Hello world</div>\"\n  htxt \"Hello bold world\"\n  htxt \"Hello bold world2\"\n\n\n\n*/\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {\n\n    this.apps = [];\n    this.sys  = sys;\n    this.audioInitFlag = false;\n\n  }\n\n  audioInit() {\n\n    if( this.audioInitFlag ) {\n      return;\n    }\n\n    var sys = this.sys;\n    var audio = sys.audio;\n    this.audio = audio;\n\n    audio.channelVolume( 0, 1  );\n    audio.setVolume(1);\n\n    this.audioInitFlag = true;\n  }\n\n  init() {\n    var sys = this.sys;\n    var con = sys.out;\n\n    this.cfg = this.sys.bootCfg;\n    this.settings = {}; //settings set by the user, ex: the theme of the screen editor\n\n    var htmlwrapper = sys.m.htmlwrapper;\n    var display = sys.m.displaymodes;\n\n    this.out = con;\n\n    this.menu = sys.m.basicmenu;\n\n    if( sys.staticTarget ) {\n      this.worker = new Worker( \"basicworker.js\"   );\n    }\n    else {\n      if( sys.dynamicMinTarget ) {\n        this.worker = new Worker( \"sys/modules/basic/worker/workerbootstrap_min.js\"   );\n      }\n      else {\n        this.worker = new Worker( \"sys/modules/basic/worker/workerbootstrap_max.js\"   );\n      }\n    }\n\n    this.sys.m.qfs.loadFile( \"cache://settings.cfg\", { clazz: this, method: \"initMore\" } );\n\n  }\n\n/*\n  loadedApp( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n    this.out.blinkMode( false );\n    this.worker.postMessage({ type: \"loadpgm\", pgmData: response.data, QPath: path });\n\n  }\n  */\n\n  initMore( settingsPath, cbMessage, settingsLoadResponse ) {\n\n    var sys = this.sys;\n    var con = sys.out;\n    var audio = sys.audio;\n    var htmlwrapper = sys.m.htmlwrapper;\n    var display = sys.m.displaymodes;\n    var colors = undefined;\n    if( settingsLoadResponse.success ) {\n      colors = settingsLoadResponse.data.colors;\n    }\n\n    this.worker.postMessage(\n        {\n          type: \"inittxtarea\",\n          w: con.getColumCount(),\n          h: con.getRowCount()\n        }\n    );\n\n    this.worker.postMessage(\n        {\n          type: \"initcolors\",\n          colors: colors\n        }\n    );\n\n    this.worker.postMessage(\n        {\n          type: \"systeminfo\",\n          modes: display.getModes(),\n          mode: display.getCurrentMode(),\n          windowWidth: window.innerWidth,\n  \t\t\t\twindowHeight: window.innerHeight\n        }\n    );\n\n    this.worker.postMessage(\n        {\n          type: \"setcfg\",\n          cfg: this.cfg\n        }\n    );\n\n    var hasPixels = con.hasPixels();\n    var bWH = [-1,-1];\n    if( hasPixels ) {\n       bWH = con.getBitmapDimensions();\n    }\n\n    this.worker.postMessage(\n         {\n           type: \"initbitmap\",\n           w: bWH[ 0 ],\n           h: bWH[ 1 ]\n         }\n    );\n\n    var _parent = this;\n    this.worker.onmessage = function(e) {\n\n        var m = e.data.message;\n        var t = e.data.type;\n\n        if( t == \"syslog\" ) {\n           sys.log(\"BWSYS:\", e.data.message );\n        }\n        else if( t == \"syserr\" ) {\n           sys.logerr(\"BWERR:\", e.data.message );\n        }\n        else if( t == \"write\" ) {\n           for( var i =0; i<m.length; i++) {\n             con.write( m[i] );\n           }\n        }\n        else if( t == \"writeln\" ) {\n          for( var i =0; i<m.length; i++) {\n            con.writeln( m[i] );\n          }\n        }\n        else if( t == \"writec\" ) {\n          con.writec( m );\n\n        }\n        else if( t == \"border\" ) {\n\n          document.body.style.backgroundColor = con.htmlColor( m.d );\n\n        }\n        else if( t == \"gfilter\" ) {\n\n          con.gfilter( m.d );\n\n        }        \n        else if( t == \"audio\" ) {\n\n          _parent.audioInit();\n\n          //var audio = this.audio;\n          var method = m.method;\n          var parCount = m.parCount;\n          if( parCount == 1 ) {\n            audio[method]( m.p1 );\n          }\n          else if( parCount == 2 ) {\n            audio[method]( m.p1, m.p2 );\n          }\n          else if( parCount == 3 ) {\n            audio[method]( m.p1, m.p2, m.p3 );\n          }\n          else if( parCount == 4 ) {\n            audio[method]( m.p1, m.p2, m.p3, m.p4 );\n          }\n          else if( parCount == 0 ) {\n            audio[method]();\n          }\n\n        }\n        else if( t == \"blinkMode\" ) {\n          con.blinkMode( m.m );\n        }\n        else if( t == \"signalHideMenu\" ) {\n          if( sys.m.basicmenu ) {\n            console.log(\"signalHideMenu hideFlag=\" , m.hide )\n            sys.m.basicmenu.showMenu( !m.hide );\n          }\n        }\n        else if( t == \"locate\" ) {\n          con.setPos( m.c, m.r );\n        }\n        else if( t == \"load\" ) {\n          _parent.loadAppFromProgram( this, m );\n        }\n        else if( t == \"loaddata\" ) {\n          _parent.loadDataFromProgram( this, m );\n        }\n        else if( t == \"save\" ) {\n          _parent.saveProgram( this, m );\n        }\n        else if( t == \"delete\" ) {\n          _parent.deleteFile( this, m );\n        }\n        else if( t == \"dir\" ) {\n          _parent.dir( m.path, m );\n        }\n        else if( t == \"setfs\" ) {\n          _parent.setfs( m.path, m );\n          _parent.menu.setStatus( null );\n        }\n        else if( t == \"listfs\" ) {\n          _parent.listfs( m );\n        }\n        else if( t == \"html\" ) {\n          htmlwrapper.execute( m );\n        }\n        else if( t == \"htmlnode\" ) {\n          htmlwrapper.setnode( m[0].value );\n        }\n        else if( t == \"htmldofun\" ) {\n          htmlwrapper.executeFunction( m );\n        }\n        else if( t == \"displaymode\" ) {\n          display.setMode( m.m, _parent.menu );\n          display.cursor\n          con = display.getDriver();\n          sys.out =  con;\n\n          var wh = con.getDimensions();\n          var hasPixels = con.hasPixels();\n          var bWH = [-1,-1];\n\n          if( hasPixels ) {\n            bWH = con.getBitmapDimensions();\n          }\n          this.postMessage(\n            {\n            type: \"message\",\n            processId: m.processId,\n            message: \"displaysize:done\",\n            messageObject:\n              {\n                mode: m.m,\n                textW: wh[0], textH: wh[1],\n                bitmapW: bWH[0], bitmapH: bWH[1],\n              }\n            }\n            );\n\n        }\n        else if( t == \"textupdate\" ) {\n\n          var properties = {\n            cx: m.cx,\n            cy: m.cy,\n            fg: m.fg,\n            bg: m.bg,\n            cursorMode: m.cursorMode\n          };\n          sys.out.update( properties, m.areasList );\n        }\n        else if( t == \"textupdate-all\" ) {\n\n          var properties = {\n            cx: m.cx,\n            cy: m.cy,\n            fg: m.fg,\n            bg: m.bg,\n            cursorMode: m.cursorMode\n          };\n\n          sys.out.updateAll( properties, m.cells );\n        }\n        else if ( t == \"gfxupdate\" ) {\n          sys.out.gfxUpdate( m );\n        }\n        else if ( t == \"export\" ) {\n          if(m.destination == \"disk\") {\n            var callback = {\n              clazz: _parent,\n              method: \"nullHandler\",\n              data: \"\"\n            }\n            sys.m.qfs.saveFile(\"export://myprogram.bas\", m.code, callback);\n          }\n          else {\n            navigator.clipboard.writeText( m.code )\n          }\n        }\n        else if ( t == \"nativeout\" ) {\n          sys.out.native( m );\n        }\n        else if ( t == \"status\" ) {\n          //update menu\n          _parent.menu.setStatus( m.status );\n        }\n\n      }\n\n      var _this = this;\n      window.addEventListener(\"resize\", function(event) {\n        _this.windowResizeEvent( event );\n\n      });\n\n  }\n\n  windowResizeEvent( event ) {\n    var w = window.innerWidth;\n    var h = window.innerHeight;\n\n    this.worker.postMessage(\n      {\n      type: \"interrupt\",\n      sub: \"resize\",\n      data:\n        {\n          w: w,\n          h: h\n        }\n      }\n      );\n\n  }\n\n  nullHandler( data )  {\n    console.log( \"nullhandler \" + data );\n  }\n\n  loadApp( url0 ) {\n    var sys = this.sys;\n\n    sys.log(\"BSYS:\",\"Load\", url0 );\n    sys.m.qfs.loadFile( url0, { clazz: this, method: \"loadedApp\" } );\n\n  }\n\n  pasteTextFromClipboard( block, type ) {\n\n    if( type == \"txt\" ) {\n\n      var kEvent = {\n        keyLabel: \"\",\n        shiftKey: false,\n        ctrlKey: false,\n        key: \"\",\n        type: \"keydown\"\n\n      }\n\n      for ( var i = 0; i<block.length; i++) {\n        var c = block.charAt( i );\n        kEvent.key = c;\n        if( block.charCodeAt( i ) == 10) {\n          kEvent.keyLabel = \"Enter\";\n        }\n        else {\n          kEvent.keyLabel = \"\";\n        }\n\n        this.worker.postMessage( kEvent );\n      }\n    }\n    else {\n      this.worker.postMessage(\n        {\n        type: \"pastpgm\",\n        data: block\n        }\n        );\n    }\n\n  }\n\n  requestClipboardCopy() {\n\n    this.worker.postMessage({ type: \"clipboardCopy\" });\n\n  }\n\n  requestClipboardCopyScreen() {\n\n    this.worker.postMessage({ type: \"clipboardCopyScreen\" });\n\n  }\n\n  requestColorReset( colors ) {\n    this.worker.postMessage({ type: \"colorReset\", colors: colors });\n\n    var callback = {\n      clazz: this,\n      method: \"nullHandler\",\n      data: \"\"\n    }\n    this.settings.colors = colors;\n    this.sys.fs.saveFile(\"cache://settings.cfg\", this.settings, callback);\n\n  }\n\n  requestExport() {\n    this.worker.postMessage({ type: \"export\" });\n  }\n\n\n  requestFileSystems() {\n    var list =  this.sys.fs.listFS();\n    var list2 = [\"FS\", \"\"];\n\n    for( var i=0; i<list.length; i++) {\n        var f = list[i];\n        list2.push( f );\n    }\n\n    this.requestShowList( list2 );\n  }\n\n  requestListDirectory() {\n    var list =  this.sys.fs.getDir( this.sys.fs.getCurrent() );\n    var list2 = [\"DIR\", \"\"];\n\n    for( var i=0; i<list.files.length; i++) {\n        var f = list.files[i].fname;\n        list2.push( f );\n    }\n\n    this.requestShowList( list2 );\n  }\n\n  requestListScripts() {\n\t\tconsole.log(\"I am handler_listScripts\", this);\n\n\t\tvar list =  this.sys.m.script.getDir();\n\t\tvar list2 = [];\n\n\t\tfor( var i=0; i<list.files.length; i++) {\n\t\t\t\tvar f = list.files[i].fname;\n\t\t\t\tlist2.push( f );\n\t\t}\n\n\t\tthis.requestShowList( list2 );\n\n\t}\n\n\n  requestAbout() {\n\n    this.worker.postMessage({ type: \"resetConsole\" });\n\n\t\tvar list = [];\n\n    list.push( \"\" );\n    list.push( \"---------------------------\" );\n\t  list.push( \"  B3 Basic\" );\n    list.push( \"  Version 0.9\" );\n    list.push( \"  Copyright: \" );\n    list.push( \"    CursorKeys Retro, 2022\" );\n    list.push( \"---------------------------\" );\n    list.push( \"\" );\n\n\n\t\tthis.requestShowList( list );\n\n\t}\n\n\n  requestList() {\n    this.worker.postMessage({ type: \"list\" });\n  }\n\n  requestRenumber() {\n    this.worker.postMessage({ type: \"renumber\" });\n  }\n\n  requestNew() {\n    this.worker.postMessage({ type: \"new\" });\n  }\n\n  requestVars() {\n    this.worker.postMessage({ type: \"vars\" });\n  }\n\n  requestDataBlocks() {\n    this.worker.postMessage({ type: \"datablocks\" });\n  }\n\n  requestHelp() {\n    this.worker.postMessage({ type: \"help\" });\n  }\n\n  requestClearScreen() {\n    this.worker.postMessage({ type: \"clearScreen\" });\n  }\n\n  requestResetConsole() {\n    this.worker.postMessage({ type: \"resetConsole\" });\n  }\n\n  requestShowList( l ) {\n    this.worker.postMessage({ type: \"showList\", list: l });\n  }\n\n\n  requestRun() {\n    this.worker.postMessage({ type: \"run\" });\n  }\n\n  requestStop() {\n    this.worker.postMessage({ type: \"stop\" });\n  }\n\n  deleteFile( worker, m ) {\n    var sys = this.sys;\n    var path = this.devicePath( m.device, m.path );\n\n    try {\n      sys.log(\"BSYS:\",\"delete\", m.path );\n      sys.m.qfs.deleteFile( path,\n        { clazz: this, method: \"deletedFile\", path: m.path, processId: m.processId })\n\n    }\n    catch ( e ) {\n      console.log ( e )\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"delete:error\",\n        messageObject:\n          {\n            reason: e.message\n          }\n        }\n        );\n\n    }\n  }\n\n  deletedFile( cbMessage ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Deleted\", cbMessage.args.qpath );\n\n    var result = \"ok\";\n    var message = \"delete:completed\";\n    var reason = undefined;\n    if( !cbMessage.result ) {\n      result = \"error\";\n      message = \"delete:error\";\n    }\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: cbMessage.origCallBackRecord.processId,\n      message: message,\n      messageObject:\n        {\n          status: result,\n          reason: reason\n        }\n      }\n      );\n\n  }\n\n  saveProgram( worker, m ) {\n      var sys = this.sys;\n      var path = this.devicePath( m.device, m.path );\n\n      try {\n        sys.log(\"BSYS:\",\"Load\", m.path );\n        sys.m.qfs.saveFile( path, m.data,\n          { clazz: this, method: \"savedProgram\", processId: m.processId })\n\n      }\n      catch ( e ) {\n        console.log ( e )\n\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: m.processId,\n          message: \"save:error\",\n          messageObject:\n            {\n              reason: e.message\n            }\n          }\n          );\n\n      }\n  }\n\n  savedProgram( cbMessage ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Saved\", cbMessage.url );\n    //this.out.blinkMode( false );\n\n    //this.worloadAppFromProgramker.postMessage({ type: \"loadpgm\", pgmData: data, QPath: path });\n\n    var result = \"ok\";\n    if( !cbMessage.result ) {\n      result = \"error\";\n    }\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: cbMessage.origCallBackRecord.processId,\n      message: \"save:completed\",\n      messageObject:\n        {\n          status: result\n        }\n      }\n      );\n\n\n  }\n\n\n  loadDataFromProgram( worker, m ) {\n\n    var sys = this.sys;\n\n    try {\n      sys.log(\"BSYS:\",\"Load\", m.path );\n      sys.m.qfs.loadFile( m.path,\n        { clazz: this, method: \"loadedDataFromProgram\",\n        processId: m.processId,\n        label: m.label ,\n        type: m.type\n      } );\n    }\n    catch ( e ) {\n      console.log ( e )\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"loaddata:error\",\n        messageObject:\n          {\n            error: e.message\n          }\n        }\n        );\n\n    }\n  }\n\n  devicePath( dev, path ) {\n\n    var sys = this.sys;\n\n    if( dev > -1 ) {\n      var fs = sys.m.qfs.getFS( dev );\n      if(!fs) {\n        throw \"No such device\";\n      }\n\n      var parts = path.split(\"://\");\n      if( parts.length >1 ) {\n        throw \"Double device indicators\";\n      }\n      return fs.prefix + path;\n    }\n    return path;\n  }\n\n  loadAppFromProgram( worker, m ) {\n\n    var sys = this.sys;\n    var path = this.devicePath( m.device, m.path );\n    try {\n      sys.log(\"BSYS:\",\"Load\", m.path );\n\n      sys.m.qfs.loadFile( path, { clazz: this, method: \"loadedAppFromProgram\", processId: m.processId } );\n    }\n    catch ( e ) {\n      console.log ( e )\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"load:error\",\n        messageObject:\n          {\n            reason: e.message\n          }\n        }\n        );\n\n    }\n\n  }\n\n  loadedApp( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n    this.out.blinkMode( false );\n    this.worker.postMessage({ type: \"loadpgm\", pgmData: response.data, QPath: path });\n\n  }\n\n\n  loadedDataFromProgram( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n\n    if( response.success ) {\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: cbMessage.processId,\n        message: \"loaddata:completed\",\n        messageObject:\n          {\n            data: response.data,\n            label: cbMessage.label,\n            type: cbMessage.type\n          }\n        }\n        );\n      }\n      else {\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: cbMessage.processId,\n          message: \"loaddata:error\",\n          messageObject:\n            {\n              pgmData: null,\n              reason: response.reason\n            }\n          }\n          );\n      }\n\n  }\n\n\n  loadedAppFromProgram( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n    //this.out.blinkMode( false );\n\n    //this.worloadAppFromProgramker.postMessage({ type: \"loadpgm\", pgmData: data, QPath: path });\n\n    if( response.success ) {\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: cbMessage.processId,\n        message: \"load:completed\",\n        messageObject:\n          {\n            pgmData: response.data\n          }\n        }\n        );\n      }\n      else {\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: cbMessage.processId,\n          message: \"load:error\",\n          messageObject:\n            {\n              pgmData: null,\n              reason: response.reason\n            }\n          }\n          );\n      }\n\n  }\n\n\n  listfs( m ) {\n\n    var list = this.sys.fs.listFS();\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: m.processId,\n      message: \"listfs:completed\",\n      messageObject:\n        {\n          fs: list,\n          currentFs: this.sys.fs.getCurrent()\n        }\n      }\n      );\n  }\n\n  setfs( path, m ) {\n\n    var result = this.sys.fs.setFS( path );\n    if( result ) { result = \"ok\"; }\n    else {  result = \"error\" ; }\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: m.processId,\n      message: \"setfs:completed\",\n      messageObject:\n        {\n          status: result\n        }\n      }\n      );\n  }\n\n  dir( path0, m ) {\n\n    try {\n      var path = this.devicePath( m.device, path0 );\n      var list = this.sys.fs.getDir( path );\n\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"dir:completed\",\n        messageObject:\n          {\n            files: list.files,\n            title: list.title,\n            free: list.free,\n            fs: list.fs\n          }\n        }\n        );\n      }\n      catch ( e ) {\n        console.log ( e )\n\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: m.processId,\n          message: \"dir:error\",\n          messageObject:\n            {\n              reason: e.message\n            }\n          }\n          );\n\n      }\n  }\n\n  setInput( input ) {\n\n    this.sys.log(\"BSYS: Setting input on BAPPS..\" );\n    this.input = input;\n    this.input.setInputHandler( this, \"input\" );\n\n  }\n\n  inputKeyHandler( kEvent ) {\n\n\n\n    if( this.sys.m.basicmenu ) {\n      /*close menu on any keppress*/\n      this.sys.m.basicmenu.clearMenu();\n\n      if( kEvent.key == \"v\" && kEvent.ctrlKey) {\n        console.log( kEvent );\n        this.sys.m.basicmenu.doAction(\"paste\", \"txt\" );\n        return;\n      }\n    }\n\n    if( kEvent.keyLabel == \"Backspace\" && kEvent.ctrlKey ) {\n      this.worker.postMessage({ type: \"toggleMenu\" });\n\n    }\n    else {\n      this.worker.postMessage( kEvent );\n    }\n  }\n\n}\n\nexport { KERNALMODULE as default};\n","import  menuData   from        './menudata.js';\nimport  menuHandlers   from        './handlers.js';\n\nclass KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\n\t\tthis.defaultPasteText = \"Press CTRL-V here\";\n\n\t\tthis.options = new menuData().getOptions();\n\t\tthis.handlers = new menuHandlers( this );\n    this.menus = {};\n\t\tthis.statusWidgets = {};\n\t\tthis.status = {\n\t\t\tpgmLen: 0,\n\t\t\tstatus: \"stopped\",\n\t\t\tvarLen: 0,\n\t\t\tdisplayMode: 0\n\t\t}\n\n\t\tthis.mnuBttnOptContainers = [];\n\t\tthis.mnuBttnOptContainersTgl = [];\n\t\tthis.mnuBttns = [];\n\t\tthis.mnuBttnContainers = [];\n\t\tthis.mnuLinks = [];\n\n\t\tthis.color = \"#ffffff\";\n\t\tthis.bgColor = \"#000000\";\n\t\tthis.font = \"16px arial,serif\";\n\n\t\tthis.statusTopMargin = \"4px\";\n\t\tthis.statusColor = \"#eeffff\";\n\t\tthis.statusBgColor = \"#000000\";\n\t\tthis.statusFont = \"700 14px arial,serif\";\n\n\t\tthis.cnt = 0;\n\t}\n\n\tdestroy() {\n\n\t\tvar f = this.getOnClickMenuButtonFunc();\n\t\tvar tmp = 1;\n\n\t\tfor( var i=0; i<this.mnuBttns.length ; i++ ) {\n\t\t\tvar b = this.mnuBttns[i];\n\t\t\tb.dataset.i = i;\n\n\t\t\tvar optLst = this.mnuBttnOptContainers[i];\n\n\t\t\tvar f = this.getOnClickMenuButtonFunc();\n\t\t\tb.removeEventListener( \"click\", f );\n\n\t\t\tvar ll = this.mnuLinks[i];\n\n\t\t\tfor( var k=0; k<ll.length ; k++ ) {\n\t\t\t\tvar lnk = ll[ k ];\n\t\t\t\tlnk.dataset.i = i;\n\t\t\t\tlnk.removeEventListener( \"click\", this.getClickLinkFunc() );\n\t\t\t\tlnk.removeEventListener( \"mouseover\", this.getOnOverLinkFunc() );\n\t\t\t}\n\t\t}\n\t\tthis.element = null;\n\t}\n\n\n\tinit() {\n\t\tthis.handlers.setBasic();\n\t\tthis.basic = this.sys.m.basic;\n\t}\n\n\tshowMenu( flag ) {\n\t\tif( flag ) {\n\t\t\tthis.element.style.display = \"flex\";\n\t\t}\n\t\telse {\n\t\t\tthis.element.style.display = \"none\";\n\t\t}\n\t}\n\n\tbutton( parent, id, text, menuOptions ) {\n\n\t\tvar div0 = document.createElement(\"div\");\n\t\tvar buttn0 = document.createElement(\"button\");\n\t\tvar div1 = document.createElement(\"div\");\n\n\t\tdiv0.appendChild( buttn0 );\n\t\tdiv0.appendChild( div1 );\n\n\t\tdiv0.id = \"menu_buttnparent_\" + id;\n\t\t//div0.style.float = \"left\";\n\t\tbuttn0.innerHTML = text;\n\t\tbuttn0.id = \"menu_buttn_\" + id;\n\t\tbuttn0.style.backgroundColor = this.bgColor;\n\t\tbuttn0.style.color = this.color;\n\t\tbuttn0.style.font = this.font;\n\t\tbuttn0.style.marginLeft = \"2px\";\n\t\tbuttn0.style.marginRight = \"0px\";\n\t\tbuttn0.style.borderTop = \"0px #ccc solid\";\n\t\tbuttn0.style.borderBottom = \"0px #ccc solid\";\n\t\tbuttn0.style.borderLeft = \"0px #777 solid\";\n\t\tbuttn0.style.borderRight = \"0px #777 solid\";\n\n\t\tdiv1.id = \"menu_opts_buttn_\" + id;\n\n\t\tdiv1.style.display = \"none\";\n\t\tdiv1.style.marginLeft = \"2px\";\n\t\tdiv1.style.position = \"absolute\";\n\t\tdiv1.style.minWidth = \"260px\";\n\t\tdiv1.style.zIndex = \"1\";\n\t\tdiv1.style.backgroundColor = this.bgColor;\n\t\tdiv1.style.color = this.color;\n\t\tdiv1.style.borderTop = \"1px #ccc solid\";\n\t\tdiv1.style.borderBottom = \"1px #ccc solid\";\n\t\tdiv1.style.borderLeft = \"1px #777 solid\";\n\t\tdiv1.style.borderRight = \"1px #777 solid\";\n\n\t\tthis.mnuBttns.push( buttn0 );\n\t\tthis.mnuBttnContainers.push( div0 );\n\t\tthis.mnuBttnOptContainers.push( div1 );\n\t\tthis.mnuBttnOptContainersTgl.push( { active: false } );\n\t\tvar lnks = [];\n\n\t\tif(  menuOptions ) {\n\t\t\tfor( var i=0; i<menuOptions.length; i++) {\n\t\t\t\tvar o = menuOptions[ i ];\n\n\t\t\t\tvar lnk = document.createElement(\"a\");\n\t\t\t\tlnk.innerHTML = o.display;\n\t\t\t\tlnk.style.padding = \"12px 16px\";\n\t\t\t\tlnk.style.display = \"block\";\n\t\t\t\tlnk.style.font = this.font;\n\t\t\t\tlnk.dataset.action = o.opt;\n\t\t\t\tif( o.data ) {\n\t\t\t\t\tlnk.dataset.data = JSON.stringify( o.data );\n\t\t\t\t}\n\t\t\t\tlnks.push( lnk );\n\t\t\t\tdiv1.appendChild( lnk );\n\t\t\t}\n\t\t}\n\n\t\tthis.mnuLinks.push( lnks );\n\n\t\tdiv0.style.display = \"inline-block\";\n\t\tdiv0.style.position = \"relative\";\n\t\t//div0.style.marginTop = \"12px\";\n\n\t\tparent.appendChild( div0 );\n\n\t}\n\n\tdoAction( id, data ) {\n\t\tthis.showMenu( true );\n\t\tthis.handlers.doExposedAction( id, data );\n\t}\n\n\tstatusItem( parent, text ) {\n\n\n\t\tvar div0 = document.createElement(\"div\");\n\t\tdiv0.innerText = text;\n\t\tif( text == \"\" ) {\n\t\t\tdiv0.style.width = \"10px\";\n\t\t}\n\t\telse if( text == \" \" ) {\n\t\t\tdiv0.style.width = \"50px\";\n\t\t}\n\n\t\tdiv0.style.marginTop= this.statusTopMargin;\n\t\tdiv0.style.color = this.statusColor;\n\t\tdiv0.style.backgroundColor = this.statusBgColor;\n\t\tdiv0.style.font = this.statusFont;\n\t\tparent.appendChild( div0 );\n\n\t\tthis.statusWidgets.list.push( div0 );\n\t\treturn div0;\n\n\t}\n\n\tstatusItems( parent ) {\n\n\n\t\tthis.statusWidgets.list = [];\n\n\t\tthis.statusItem( parent, \" \");\n\t\tthis.statusWidgets.displayMode = this.statusItem( parent, \"MODE: \" + this.status.displayMode );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.fs = this.statusItem( parent, \"FS: \" + this.sys.fs.getCurrent()  );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.pgmLen = this.statusItem( parent, \"LINES: \" + this.status.pgmLen );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.varLen = this.statusItem( parent, \"VARCOUNT: \" + this.status.varLen );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.interpreterStatus = this.statusItem( parent, \"STATUS: \" + this.status.status );\n\n\t}\n\n\n\tsetStatus( status ) {\n\n\t\tthis.statusWidgets.fs.innerText = \"FS: \" + this.sys.fs.getCurrent() ;\n\n\t\tif( status ) {\n\t\t\tthis.status = status;\n\t\t\tthis.statusWidgets.interpreterStatus.innerText = \"STATUS: \" + this.status.status;\n\t\t\tthis.statusWidgets.pgmLen.innerText = \"LINES: \" + this.status.pgmLen;\n\t\t\tthis.statusWidgets.varLen.innerText = \"VARCOUNT: \" + this.status.varLen;\n\t\t\tthis.statusWidgets.displayMode.innerText = \"MODE: \" + this.status.displayMode;\n\n\n\n\t\t}\n\n\t}\n\n\n\tbuttons( parent ) {\n\n\t\tvar mainOptions = this.options[\"main\"]\n\t\tfor( var i=0; i<mainOptions.length ; i++ ) {\n\t\t\tvar o = mainOptions[i];\n\n\t\t\tthis.button( parent, i, o.display, this.options[ o.opt ]  );\n\t\t}\n\t}\n\n\n\tonDeselect() {\n\t\tif( this.element.style.display != \"none\" ) {\n\t\t\tthis.clearMenu();\n\t\t}\n\t}\n\n\tstyleButtons( buttonTable ) {\n\t\tbuttonTable.style.backgroundColor = \"black\";\n\t\tbuttonTable.style.color = \"white\";\n\t\tbuttonTable.style.width = \"100%\";\n\n\t}\n\n\tcreate() {\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.style.marginLeft = \"auto\";\n\t\tthis.element.style.marginRight = \"auto\";\n\t\tthis.element.style.display = \"none\";\n\t\tthis.element.style.backgroundColor = this.statusBgColor;\n\t\tthis.element.style.paddingBottom = \"5px\";\n\t\tthis.element.style.paddingTop = \"5px\";\n\n\t\tthis.buttons( this.element );\n\n\t\tthis.statusItems( this.element );\n\n\t\tvar paste = document.createElement(\"div\");\n\t\tthis.pastebox = paste;\n\t\tpaste.style.display = \"none\";\n\t\tpaste.style.width = \"100%\";\n\n\t\tvar ta = document.createElement(\"textarea\");\n\t\tthis.pasteArea = ta;\n\t\tta.style.width = \"100%\";\n\t\tta.style.height = \"200px\";\n\t\tthis.element.appendChild( paste );\n\t\tpaste.appendChild( ta );\n\n\t\t//this.styleButtons( this.element.childNodes[0]\t);\n\n\t}\n\n\tget() {\n\t\treturn this.element;\n\t}\n\n\n\tgetClickLinkFunc() {\n\n\t\tvar __this = this;\n\n\t\treturn function(){\n\n\t\t\tconsole.log( this.dataset.action );\n\n\n\t\t\tfor( var j=0; j<__this.mnuBttnOptContainers.length ; j++ ) {\n\t\t\t\tvar optLst2 = __this.mnuBttnOptContainers[j];\n\t\t\t\tvar optLstTgl = __this.mnuBttnOptContainersTgl[j];\n\n\t\t\t\tconsole.log(\"dsp[\"+j+\"]\" , optLst2 );\n\t\t\t\toptLst2.style.display = \"none\";\n\t\t\t\toptLstTgl.active = false;\n\n\t\t\t}\n\n\t\t\tvar funData = undefined;\n\t\t\tif( (typeof this.dataset.data).toLowerCase() == \"string\" ) {\n\t\t\t\tfunData = JSON.parse( this.dataset.data );\n\t\t\t}\n\t\t\tif( this.dataset.action.startsWith(\"@\")  ) {\n\t\t\t\t__this.basic[ this.dataset.action.substr(1) ]( funData );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t__this.handlers[ \"handler_\" + this.dataset.action ]( funData );\n\t\t\t}\n\t\t}\n\t}\n\n\tgetOnOverLinkFunc() {\n\n\t\tvar __this = this;\n\n\t\treturn function(){\n\n\t\t\tvar ll = __this.mnuLinks[ this.dataset.i ];\n\n\t\t\tfor( var k2=0; k2<ll.length ; k2++ ) {\n\t\t\t\tvar lnk2 = ll[ k2 ];\n\n\t\t\t\tlnk2.style.color = __this.color;\n\t\t\t\tlnk2.style.backgroundColor = __this.bgColor;\n\n\t\t\t}\n\n\n\t\t\tthis.style.color = __this.bgColor;\n\t\t\tthis.style.backgroundColor = __this.color;\n\t\t}\n\t}\n\n\tgetOnClickMenuButtonFunc() {\n\n\t\tvar __this = this;\n\n\t\treturn function(){\n\n\t\t\tvar thisIx = this.dataset.i;\n\t\t\tvar active =  __this.mnuBttnOptContainersTgl[ thisIx ].active;\n\n\t\t\t//Disable all other menus\n\t\t\tfor( var j=0; j<__this.mnuBttnOptContainers.length ; j++ ) {\n\t\t\t\tvar optLst2 = __this.mnuBttnOptContainers[j];\n\t\t\t\tvar optLstTgl = __this.mnuBttnOptContainersTgl[j];\n\n\t\t\t\tconsole.log(\"dsp[\"+j+\"]\" , optLst2 );\n\t\t\t\toptLst2.style.display = \"none\";\n\t\t\t\toptLstTgl.active = false;\n\n\t\t\t}\n\n\t\t\tfor( var j=0; j<__this.mnuBttnOptContainers.length ; j++ ) {\n\t\t\t\tvar optLst2 = __this.mnuBttnOptContainers[j];\n\t\t\t\tconsole.log(\"dsp[\"+j+\"]\" , optLst2.style.display );\n\n\t\t\t}\n\n\n\t\t\tvar ll = __this.mnuLinks[ thisIx ];\n\t\t\tfor( var k=0; k<ll.length ; k++ ) {\n\t\t\t\tvar lnk2 = ll[ k ];\n\n\t\t\t\tlnk2.style.color = __this.color;\n\t\t\t\tlnk2.style.backgroundColor = __this.bgColor;\n\n\t\t\t}\n\n\t\t\tvar optLst = __this.mnuBttnOptContainers[ thisIx ];\n\n\t\t\tconsole.log(active);\n\t\t\tif( active ) {\n\t\t\t\t__this.mnuBttnOptContainersTgl[ thisIx ].active = false;\n\t\t\t\toptLst.style.display = \"none\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t__this.mnuBttnOptContainersTgl[ thisIx ].active = true;\n\t\t\t\toptLst.style.display = \"block\";\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tenable() {\n\t\tvar tmp = 1;\n\n\t\tfor( var i=0; i<this.mnuBttns.length ; i++ ) {\n\t\t\tvar b = this.mnuBttns[i];\n\t\t\tb.dataset.i = i;\n\n\t\t\tvar optLst = this.mnuBttnOptContainers[i];\n\n\t\t\tvar f = this.getOnClickMenuButtonFunc();\n\t\t\tb.addEventListener( \"click\", f );\n\n\t\t\tvar ll = this.mnuLinks[i];\n\n\t\t\tfor( var k=0; k<ll.length ; k++ ) {\n\t\t\t\tvar lnk = ll[ k ];\n\t\t\t\tlnk.dataset.i = i;\n\t\t\t\tlnk.addEventListener( \"click\", this.getClickLinkFunc() );\n\t\t\t\tlnk.addEventListener( \"mouseover\", this.getOnOverLinkFunc() );\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\tsetDimensions( w,h ) {\n\t\t\tthis.element.style.width = w + \"px\";\n\t\t\tthis.element.style.textAlign = \"left\";\n\t}\n\n\tclearMenu() {\n\t\tfor( var j=0; j<this.mnuBttnOptContainers.length ; j++ ) {\n\n\t\t\tvar optLstTgl = this.mnuBttnOptContainersTgl[j];\n\n\t\t\tif( optLstTgl.active ) {\n\n\t\t\t\tvar optLst2 = this.mnuBttnOptContainers[j];\n\t\t\t\t//console.log(\"dsp[\"+j+\"]\" , optLst2 );\n\t\t\t\toptLst2.style.display = \"none\";\n\t\t\t\toptLstTgl.active = false;\n\t\t\t}\n\t\t}\n\t}\n\n\thideMenu() {\n\n\t\tfor( var j=0; j<this.mnuBttnContainers.length ; j++ ) {\n\t\t\tvar buttonCtr = this.mnuBttnContainers[j];\n\t\t\tbuttonCtr.style.display = \"none\";\n\t\t}\n\n\t\tvar statusWidgets = this.statusWidgets.list;\n\t\tfor( var j=0; j<statusWidgets.length ; j++ ) {\n\t\t\tvar wid = statusWidgets[j];\n\t\t\twid.style.display = \"none\";\n\t\t}\n\n\n\n\t}\n\n\tunhideMenu() {\n\n\t\tfor( var j=0; j<this.mnuBttnContainers.length ; j++ ) {\n\t\t\tvar buttonCtr = this.mnuBttnContainers[j];\n\t\t\tbuttonCtr.style.display = \"block\";\n\t\t}\n\n\t\tvar statusWidgets = this.statusWidgets.list;\n\t\tfor( var j=0; j<statusWidgets.length ; j++ ) {\n\t\t\tvar wid = statusWidgets[j];\n\t\t\twid.style.display = \"block\";\n\t\t}\n\n\t}\n\n\n}\n\nexport { KERNALMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.initialized = false;\n    this.sys = sys;\n    this.prefix = sys.SIG + sys.SUBSYS  + \"__\" ;\n\n    this.deviceId = 6;\n  }\n\n  init() {\n    this.initialize();\n  }\n\n  initialize() {\n    this.currentDisk = \"SYS\";\n    this.initialized=true;\n    this.privacy = this.sys.m.priv;\n\n  }\n\n  ready() {\n    return this.initialized;\n  }\n\n  getEmptyDirStructure(name) {\n    return {files:[], title: \"temporary session\" };\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n\n    if( !this.initialized ) {\n      return getEmptyDirStructure(null);\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n    var json = sessionStorage.getItem( storageName );\n\n    if(!json) {\n      return {files:[], title: \"temporary session\" };\n    }\n\n    var dir = JSON.parse( json );\n    if(!dir) {\n      return {files:[], title: \"temporary session\" };\n    }\n\n    var title = dir.title;\n\n    dir.title = title;\n    dir.free = 32-dir.files.length;\n\n    var foundNullIx = -1;\n\n    while( true ) {\n      for( var i=0; i<dir.files.length; i++) {\n        if( dir.files[i] == null) {\n          foundNullIx = i;\n          break;\n        }\n      }\n      if( foundNullIx > -1) {\n        dir.files.splice( foundNullIx, 1 );\n        foundNullIx = -1;\n      }\n      else {\n        break;\n      }\n    }\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<dir.files.length; i++) {\n        if( defaultMatcherFunction (  path, dir.files[i].fname ) ) {\n          files2.push( dir.files[ i ] );\n        }\n      }\n\n      dir.files = files2;\n      dir.free = 32-dir.files.length;\n    }\n\n    return dir;\n\n  }\n\n\n  setDir( dir ) {\n\n\n    if( this.privacy.confirmLocalStorage() == false ) { return ; }\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n\n    sessionStorage.setItem(storageName, JSON.stringify( dir ) );\n\n  }\n\n  existsFile( fileName ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    var dir = this.getDir( \"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      return true;\n    }\n    return false;\n  }\n\n\n  removeFromDir( fileName ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir(\"\", null);\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files.splice( i, 1 );\n    }\n    this.setDir(dir);\n  }\n\n  updateDir( fileName, programLen, type ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir( \"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files[i].size = programLen;\n      dir.files[i].type = type;\n    }\n    else {\n      dir.files.push( {fname: fileName, size: programLen, type: type } );\n    }\n    this.setDir(dir);\n  }\n\n\n  saveFile( fileName0, data, type, length ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    if( this.privacy.confirmLocalStorage() == false ) { return false; }\n\n    var fileName = fileName0;\n    if( fileName0.length > 32) {\n        fileName = fileName0.substr(0,32);\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    var container = JSON.stringify( { type: type, data: data} );\n    sessionStorage.setItem(storageName, container );\n\n    this.updateDir( fileName, length, type );\n\n    return true;\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  loadFile( fileName, cbRec ) {\n\n    if( !this.initialized ) {\n      throw makeError(\"Filesystem not initialized\");\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    var json = sessionStorage.getItem( storageName );\n\n    if(!json) {\n      throw makeError(\"File not found\");\n    }\n\n    var data;\n    try {\n      data = JSON.parse( json ).data;\n    }\n    catch( e ) {\n      throw makeError(\"File corrupt\", e);\n      return;\n    }\n\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, data );\n\n  }\n\n  deleteFile( fileName ) {\n    if( ! this.existsFile( fileName ) ) {\n      return \"no such file\";\n    }\n\n    try {\n      this.removeFromDir( fileName );\n      this._removeFile( fileName );\n    }\n    catch ( e ) {\n      return \"unexpected\";\n    }\n    return \"ok\";\n  }\n\n  _removeFile( fileName ) {\n\n    var storageName =  this.prefix + \"\" +\n      this.currentDisk + \"_\" +\n      fileName;\n\n    sessionStorage.removeItem( storageName );\n\n  }\n\n  formatDisk() {\n\n    var dir = this.getDir( \"\", null );\n\n    for( var i=0; i<dir.files.length; i++) {\n\n        var fileName = dir.files[i].fname;\n        this._removeFile( fileName );\n\n    }\n\n    dir.files = [];\n    dir.title = \"Empty\"\n    this.setDir( );\n\n  }\n\n\n  getFullDisk() {\n\n    if( !this.initialized ) {\n\n      var dir = this.getDir( \"\", null);\n\n      var disk = {\n        dir: dir,\n        content: []\n      };\n\n      var diskStr = JSON.stringify( disk );\n\n      return diskStr;\n    }\n\n    var dir = this.getDir(\"\", null);\n    var content = [];\n\n    for( var i=0; i<dir.files.length; i++) {\n        var fileName = dir.files[i].fname;\n        var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n        var json = sessionStorage.getItem( storageName );\n        content.push( { fname: fileName ,content: json} );\n    }\n\n    var disk = {\n      dir: dir,\n      content: content\n    };\n\n    var diskStr = JSON.stringify( disk );\n\n    console.log( diskStr );\n\n    return diskStr;\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.initialized = false;\n    this.sys = sys;\n    this.prefix = sys.SIG + \"_\" + sys.SUBSYS + \"__\" ;\n    this.deviceId = 5;\n\n    console.log( \"FILESYSMODULE lfs: \" + this.prefix );\n\n  }\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n  init() {\n    this.initialize();\n  }\n\n  initialize() {\n\n    this.privacy = this.sys.m.priv;\n\n    this.disks = [];\n    this.currentDisk = null;\n    var defaultDisk = \"0001\"\n\n    var json = localStorage.getItem( this.prefix + \"disks_list\" );\n    if( json == null ) {\n\n      var diskId = \"0001\";\n      var diskName = \"Default\";\n      this.disks = [ diskId ];\n      this.currentDisk = diskId;\n      this.lastDisk = 1;\n      this.disksNotInitialized = true;\n\n      if( this.privacy.confirmLocalStorage() == true ) {\n        localStorage.setItem( this.prefix + \"disks_list\", JSON.stringify( this.disks ) );\n        localStorage.setItem( this.prefix + \"0001_dir\", JSON.stringify( {files:[], title: diskName, readOnly: false } ) );\n        localStorage.setItem( this.prefix + \"disk_current\", diskId );\n\n        this.formatDisk();\n      }\n    }\n    else {\n      this.disks = JSON.parse( json );\n      this.currentDisk = localStorage.getItem( this.prefix + \"disk_current\" );\n\n      var last = -1;\n      for( var i=0; i<this.disks.length; i++) {\n        if( parseInt( this.disks[i] ) > last ) {\n          last = parseInt( this.disks[ i ] );\n        }\n      }\n      this.lastDisk = last;\n    }\n\n\n    this.initialized=true;\n\n  }\n\n\n  selectDisk( diskId ) {\n    this.currentDisk = diskId;\n\n    if( this.privacy.confirmLocalStorage() == true ) {\n      localStorage.setItem( this.prefix + \"disk_current\", diskId );\n    }\n  }\n\n  ready() {\n    return this.initialized;\n  }\n\n\n  getDisks() {\n\n    if( !this.initialized ) {\n      return [];\n    }\n\n    var storageName =  this.prefix + \"disks_list\";\n    var json = localStorage.getItem( storageName );\n    var disks = JSON.parse( json );\n\n    return disks;\n\n  }\n\n  getEmptyDirStructure(name) {\n    return {files:[], title: \"null\" };\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n\n    if( !this.initialized ) {\n      return this.getEmptyDirStructure(null);\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n    var json = localStorage.getItem( storageName );\n    var dir = JSON.parse( json );\n\n    //var title = \"0 \\u0012\\\"\"+dir.title+\"          \\\"\\u0092 00 2A\";\n    var title = dir.title;\n\n    if(!json) {\n      return {files:[], title: title };\n    }\n    dir.title = title;\n    dir.free = 32-dir.files.length;\n\n    var foundNullIx = -1;\n\n    while( true ) {\n      for( var i=0; i<dir.files.length; i++) {\n        if( dir.files[i] == null) {\n          foundNullIx = i;\n          break;\n        }\n      }\n      if( foundNullIx > -1) {\n        dir.files.splice( foundNullIx, 1 );\n        foundNullIx = -1;\n      }\n      else {\n        break;\n      }\n    }\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<dir.files.length; i++) {\n        if( defaultMatcherFunction (  path, dir.files[i].fname ) ) {\n          files2.push( dir.files[ i ] );\n        }\n      }\n\n      dir.files = files2;\n      dir.free = 32-dir.files.length;\n    }\n\n\n\n    return dir;\n\n  }\n\n\n\n  setDir( dir ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n\n    if( this.privacy.confirmLocalStorage() == true ) {\n      localStorage.setItem(storageName, JSON.stringify( dir ) );\n    }\n\n  }\n\n  existsFile( fileName ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    var dir = this.getDir(\"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      return true;\n    }\n    return false;\n  }\n\n\n  removeFromDir( fileName ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir(\"\", null);\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files.splice( i, 1 );\n    }\n    this.setDir(dir);\n  }\n\n  updateDir( fileName, programLen, type ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir( \"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files[i].size = programLen;\n      dir.files[i].type = type;\n    }\n    else {\n      dir.files.push( {fname: fileName, size: programLen, type: type } );\n    }\n    this.setDir(dir);\n  }\n\n\n  saveFile( fileName0, data, type, length ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var fileName = fileName0;\n    if( fileName0.length > 32) {\n        fileName = fileName0.substr(0,32);\n    }\n\n    if( fileName.startsWith(\"$/\") ) {\n      fileName = fileName.substr( 2 );\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    //save pgm\n    var container = JSON.stringify( { type: type, data: data} );\n    if( this.privacy.confirmLocalStorage() == true ) {\n      localStorage.setItem(storageName, container );\n      this.updateDir( fileName, length, type );\n\n      return true;\n    }\n\n    return false;\n  }\n\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  loadFile( fileName0, cbRec ) {\n\n    var makeError = this.makeError;\n\n    if( !this.initialized ) {\n      throw makeError(\"Filesystem not initialized\");\n    }\n\n    var fileName = fileName0;\n\n    if( fileName == \"*\" )  {\n        var dir = this.getDir(\"\",null);\n        if( dir.files ) {\n          if( dir.files.length > 0) {\n            if( dir.files[0]) {\n              fileName = dir.files[0].fname;\n            }\n          }\n        }\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    var json = localStorage.getItem( storageName );\n    if(!json) {\n      throw makeError(\"File not found\");\n    }\n\n    var data;\n    try {\n      data = JSON.parse( json ).data;\n    }\n    catch( e ) {\n      throw makeError(\"File corrupt\", e);\n      return;\n    }\n\n    cbRec.clazz[ cbRec.method ]( fileName0, cbRec, this.makeDataContainer( data ) );\n\n  }\n\n  deleteFile( fileName ) {\n    if( ! this.existsFile( fileName ) ) {\n      throw \"no such file\";\n    }\n\n    try {\n      this.removeFromDir( fileName );\n      this._removeFile( fileName );\n    }\n    catch ( e ) {\n      throw \"unexpected (\"+e.message+\")\";\n    }\n    return true;\n  }\n\n  _removeFile( fileName ) {\n\n    var storageName =  this.prefix + \"\" +\n      this.currentDisk + \"_\" +\n      fileName;\n\n    localStorage.removeItem( storageName );\n\n  }\n\n  formatDisk() {\n\n    var dir = this.getDir(\"\", null);\n\n    for( var i=0; i<dir.files.length; i++) {\n\n        var fileName = dir.files[i].fname;\n        this._removeFile( fileName );\n\n    }\n\n    dir.files = [];\n    dir.title = \"Empty\"\n    this.setDir( );\n\n  }\n\n  createDiskFromImage( name, image ) {\n\n    this.createDiskFromImage2( name, image, false );\n\n  }\n\n  createSysDiskFromImage( image ) {\n\n    this.createDiskFromImage2( \"SYS\", image, true );\n\n  }\n\n  createDiskFromImage2( name, image, sysDisk ) {\n\n    if( this.privacy.confirmLocalStorage() == false ) { return ; }\n\n    var labl;\n    if( !sysDisk ) {\n      this.lastDisk++;\n      labl = \"\" + this.lastDisk;\n    }\n    else {\n      labl = \"\" + 1;\n    }\n\n    labl = labl.padStart( 4,\"0\");\n    var dir = image.dir;\n    var content = image.outtent;\n\n    var storageName =  this.prefix + \"\" + labl + \"_dir\";\n\n\n    localStorage.setItem(storageName, JSON.stringify( dir ) );\n\n\n    for( var i=0; i<content.length; i++) {\n        var fileName = content[i].fname;\n        var storageName =  this.prefix + \"\" + labl + \"_\" + fileName;\n        localStorage.setItem( storageName, content[i].outtent );\n    }\n\n    this.disks.push( labl );\n    localStorage.setItem( this.prefix + \"disks_list\", JSON.stringify( this.disks ) );\n\n  }\n\n  createDisk() {\n\n    if( this.privacy.confirmLocalStorage() == false ) { return ; }\n    var existingDisks = this.getDisks();\n    this.lastDisk ++;\n    var labl = \"\" + this.lastDisk;\n    labl = labl.padStart( 4,\"0\");\n\n    var newDir = this.getEmptyDirStructure(\"NEW DISK\");\n\n    var storageName =  this.prefix + \"\" + labl + \"_dir\";\n    localStorage.setItem(storageName, JSON.stringify( newDir ) );\n\n    this.disks.push( labl );\n    localStorage.setItem( this.prefix + \"disks_list\", JSON.stringify( this.disks ) );\n\n  }\n\n  getFullDisk() {\n\n    if( !this.initialized ) {\n\n      var dir = this.getDir( \"\", null);\n\n      var disk = {\n        dir: dir,\n        content: []\n      };\n\n      var diskStr = JSON.stringify( disk );\n\n      return diskStr;\n    }\n\n    var dir = this.getDir(\"\", null);\n    var content = [];\n\n    for( var i=0; i<dir.files.length; i++) {\n        var fileName = dir.files[i].fname;\n        var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n        var json = localStorage.getItem( storageName );\n        content.push( { fname: fileName ,content: json} );\n    }\n\n    var disk = {\n      dir: dir,\n      content: content\n    };\n\n    var diskStr = JSON.stringify( disk );\n\n    console.log( diskStr );\n\n    return diskStr;\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n\n    this.files = [];\n    this.data  = {};\n\n    this.deviceId = 7;\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n\n    var files = this.files;\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<this.files.length; i++) {\n        if( defaultMatcherFunction (  path, this.files[i].fname ) ) {\n          files2.push( this.files[ i ] );\n        }\n      }\n\n      files = files2;\n    }\n\n    return {\n      title: \"Ram Disk\",\n      files: files,\n      free: 0\n    }\n  }\n\n  exists( fileName ) {\n\n    var dir = this.getDir(\"\",null);\n    var files = dir.files;\n\n    var found = -1;\n    for( var i=0; i<files.length; i++) {\n      if( files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      return true;\n    }\n    return false;\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    if( fileName.indexOf(\"/\") >-1 ) {\n      throw {\n        message: \"saveFile: '\"+fileName+\"' - invalid path, RAMFS device only supports flatdir\"\n      }\n    }\n    if( ! this.exists( fileName ) ) {\n      var fEntry = {\n        fname: fileName,\n        type: type,\n        size: size\n      }\n\n      this.data[ fileName ] = { type: type, data: data};\n      this.files.push( fEntry );\n    }\n\n  }\n\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n\n  loadFile( fileName, cbRec ) {\n\n    if( ! this.exists( fileName ) ) {\n      throw makeError(\"File not found\");\n    }\n\n    var response =\n      this.makeDataContainer(\n        this.data[ fileName ].data\n      );\n\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, response );\n\n    //return this.data[ fileName ];\n\n  }\n\n  deleteFile( fileName ) {\n\n    if( ! this.exists( fileName ) ) {\n      return false;\n    }\n\n    try {\n      var files = this.files;\n      var files2 = [];\n\n      for( var i=0; i<files.length; i++) {\n        if( files[i].fname != fileName ) {\n          files2.push( files[i] );\n        }\n      }\n\n      this.data[ fileName ] = undefined;\n      this.files = files2;\n    }\n    catch ( e ) {\n      throw {\n        message: \"deleteFile: '\" + fileName + \"' - \" + e.message\n      }\n    }\n    return true;\n  }\n\n  formatDisk() {\n\n    this.files = [];\n    this.data  = {};\n\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n\n    this.files = [];\n    this.data  = {};\n    this.deviceId = 1;\n\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  exists( fileName ) {\n\n    var el = document.getElementById( fileName );\n\n    if( el ) {\n      return true;\n    }\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    throw { message: \"saveFile '\"+fileName+\"' - SCRIPTURL is readonly\" }\n\n  }\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n  loadTextFromURL( url, cb ){\n      // read text from URL location\n      var request = new XMLHttpRequest();\n      var _this = this;\n\n      request.onreadystatechange = function () {\n          if (request.readyState === 4 && request.status === 200) {\n\n              _this.loadedFile( url, cb, _this.makeDataContainer( request.responseText ) );\n          }\n      }\n      request.overrideMimeType(\"text/plain\");\n      request.open('GET', url, true);\n      request.send(null);\n  }\n\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  loadFile( fileName, cbRec ) {\n\n    if( ! this.exists( fileName ) ) {\n      throw makeError(\"File not found\");\n    }\n\n    var el = document.getElementById( fileName );\n\n    if( el.innerText.trim() == \"\" ) {\n\n      var found = false;\n      if( el.src ) {\n        if( el.src != \"\" ) {\n          found = true;\n        }\n      }\n      if(! found ) {\n          return { type: \"bas\", data: \"10 print \\\"?program not found error\\\"\" };\n      }\n\n      this.loadTextFromURL( el.src, cbRec );\n\n\n    }\n    else {\n\n      var lines = el.innerText.split(\"\\n\");\n      var data = \"\";\n      for( var i=0; i<lines.length; i++) {\n        if( data != \"\") { data += \"\\n\"; }\n        data+= lines[ i ].trim();\n      }\n\n      cbRec.clazz[ cbRec.method ]( fileName, cbRec, this.makeDataContainer( data ) );\n\n      /*\n\n        loadFile( path, cb )\n        loadedFile( path, cb, data )\n      */\n\n    }\n\n  }\n\n  loadedFile( fileName, cbRec, data) {\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, data );\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n    var scriptsDom = document.getElementsByTagName(\"script\");\n    var scripts = [];\n\n    for( var i=0; i<scriptsDom.length; i++) {\n      var item = scriptsDom.item(i);\n      //if(item.type == \"text/basic\" ) {\n        console.log( item.attributes.id );\n        var id = item.attributes.id.nodeValue;\n\n        scripts.push(  { fname: id } );\n    }\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<scripts.length; i++) {\n        if( defaultMatcherFunction (  path, scripts[i].fname ) ) {\n          files2.push( scripts[ i ] );\n        }\n      }\n\n      scripts = files2;\n    }\n\n    return {files:  scripts, title: \"page scripts\", free: 0 };\n\n  }\n\n  deleteFile( fileName ) {\n\n    throw { message: \"SCRIPTURL is readonly\" }\n\n  }\n\n  formatDisk() {\n\n    throw { message: \"formatDisk '\"+fileName+\"' - SCRIPTURL is readonly\" }\n\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","import  HTTPLib   from        './httplib.js';\n\nclass FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n\n    this.lib = new HTTPLib( sys );\n    this.deviceId = 2;\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  exists( fileName ) {\n\n    return this.lib.exists( fileName );\n\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    this.lib.saveFile( fileName, data, type, size );\n\n  }\n\n\n  loadFile( fileName, cbRec ) {\n\n    this.lib.loadFile( fileName, cbRec );\n\n  }\n\n  getDir() {\n    return this.lib.getDir();\n  }\n\n  deleteFile( fileName ) {\n    this.lib.deleteFile( fileName );\n  }\n\n  formatDisk() {\n\n    this.lib.formatDisk();\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n    this.domCtr = this.sys.domContainer;\n\n    this.deviceId = 10;\n  }\n\n  init() {\n\n\n\t\tthis.link = document.createElement(\"a\");\n    this.link.style.display = \"none\";\n    this.domCtr.appendChild( this.link );\n\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      message: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  ready() {\n    return true;\n  }\n\n  getDir() {\n    throw this.makeError( \"getDir\", \"Not Supported\");\n\n  }\n\n  exists( fileName ) {\n    return false;\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    if( fileName.indexOf(\"/\") >-1 ) {\n      throw {\n        message: \"saveFile: '\"+fileName+\"' - invalid path, TRANSFERFS device only supports flatdir\"\n      }\n    }\n\n    const blob = new Blob([data]);\n    const url = URL.createObjectURL(blob);\n\n    this.link.download = fileName;\n    this.link.href = url;\n    this.link.click();\n\n\n  }\n\n  loadFile( fileName ) {\n    return null;\n  }\n\n  deleteFile( fileName ) {\n    return false;\n  }\n\n  formatDisk() {\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  /* QFS - Qualified file system */\n  /* Qualified paths can be used to find files on other file system*/\n  constructor( sys, dependencies ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    if(!dependencies) {\n      throw \"dependencies expected\";\n    }\n\n    this.dependencies = dependencies;\n    this.initialized = false;\n    this.sys = sys;\n    this.defaultFS = sys.bootCfg.fs.default;\n    this.currentFS = this.defaultFS;\n\n    this.validCharacters =\n      \"abcdefghijklmnopqrstuvwxyz\" +\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\" +\n      \"0123456789+-._\";\n\n  }\n\n  init() {\n    this.initialize();\n  }\n\n  initialize() {\n\n    this.fsList = [];\n    var dependencies = this.dependencies;\n\n    for( var i=0; i< dependencies.length; i++) {\n        var fsToken = dependencies[i];\n        var fs = {\n          token: fsToken,\n          fs: this.sys.m[ fsToken ],\n          prefix: fsToken + \"://\",\n          device: this.sys.m[ fsToken ].deviceId\n        }\n        this.fsList.push( fs );\n    }\n\n     this.initialized = true;\n  }\n\n  matcher( matchString, fileName ) {\n    if( matchString.endsWith( \"*\" ) ) {\n      var newMatchString = matchString.substr( 0, matchString.length - 1 );\n      if( fileName.startsWith( newMatchString )) {\n        return true;\n      }\n    }\n    else if( matchString.startsWith( \"*\" ) ) {\n      var newMatchString = matchString.substr( 1 );\n      if( fileName.endsWith( newMatchString )) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getCurrent() {\n    return this.currentFS;\n  }\n\n  getFSByDevId(deviceId) {\n\n      var fsList = this.fsList;\n\n      for( var i=0; i< fsList.length; i++) {\n          var fs = fsList[i];\n          if( fs.device == deviceId ) {\n            return fs;\n          }\n      }\n      return null;\n  }\n\n  checkFS( qpath0 ) {\n\n    if( (typeof qpath0 ).toLowerCase() == \"number\" ) {\n        return this.getFSByDevId(qpath0);\n    }\n\n    var qpath = qpath0;\n    var fsList = this.fsList;\n\n    if( qpath.split(\"://\").length == 1 ) { //no prefix\n      qpath = qpath0 + \"://\";\n    }\n\n    for( var i=0; i< fsList.length; i++) {\n        var fs = fsList[i];\n        if( qpath.startsWith( fs.prefix ) ) {\n          return fs;\n        }\n    }\n    return null;\n  }\n\n  setFS( path ) {\n\n    var fs;\n\n    fs = this.checkFS(path);\n\n    if( ! fs ) {\n      return false;\n    }\n    this.currentFS = fs.token;\n    return true;\n  }\n\n  listFS() {\n    var list = [];\n    var fsList = this.fsList;\n\n    for( var i=0; i< fsList.length; i++) {\n        var fs = fsList[ i ];\n        list.push( {\n          name: fs.prefix,\n          device: fs.device\n\n        } ) ;\n    }\n\n    list.sort((a, b) => (a.device > b.device) ? 1 : -1)\n\n    return list;\n  }\n\n  ready() {\n    return this.initialized;\n  }\n\n  getFS( qpath ) {\n\n    if( (typeof qpath ).toLowerCase() == \"number\" ) {\n        return this.getFSByDevId(qpath);\n    }\n\n    var fsList = this.fsList;\n\n    if( qpath.split(\"://\").length == 1 ) { //no prefix\n      for( var i=0; i< fsList.length; i++) {\n          var fs = fsList[i];\n          if( (this.currentFS + \"://\") == fs.prefix ) {\n            return fs;\n          }\n      }\n    }\n\n    for( var i=0; i< fsList.length; i++) {\n        var fs = fsList[i];\n        if( qpath.startsWith( fs.prefix ) ) {\n          return fs;\n        }\n    }\n\n    //this.currentFS\n\n    return null;\n  }\n\n  getLPath( qpath ) {\n    if( (typeof qpath ).toLowerCase() == \"number\" ) {\n      return \"\";\n    }\n    var parts = qpath.split(\"://\");\n    if( parts.length <2 ) { return qpath; }\n    return parts[ 1 ];\n  }\n\n  getDir( qpath ) {\n\n    if( !this.initialized ) {\n      return {\n        files: [],\n        title: \"null\",\n        free: -1,\n        fs: \"?\"\n      };\n    }\n\n    var fsRecord = this.getFS( qpath );\n\n    if( !fsRecord ) {\n      return {\n        files: [],\n        title: \"null\",\n        free: -1,\n        fs: \"?\"\n      };\n    }\n    var result = fsRecord.fs.getDir( this.getLPath( qpath), this.matcher );\n    result.fs = fsRecord.prefix;\n    return result;\n  }\n\n  existsFile( qpath ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    return false;\n  }\n\n  checkFileName( f ) {\n    for( var i=0; i<f.length; i++ ) {\n      var c = f.charAt(i);\n      if( this.validCharacters.indexOf( c ) < 0 ) {\n        return false;\n      }\n    }\n    return true;\n\n  }\n\n  doCallBack( callback, callBackResponse ) {\n\n    if( callback.clazz )  {\n\n        if( callback.data ) {\n          callBackResponse.cbData = callback.data;\n        }\n        callback.clazz[ callback.method ]( callBackResponse );\n\n    }\n    else {\n        callback( callBackResponse );\n    }\n\n\n  }\n\n  saveFile(\n      /*mandatory*/ qpath0, data, callRecord,\n      /*optional*/ type, length ) {\n\n    if( !this.initialized ) {\n      return null;\n    }\n\n    var qpath = qpath0.toLowerCase();\n\n    var fsRecord = this.getFS( qpath );\n    if( !fsRecord ) {\n      throw { message: qpath + \" has unknown file system\" };\n    }\n\n    var lpath = this.getLPath( qpath );\n    if( !lpath ) {\n      throw { message: \"QPath '\" + qpath + \"' has no local path\" };\n    }\n\n    if( !this.checkFileName( lpath ) ) {\n      throw { message: \"path '\" + lpath + \"' has invalid characters\" };\n    }\n\n    var result = fsRecord.fs.saveFile( lpath, data, type, length );\n\n    var args = {};\n    args.qpath = qpath;\n    args.type = type;\n    args.length = length;\n\n\n    var callBackResponse = { result: result, args: args, origCallBackRecord: callRecord };\n\n    this.doCallBack( callRecord, callBackResponse );\n\n    return null;\n\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n\n  loadFile( qpath0 , callRecord  ) {\n\n    var qpath = qpath0.toLowerCase();\n\n    var cbRec = callRecord;\n    var makeError = this.makeError;\n\n    if( !this.initialized ) {\n\n      cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError(\"Not Initialized\") );\n\n      return;\n    }\n\n    var fsRecord = this.getFS( qpath );\n\n    if( !fsRecord ) {\n\n      cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError(qpath + \" has unknown file system\") );\n\n      return;\n    }\n\n    var lpath = this.getLPath( qpath );\n    if( !lpath ) {\n\n      cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError( \"QPath '\" + qpath + \"' has no local path\" ) );\n\n      return;\n    }\n\n    if( !this.checkFileName( lpath ) ) {\n      throw { message: \"path '\" + lpath + \"' has invalid characters\" };\n    }\n    //original calling callrecord looks like this\n    //var callRecord = { clazz: this, method: \"loadedApp\" }\n\n    var wrappedCallBackRecord = {\n        origCallBackRecord: callRecord,\n        qpath: qpath,\n        clazz: this,\n        method: \"loadedFile\"\n    };\n\n    try {\n      fsRecord.fs.loadFile( lpath, wrappedCallBackRecord );\n    }\n    catch( e ){\n      if( e.fsErrorSignature ) {\n        cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError( e.reason ) );\n        return;\n      }\n      else {\n        cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError( \"Internal error\", e ) );\n        return;\n      }\n    }\n\n  }\n\n  loadedFile( path, cbWrapRec, response ) {\n    var cbRec = cbWrapRec.origCallBackRecord;\n    cbRec.clazz[ cbRec.method ]( cbWrapRec.qpath, cbRec , response );\n  }\n\n\n  /*\n\n    loadFile( path, cb )\n    loadedFile( path, cb, data )\n  */\n\n  deleteFile( qpath0, callRecord ) {\n\n    if( !this.initialized ) {\n      return null;\n    }\n\n    var qpath = qpath0.toLowerCase();\n\n    var fsRecord = this.getFS( qpath );\n    if( !fsRecord ) {\n      throw { message: qpath + \" has unknown file system\" };\n    }\n\n    var lpath = this.getLPath( qpath );\n    if( !lpath ) {\n      throw { message: \"QPath '\" + qpath + \"' has no local path\" };\n    }\n\n    if( !this.checkFileName( lpath ) ) {\n      throw { message: \"path '\" + lpath + \"' has invalid characters\" };\n    }\n\n    //TODO asynch delete\n    var result = fsRecord.fs.deleteFile( lpath );\n\n    var args = {};\n    args.qpath = qpath;\n\n    var callBackResponse = { result: result, args: args, origCallBackRecord: callRecord };\n\n    this.doCallBack( callRecord, callBackResponse );\n\n    return null;\n  }\n\n  formatDisk( qpath ) {\n\n    if( ! this.existsFile( fileName ) ) {\n      return \"no such file\";\n    }\n\n    return \"error\";\n\n  }\n}\n\nexport { FILESYSMODULE as default};\n"],"names":["SYMBOLSIMAGE","getBlobURL","TILES","constructor","img","gridw","gridh","transCol","this","iconGrid","w","width","h","height","iconCanvas","document","createElement","iconContext","getContext","drawImage","xiconcount","xiconrowcount","yicon","xicon","offset","sx","sy","sd","getImageData","data","xoffset","yoffset","rowoffset","grid","y","row","x","pix","r","g","b","push","getCharData","i","MrBeepChannel","audioCtx","waveform","masterVolume","volumeFunc","initialized","initializedFully","effects","FLR","FS","VLR","VS","enable","_init","disable","maxGain","gain","value","createGain","connect","volumeValue","filter","occilator","createOscillator","frequency","type","setValueAtTime","currentTime","start","setVolume","volume","playBeep","duration","durInSeconds","durInSeconds0","durInSeconds1","durInSeconds2","now","cancelScheduledValues","linearRampToValueAtTime","clearEffect","addEffect","time","length","playEffect","freq","e","setAttackDecayRelease","attackT","decayT","releaseT","setSustainLevel","sustainV","playSound","sustainT","durInSeconds3","setFrequency","f","startSound","releaseSound","MrBeep","window","AudioContext","webkitAudioContext","channels","defaults","masterGain","destination","channelCount","_int_v2g","_int_log10","Math","log","LN10","v","console","reset","channelVolume","channel","channelFrequency","channelSetAttackDecayRelease","channelSetSustainLevel","LIB","sys","files","prefix","init","ready","exists","fileName","makeError","saveFile","size","reason","details","success","message","fsErrorSignature","makeDataContainer","loadTextFromURL","url","cb","request","XMLHttpRequest","_this","onreadystatechange","readyState","status","loadedFile","responseText","overrideMimeType","open","send","loadFile","cbRec","response","clazz","method","getDir","deleteFile","formatDisk","DATA","options","opts","opt","display","navigator","clipboard","readText","fg","bg","border","getOptions","HANDLERS","menuSys","setBasic","basic","m","doExposedAction","id","handler_pasteFromClip","handler_pasteBox","pastebox","style","pasteArea","defaultPasteText","oldInnerText","innerText","input","unsetInputHandler","clearMenu","hideMenu","color","backgroundColor","bgColor","focus","select","out","hideInner","__this","pasteHandler","setTimeout","pasteHandler2","showInner","unhideMenu","setInput","removeEventListener","pasteTextFromClipboard","addEventListener","alert","then","clipText","bootCfg","fs","default","mode","warnings","privacyMute","subSys","keyboard","allowDefault","all","events","adEvents","boot","cfg","staticFlag","staticTarget","headerElement","domContainer","body","appendChild","SIG","SUBSYS","VERSION","CODENAME","nulcon","rootScript","getElementById","displayMode","parseInt","dataset","isNaN","bootMode","dynamicMinTarget","indexOf","bootDebug","getSys","initSimpleLogging","buf","getAll","writeln","txt","s","rawlog","array","line","j","sep","rawlogcon","args","Array","prototype","slice","call","arguments","apply","logwarn","warn","logerr","error","addModule","toList","checkL","dep","deps","mods","ci","displaymodes","drivers","tablecon","canvas","modes","textmode1","textmode2","textmode3","menuCreated","getDriver","currentDriver","getMode","getModes","getCurrentMode","currentMode","setMode","menu","Number","dc","getDeviceConfig","cm","endMode","create","device","initMode","config","notifyOnClick","basicmenu","destroy","undefined","tmp","split","driver","splice","cursorOn","cols","rows","hidden","blinking","reverse","outColors","fontSizeInt","fontSizeCSS","fontFamily","htmlPalette","txtBgColor","txtColor","htmlColor","ix","outDiv0","remove","cvs","cvs2","ctx","ctx2","rowel","cellel","blinkInterval","clearInterval","getColumCount","getRowCount","getDimensions","headerElementManager","msgs","queuedMessages","inputElement","colsPercentage","outDiv1","outEl","event","sel","selection","createRange","toString","getSelection","rangeCount","getRangeAt","cloneContents","childNodes","text","rix","cix","firstChild","getTextOfSelection","clipboardData","setData","preventDefault","table","borderCollapse","borderSpacing","resize","fontSize","tableLayout","readOnly","textAlign","tr","padding","maxHeight","rowArray","td","textOverflow","whiteSpace","overflow","maxWidth","innerHTML","position","zIndex","verticalAlign","marginLeft","marginRight","get","setDimensions","clientWidth","dirty","dirtyFlags","setInterval","_int_blink","native","operation","action","blinkMode","hasPixels","_int_updateArea","srccells","x0","y0","x1","y1","cell","src","textContent","update","p","list","_int_blinkOff","show","cx","cy","el","cells","x2","y2","updateAll","hide","getElement","clear","__int_nl","__int_scrollDown","str","c","substr","__int_write_direct_ch","ch","cellyp1","cursorMode","bmFontEnable","colors","palette","pad2","hs","rv","pl","htmlCol","newcolor","floor","bmPalette","defaultTextMode","image","Image","onload","evt","_postLoadFontImage","fimage","GLYPHSADDR","NaN","characterbank0","characterbank1","characterbank2","characterbank3","bankDefaultBaseAddr","bankBaseAddr","bfont","cvsCursor","ctxCursor","cache","fontSizeIntW","fontSizeIntH","oc","bgHTML","fgHTML","bgRGB","fgRGB","ww","innerWidth","wh","innerHeight","startsWith","percentages","percentagex","percentagey","percentage","fsw","fsh","center","alpha","strokeStyle","cX","cY","updCtxImageData","synched","offsets","font","textBaseline","fsid2","tmp0","measureText","oIndicatorChar","oIndicatorSize","oIndicatorOffset","handler","myFunction","gfilter","_int_storeset_color","oldfg","oldbg","_int_restore_color","index","index2","paintCursor","yy","offX","_int_paintchar","_int_Refresh","obg","ofg","col1","col2","_int_drawIndicator","fillStyle","fillRect","setCharacterBank","addr","characterbank","cacheel","charAddr","relCode","code","charCodeAt","bitmapchar","tmp3","tmpw","imgdata","yofflen","bgc","fgc","xx","putImageData","off","fillText","op_gcolor","params","op_line","beginPath","moveTo","lineTo","stroke","gfxUpdate","record","lineLen","pixels","upd","imd","pdata","xrel","getBitmapDimensions","mrbeepaudio","mrBeep","simplewarning","key","warningOngoing","notify","simpleWarning","oldBGColor","priv","verified","denied","confirmLocalStorage","localStorage","getItem","confirm","setItem","mutedinput","getKey","setInputHandler","domelinput","evtQueueKeyPress","target","shift","elFun","checkIfAllowDefault","ad","l","queuekp","kEvent","keyLabel","shiftKey","ctrlKey","inputMode","htmlwrapper","node","isAttr","executeFunction","paramArray","backgroundImage","backgroundSize","execute","htmlCodeArr","htmlCode","handle","htmlHandle","setnode","htmlAppend","htmlValue","arr","attr","attributes","getNamedItem","attrName","nodeValue","setAttribute","parentNode","parts","elName","apps","audioInitFlag","audioInit","audio","con","settings","worker","Worker","qfs","initMore","settingsPath","cbMessage","settingsLoadResponse","postMessage","windowWidth","windowHeight","bWH","_parent","onmessage","t","write","writec","d","parCount","p1","p2","p3","p4","showMenu","setPos","loadAppFromProgram","loadDataFromProgram","saveProgram","dir","path","setfs","setStatus","listfs","cursor","processId","messageObject","textW","textH","bitmapW","bitmapH","properties","areasList","callback","writeText","windowResizeEvent","sub","nullHandler","loadApp","url0","block","charAt","requestClipboardCopy","requestClipboardCopyScreen","requestColorReset","requestExport","requestFileSystems","listFS","list2","requestShowList","requestListDirectory","getCurrent","fname","requestListScripts","script","requestAbout","requestList","requestRenumber","requestNew","requestVars","requestDataBlocks","requestHelp","requestClearScreen","requestResetConsole","requestRun","requestStop","devicePath","deletedFile","qpath","result","origCallBackRecord","savedProgram","label","dev","getFS","loadedApp","pgmData","QPath","loadedDataFromProgram","loadedAppFromProgram","currentFs","setFS","path0","title","free","inputKeyHandler","doAction","handlers","menus","statusWidgets","pgmLen","varLen","mnuBttnOptContainers","mnuBttnOptContainersTgl","mnuBttns","mnuBttnContainers","mnuLinks","statusTopMargin","statusColor","statusBgColor","statusFont","cnt","getOnClickMenuButtonFunc","ll","k","lnk","getClickLinkFunc","getOnOverLinkFunc","element","flag","button","parent","menuOptions","div0","buttn0","div1","borderTop","borderBottom","borderLeft","borderRight","minWidth","active","lnks","o","JSON","stringify","statusItem","marginTop","statusItems","interpreterStatus","buttons","mainOptions","onDeselect","styleButtons","buttonTable","paddingBottom","paddingTop","paste","ta","optLst2","optLstTgl","funData","toLowerCase","parse","k2","lnk2","thisIx","optLst","sfs","deviceId","initialize","currentDisk","privacy","getEmptyDirStructure","name","defaultMatcherFunction","storageName","json","sessionStorage","foundNullIx","files2","setDir","existsFile","found","removeFromDir","updateDir","programLen","fileName0","container","_removeFile","removeItem","getFullDisk","disk","content","diskStr","disks","diskId","lastDisk","disksNotInitialized","last","selectDisk","getDisks","createDiskFromImage","createDiskFromImage2","createSysDiskFromImage","sysDisk","labl","padStart","outtent","createDisk","newDir","ramfs","fEntry","trim","lines","scriptsDom","getElementsByTagName","scripts","item","site","lib","export","domCtr","link","blob","Blob","URL","createObjectURL","download","href","click","dependencies","defaultFS","currentFS","validCharacters","fsList","fsToken","token","matcher","matchString","endsWith","newMatchString","getFSByDevId","checkFS","qpath0","sort","a","getLPath","fsRecord","checkFileName","doCallBack","callBackResponse","cbData","callRecord","lpath","wrappedCallBackRecord","cbWrapRec","mods0","Object","getOwnPropertyNames","conStyle","onReady"],"sourceRoot":""}