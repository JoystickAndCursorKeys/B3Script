{"version":3,"file":"basicloader.js","mappings":"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","sources":["webpack://B3/./src/sys/modules/canvas/symbols.js","webpack://B3/./src/sys/modules/canvas/simpletiles.js","webpack://B3/./src/sys/modules/mrbeep/mrbeep-channel.js","webpack://B3/./src/sys/modules/mrbeep/mrbeep.js","webpack://B3/./src/sys/modules/fs/http/httplib.js","webpack://B3/./src/sys/modules/basicmenu/menudata.js","webpack://B3/./src/sys/modules/basicmenu/handlers.js","webpack://B3/./src/sys/bootloader_static.js","webpack://B3/./src/sys/bootcfg.js","webpack://B3/./src/sys/bootsys.js","webpack://B3/./src/sys/modules/displaymodes.js","webpack://B3/./src/sys/modules/tablecon.js","webpack://B3/./src/sys/modules/canvas/module.js","webpack://B3/./src/sys/modules/mrbeep/module.js","webpack://B3/./src/sys/modules/simplewarning.js","webpack://B3/./src/sys/modules/privwarning.js","webpack://B3/./src/sys/modules/mutedinput.js","webpack://B3/./src/sys/modules/domelinput.js","webpack://B3/./src/sys/modules/htmlwrapper.js","webpack://B3/./src/sys/modules/basic/module.js","webpack://B3/./src/sys/modules/basicmenu/module.js","webpack://B3/./src/sys/modules/fs/sessionfs.js","webpack://B3/./src/sys/modules/fs/lfs.js","webpack://B3/./src/sys/modules/fs/ramfs.js","webpack://B3/./src/sys/modules/fs/scripturl.js","webpack://B3/./src/sys/modules/fs/http/sitefs.js","webpack://B3/./src/sys/modules/fs/transferfs.js","webpack://B3/./src/sys/modules/fs/qfs.js"],"sourcesContent":["/* Generated blob URL, from img/symbolscii2c.png */\n\n\nclass SYMBOLSIMAGE {\n\n  getBlobURL() {\n\n    var url =\n\"data:image/png;base64,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\"\n    ;\n\n    return url;\n  }\n\n}\nexport { SYMBOLSIMAGE as default};\n","\nclass TILES {\n\n\tconstructor( img, gridw, gridh, transCol ) {\n\n\t\t\tthis.img = img;\n\t\t\tthis.gridw = gridw;\n\t\t\tthis.gridh = gridh;\n\n\t\t\tthis.iconGrid = [];\n\n\t\t\tvar w = this.img.width;\n\t\t\tvar h = this.img.height;\n\n\t\t\tthis.iconCanvas = document.createElement('canvas');\n\t\t\tthis.iconContext = this.iconCanvas.getContext('2d');\n\n\t\t\tthis.iconCanvas.width = \tw;\n\t\t\tthis.iconCanvas.height = \th;\n\n\t\t\tthis.iconContext.drawImage( this.img, 0, 0, w, h);\n\n\t\t\tthis.xiconcount = w / this.gridw;\n      this.xiconrowcount = h / this.gridh;\n\n\n      for (var yicon = 0; yicon < this.xiconrowcount; yicon++) {\n\t\t\tfor (var xicon = 0; xicon < this.xiconcount; xicon++) {\n\n\t\t\t\tvar sx = (xicon * this.gridw);\n\t\t\t\tvar sy = (yicon * this.gridh);\n\t\t\t\tvar imgdata = this.iconContext.getImageData(sx, sy, this.gridw, this.gridh);\n\t\t\t\tvar sd  = imgdata.data;\n\n\t\t\t\tvar xoffset = 0;\n\t\t\t\tvar yoffset = 0;\n\t\t\t\tvar rowoffset = this.gridw * 4;\n\t\t\t\tvar offset;\n\n\t\t\t\tvar grid = [];\n\t\t\t\tfor (var y = 0; y < this.gridh; y++) {\n\t\t\t\t\txoffset = 0;\n\n\t\t\t\t\tvar row = [];\n\t\t\t\t\tfor (var x = 0; x < this.gridw; x++) {\n\t\t\t\t\t\tvar pix = 1;\n\n\t\t\t\t\t\toffset = yoffset + xoffset;\n\n\t\t\t\t\t\tif( sd[ offset + 0] == transCol.r && sd[ offset + 1] == transCol.g && sd[ offset + 2] == transCol.b )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpix = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.push( pix );\n\t\t\t\t\t\txoffset += 4;\n\t\t\t\t\t}\n\t\t\t\t\tgrid.push( row );\n\t\t\t\t\tyoffset += rowoffset;\n\t\t\t\t}\n\n\t\t\t\t//dcontext.putImageData( dimgdata, 0, 0);\n\t\t\t\tthis.iconGrid.push( grid  );\n\t\t\t\t//this.iconsContext.push( dcontext );\n\t\t\t}\n      }\n\n      this.iconCanvas = null;\n      this.iconContext = null;\n      this.img = null;\n\t}\n\n\n\tgetCharData( i ) {\n\n\t\treturn this.iconGrid[ i ];\n  }\n\n}\n\n\n\nexport { TILES as default};\n","class MrBeepChannel {\n\n  constructor( audioCtx, waveform, masterVolume, volumeFunc ) {\n    this.audioCtx = audioCtx;\n    this.waveform = waveform;\n    this.masterVolume = masterVolume;\n    this.volumeFunc = volumeFunc;\n\n    this.initialized = false;\n    this.initializedFully = false;\n\n    this.effects = [];\n\n    this.FLR = 10;  //frequency linair range\n    this.FS = 11;   //frequency set\n    this.VLR = 20;  //volume linair range\n    this.VS = 21;   //volume set\n\n  }\n\n  enable() {\n    this._init();\n  }\n\n  disable() {\n    this.maxGain.gain.value=0.0;\n  }\n\n  _init() {\n\n    if( this.initialized ) {\n      return;\n    }\n\n    this.initialized = true;\n\n    this.maxGain = this.audioCtx.createGain();\n    this.maxGain.connect( this.masterVolume );\n\n    this.maxGain.gain.value=0.0;\n    this.volumeValue = 0.0;\n\n    this.gain = this.audioCtx.createGain();\n    this.gain.connect( this.maxGain );\n\n    if( this.waveform == \"noise\" ) {\n\n\n      //var from = 300;\n      //var to = 30000;\n      //var geometricMean = Math.sqrt(from * to);\n      //this.filter.Q.value = geometricMean / (to - from);\n\n      /*\n      this.filter = this.audioCtx.createBiquadFilter();\n\n      this.filter.type = \"bandpass\";\n      this.filter.frequency.value = 440;\n      this.frequency = this.filter.frequency;\n      this.filter.Q.value = 5;\n      this.filter.connect(this.gain);\n\n      var bufferSize = 4096;\n\n      var b0, b1, b2, b3, b4, b5, b6;\n      b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n      var node = this.audioCtx.createScriptProcessor(bufferSize, 1, 1);\n      node.onaudioprocess = function(e) {\n          var output = e.outputBuffer.getChannelData(0);\n          for (var i = 0; i < bufferSize; i++) {\n              var white = Math.random() * 2 - 1;\n              b0 = 0.99886 * b0 + white * 0.0555179;\n              b1 = 0.99332 * b1 + white * 0.0750759;\n              b2 = 0.96900 * b2 + white * 0.1538520;\n              b3 = 0.86650 * b3 + white * 0.3104856;\n              b4 = 0.55000 * b4 + white * 0.5329522;\n              b5 = -0.7616 * b5 - white * 0.0168980;\n              output[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n              output[i] *= 0.11; // (roughly) compensate for gain\n              b6 = white * 0.115926;\n          }\n      }\n\n      this.occilator = node;\n      this.occilator.connect( this.filter );\n\n      this.gain.gain.value=0.0;\n      this.gain.gain.setValueAtTime(0, this.audioCtx.currentTime);\n\n      this.initializedFully = true;\n      */\n\n    }\n    else {\n      // we create the gain module, named as volume, and connect it to our\n      //these sines are the same, exept for the last connect statement.\n      //Now they are connected to the volume gain module and not to the au\n\n      this.filter = null;\n\n      this.occilator = this.audioCtx.createOscillator();\n      this.occilator.frequency.value = 440;\n      this.frequency = this.occilator.frequency;\n\n      this.occilator.type = this.waveform;\n      this.occilator.connect(this.gain);\n      this.gain.gain.value=0.0;\n      this.gain.gain.setValueAtTime(0, this.audioCtx.currentTime);\n      this.occilator.start(0);\n      this.initializedFully = true;\n\n\n\n\n    }\n  }\n\n  setVolume( volume ) {\n\n    this.enable();\n\n    this.maxGain.gain.value= volume;\n    this.volumeValue = volume;\n\n    if( volume == 0) {\n      this.disable();\n    }\n\n  }\n\n  playBeep( frequency, duration ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds = duration / 1000;\n    var durInSeconds0 = durInSeconds/20;\n    var durInSeconds1 = durInSeconds - (durInSeconds/20);\n    var durInSeconds2 = durInSeconds;\n    var now =this.audioCtx.currentTime;\n\n    this.frequency.cancelScheduledValues( now );\n    this.gain.gain.cancelScheduledValues( now );\n\n    this.frequency.setValueAtTime( frequency,  now );\n\n    this.gain.gain.linearRampToValueAtTime(1.0 , now + durInSeconds0);\n    this.gain.gain.linearRampToValueAtTime(1.0 , now + durInSeconds1);\n    this.gain.gain.linearRampToValueAtTime(0.0 , now + durInSeconds2);\n\n  }\n\n  clearEffect() {\n    this.effects  = [];\n  }\n\n  addEffect( type , value, time ) {\n    if( this.effects.length > 254 ) {\n      return;\n    }\n\n    this.effects.push( {\n      type: type ,\n      value: value,\n      time: time\n      }\n    );\n  }\n\n  playEffect( freq ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var now =this.audioCtx.currentTime;\n\n    this.gain.gain.cancelScheduledValues( now );\n    this.frequency.cancelScheduledValues( now );\n\n    //this.maxGain.gain.value= this.volumeValue;\n\n    var jiffy = 0.000001;\n    now = now + jiffy;\n\n    for( var i = 0; i < this.effects.length ; i++) {\n      var e = this.effects[ i ];\n      if( e.type == this.VLR ) {\n        this.gain.gain.linearRampToValueAtTime( e.value , now + e.time/1000 );\n      }\n      else if( e.type == this.FLR ) {\n        this.frequency.linearRampToValueAtTime( e.value + freq , now + e.time/1000 );\n      }\n      else if( e.type == this.VS ) {\n        this.gain.gain.setValueAtTime( e.value , now + e.time/1000 );\n      }\n      else if( e.type == this.FS ) {\n        this.frequency.setValueAtTime( e.value  + freq, now + e.time/1000 );\n      }\n\n    }\n\n  }\n\n  setAttackDecayRelease( attackT, decayT, releaseT ) {\n\n    this.attackT = attackT;\n    this.decayT = decayT;\n    this.releaseT = releaseT;\n\n  }\n\n  setSustainLevel( sustainV ) {\n\n    this.sustainV = sustainV;\n\n  }\n\n\n  playSound( frequency, sustainT ) {\n\n    var now =this.audioCtx.currentTime;\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds0 = (this.attackT/1000);\n    var durInSeconds1 = (this.attackT/1000) + (this.decayT/1000);\n    var durInSeconds2 = (this.attackT/1000) + (this.decayT/1000) + (sustainT/1000) ;\n    var durInSeconds3 = (this.attackT/1000) + (this.decayT/1000) + (sustainT/1000) + (this.releaseT/1000);\n\n    this.frequency.cancelScheduledValues( now );\n    this.gain.gain.cancelScheduledValues( now );\n    //this.frequency.value = frequency;\n    this.frequency.setValueAtTime( frequency, now );\n\n    this.gain.gain.linearRampToValueAtTime( 1.0              , now + durInSeconds0);\n    this.gain.gain.linearRampToValueAtTime( this.sustainV    , now + durInSeconds1);\n    this.gain.gain.linearRampToValueAtTime( this.sustainV    , now + durInSeconds2);\n    this.gain.gain.linearRampToValueAtTime( 0                , now + durInSeconds3);\n\n  }\n\n  setFrequency( f ) {\n\n    var now =this.audioCtx.currentTime;\n    this.frequency.cancelScheduledValues( now );\n    //this.frequency.value = f;\n    this.frequency.setValueAtTime( f, now );\n  }\n\n  startSound( frequency ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds0 = this.attackT/1000;\n    var durInSeconds1 = (this.attackT/1000) + (this.decayT/1000);\n\n    //this.frequency.value = frequency;\n    this.frequency.cancelScheduledValues( now );\n    this.frequency.setValueAtTime( frequency, now );\n\n    var now =this.audioCtx.currentTime;\n    this.gain.gain.cancelScheduledValues( now );\n\n    this.gain.gain.linearRampToValueAtTime(1.0              , now + durInSeconds0);\n    this.gain.gain.linearRampToValueAtTime( this.sustainV   , now + durInSeconds1);\n\n  }\n\n  releaseSound( frequency ) {\n\n    this._init();\n    if( !this.initializedFully ) { return; }\n\n    var durInSeconds0 = this.releaseT/1000;\n\n    this.frequency.value = frequency;\n\n    var now =this.audioCtx.currentTime;\n    this.gain.gain.cancelScheduledValues( now );\n\n    this.gain.gain.linearRampToValueAtTime(0.0              , now +durInSeconds0);\n\n  }\n\n}\n\nexport { MrBeepChannel as default};\n","class MrBeep {\n\n  constructor( MrBeepChannel ) {\n    this.audioCtx = new (window.AudioContext || window.webkitAudioContext);\n\n    this.masterVolume = { value: 0.8 };\n    this.channels = [];\n    this.defaults = [\n      \"square\",\"sawtooth\",\"triangle\", \"sine\",\n      \"noise\",\"square\",\"sawtooth\", \"triangle\"\n    ]\n\n    this.masterGain = this.audioCtx.createGain();\n    this.masterGain.connect( this.audioCtx.destination );\n    this.masterGain.gain.value=0.0;\n    this.channelCount = 8;\n\n    for( var i=0; i<this.channelCount; i++) {\n        this.channels.push( new MrBeepChannel( this.audioCtx, this.defaults[ i ], this.masterGain, this._int_v2g ) );\n    }\n\n    this.FLR = 10;\n    this.FS = 11;\n    this.VLR = 20;\n    this.VS = 21;\n  }\n\n  _int_log10(x) {\n    return Math.log(x)/Math.LN10;\n  }\n\n  _int_v2g(v) {\n    //var x = -this._int_log10( 1-(v*.9));\n    var x = -Math.log( 1-(v*.9) )/Math.LN10;\n\n    console.log( v, \"->\", x);\n    return x;\n  }\n\n  reset() {\n    for( var i=0; i<this.channelCount; i++) {\n        this.channels[i].setVolume( 0 );\n        this.channels[i].clearEffect();\n    }\n  }\n\n  setVolume( v ) {\n    //var x = -this._int_log10( 1-(l*.9));//Math.pow(10, (decibel_level / 20));\n\n    this.masterGain.gain.value= this._int_v2g( v );\n  }\n\n  channelVolume( channel, x ) {\n    this.channels[ channel ].setVolume( x );\n  }\n\n  channelFrequency( channel, f ) {\n    this.channels[ channel ].setFrequency( f );\n  }\n\n  channelSetAttackDecayRelease( channel, attackT, decayT, releaseT ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].setAttackDecayRelease( attackT, decayT, releaseT );\n  }\n\n  channelSetSustainLevel( channel,  sustainV ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].setSustainLevel( sustainV );\n  }\n\n\n  playBeep( channel, frequency, duration ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].playBeep( frequency, duration );\n  }\n\n  playSound( channel, frequency, duration ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].playSound( frequency, duration );\n  }\n\n\n  startSound( channel, frequency ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].startSound( frequency );\n  }\n\n  releaseSound( channel, frequency ) {\n    if( channel <0 || channel > 7) {\n      throw \"MrBeep:no such channel \" + channel;\n    }\n\n    this.channels[ channel ].releaseSound( frequency );\n  }\n\n  addEffect( channel,  type , value, time ) {\n    this.channels[ channel ].addEffect( type , value, time );\n  }\n\n  clearEffect( channel ) {\n    this.channels[ channel ].clearEffect();\n  }\n\n  playEffect( channel, freq ) {\n    this.channels[ channel ].playEffect( freq );\n  }\n}\n\nexport { MrBeep as default};\n","class LIB {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n\n    this.files = [];\n    this.data  = {};\n    this.prefix = \"\";\n\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  exists( fileName ) {\n\n    throw this.makeError( \"Exists error\", \"Not yet implemented\");\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    throw this.makeError( \"saveFile error\", \"Not supported\");\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      message: details,\n      fsErrorSignature: true,\n    }\n  }\n\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n  loadTextFromURL( url, cb ){\n      // read text from URL location\n      var request = new XMLHttpRequest();\n      var _this = this;\n\n      request.onreadystatechange = function () {\n          if (request.readyState === 4 && request.status === 200) {\n\n              _this.loadedFile( url, cb, _this.makeDataContainer( request.responseText ) );\n          }\n          else if (request.readyState === 4 && request.status != 200) {\n            _this.loadedFile( url, cb,\n              _this.makeError( \"File not found (\"+request.status+\")\", request.status ) );\n          }\n      }\n      request.overrideMimeType(\"text/plain\");\n      request.open('GET', this.prefix + url, true);\n      request.send(null);\n  }\n\n\n\n  loadFile( fileName, cbRec ) {\n\n      this.loadTextFromURL( fileName, cbRec );\n\n  }\n\n  loadedFile( fileName, cbRec, response) {\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, response );\n  }\n\n  getDir() {\n    throw this.makeError( \"getDir error\", \"Not supported\");\n\n  }\n\n  deleteFile( fileName ) {\n\n    throw this.makeError( \"deleteFile error\", \"Not supported\");\n\n  }\n\n  formatDisk() {\n\n    throw this.makeError( \"formatDisk error\", \"Sorry dave, but I cannot allow you to format the internet :)\");\n\n  }\n\n}\n\nexport { LIB as default};\n","class DATA {\n\n\tconstructor() {\n\n\t\t//opt: \"name\", means use as suffix string call a handler in basicmenu/apps main class\n\t\t//opt: \"@name\", means, call a handler in basic/apps main class\n\n\t\tthis.options = {};\n\n\t\tvar opts = [];\n    opts.push({opt: \"file\", display: \"File\" });\n    opts.push({opt: \"copy\", display: \"Copy\" });\n\t\topts.push({opt: \"basic\", display: \"Basic\" });\n\t\topts.push({opt: \"screeneditor\", display: \"Screen\" });\n\t\topts.push({opt: \"help\", display: \"Help\" });\n\n    this.options[\"main\"] = opts;\n\n    opts = [];\n    opts.push({opt: \"@requestClipboardCopy\", display: \"Copy program\" });\n\t\tif( navigator.clipboard.readText ) {\n\t\t\topts.push({opt: \"pasteFromClip\", data: \"pgm\", display: \"Paste program\" });\n\t\t} else {\n\t\t\topts.push({opt: \"pasteBox\", data: \"pgm\", display: \"Paste program\" });\n\t\t}\n    opts.push({opt: \"@requestClipboardCopyScreen\", display: \"Copy screen data\" });\n    if( navigator.clipboard.readText ) {\n\t\t\topts.push({opt: \"pasteFromClip\", data: \"txt\", display: \"Paste text\" });\n\t\t} else {\n\t\t\topts.push({opt: \"pasteBox\", data: \"txt\", display: \"Paste text\" });\n\t\t}\n    this.options[\"copy\"] = opts;\n\n    opts = [];\n\t\topts.push({opt: \"@requestRun\", display: \"Run\" });\n\t\topts.push({opt: \"@requestStop\", display: \"Stop\" });\n    opts.push({opt: \"@requestList\", display: \"List Program\" });\n\t\topts.push({opt: \"@requestVars\", display:  \"Debug: List Variables\" });\n\t\topts.push({opt: \"@requestDataBlocks\", display:  \"Debug: List Data-blocks\" });\n\t\topts.push({opt: \"@requestRenumber\", display:  \"Renumber Program\" });\n\t\topts.push({opt: \"@requestNew\", display:  \"New Program\" });\n    this.options[\"basic\"] = opts;\n\n    opts = [];\n\t\topts.push({opt: \"@requestListDirectory\", display: \"List directory\" });\n\t\topts.push({opt: \"@requestFileSystems\", display: \"List file systems\" });\n\t\topts.push({opt: \"@requestListScripts\", display: \"List embedded scripts\" });\n    opts.push({opt: \"@requestExport\", display: \"Export Basic Program\" });\n    this.options[\"file\"] = opts;\n\n\t\topts = [];\n\t\topts.push({opt: \"@requestResetConsole\", display: \"Reset Console\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 1, bg:0, border: 10 }, display: \"Dark Mode 1\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 14, bg:0, border: 0 },display: \"Dark Mode 2\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 5, bg:0, border: 10 },display: \"Dark Mode 3\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:8, border: 0 },display: \"Light Mode 1\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:8, border: 10 },display: \"Light Mode 2\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:1, border: 10 },display: \"Light Mode 3\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 15, bg:4, border: 15 },display: \" C64 Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 14, bg:10, border: 14 },display: \"C128 Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 4, bg:1, border: 6 },display: \"Vic20 Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 0, bg:9, border: 9 },display: \"ZX-Spectrum Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 1, bg:4, border: 4 },display: \"MSX Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 1, bg:0, border: 0 },display: \"BBC Theme\" });\n\t\topts.push({opt: \"@requestColorReset\", data: { fg: 3, bg:0, border: 0 },display: \"Apple2 Theme\" });\n    this.options[\"screeneditor\"] = opts;\n\n\t\topts = [];\n\t\topts.push({opt: \"@requestHelp\", display: \"Basic Commands\" });\n\t\topts.push({opt: \"@requestAbout\", display: \"About\" });\n    this.options[\"help\"] = opts;\n\n\t}\n\n\tgetOptions() {\n\t\treturn this.options;\n\t}\n}\n\nexport { DATA as default};\n","class HANDLERS {\n\n\tconstructor( menuSys ) {\n\t\tthis.menuSys = menuSys;\n\t\tthis.sys = this.menuSys.sys;\n\n\t}\n\n\tsetBasic() {\n\t\tthis.basic = this.sys.m.basic;\n\t}\n\n\tdoExposedAction( id, data ) {\n\n\t\tif( id == \"paste\" ) {\n\t\t\tif( !navigator.clipboard.readText ) {\n\t\t\t\tthis.handler_pasteBox( data );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.handler_pasteFromClip( data );\n\t\t\t}\n\t\t}\n\t}\n\n\thandler_pasteBox( type ) {\n\n\t\tthis.menuSys.pastebox.style.display = \"block\";\n\t\tthis.menuSys.pasteArea.value = this.menuSys.defaultPasteText;\n\n\t\tthis.oldInnerText = this.menuSys.pasteArea.innerText;\n\n\t\tthis.input = this.sys.input;\n    this.input.unsetInputHandler();\n\n\t\tthis.menuSys.clearMenu();\n\t\tthis.menuSys.hideMenu();\n\n\t\tthis.menuSys.pasteArea.style.color = this.menuSys.color;\n\t\tthis.menuSys.pasteArea.style.backgroundColor = this.menuSys.bgColor;\n\n\t\tthis.menuSys.pasteArea.focus();\n\t\tthis.menuSys.pasteArea.select();\n\n\t\tthis.sys.out.hideInner();\n\n\t\tvar __this = this;\n\n\t\tthis.pasteHandler = function ( e ) {\n\t\t\tsetTimeout(__this.pasteHandler2 , 10 );\n\t\t}\n\n\t\tthis.pasteHandler2 = function( e ) {\n\t\t\t__this.sys.out.showInner();\n\t\t\t__this.menuSys.unhideMenu();\n\t\t\t__this.basic.setInput( __this.sys.input );\n\t\t\t__this.menuSys.pasteArea.removeEventListener( \"paste\", __this.pasteHandler );\n\t\t\t__this.menuSys.pastebox.style.display = \"none\";\n\t\t\tif( __this.oldInnerText != __this.menuSys.pasteArea.value ) {\n\t\t\t\t__this.basic.pasteTextFromClipboard( __this.menuSys.pasteArea.value, type );\n\t\t\t}\n\n\t\t}\n\n\t\tthis.menuSys.pasteArea.addEventListener(\"paste\", this.pasteHandler);\n\t\t//this.menuSys.pasteArea.addEventListener(\"paste\", this.pasteHandler);\n\t}\n\n\n\thandler_pasteFromClip( type ) {\n\t\tvar __this = this;\n\n\t\tif( !navigator.clipboard.readText ) {\n\t\t\talert(\"Clipboard reading is disabled in your browser\\nYou have to enable it to make this feature work.\");\n\t\t}\n\n\t\tnavigator.clipboard.readText().then(\n\t\t\t(clipText) => {\n\t\t\t\t__this.basic.pasteTextFromClipboard( clipText, type );\n\t\t\t} );\n\n\t}\n\n}\n\nexport { HANDLERS as default};\n","const staticLoading = true;\n\nimport  BootCfg   from        './bootcfg.js';\nimport  BootSys   from        './bootsys.js';\n\nimport  displaymodes   from        './modules/displaymodes.js';\nimport  tablecon   from        './modules/tablecon.js';\nimport  canvas   from        './modules/canvas/module.js';\nimport mrbeep  from       './modules/mrbeep/module.js';\nimport  simplewarning  from   './modules/simplewarning.js';\nimport  privwarning from     './modules/privwarning.js';\nimport  mutedinput from      './modules/mutedinput.js';\nimport domelinput from      './modules/domelinput.js';\nimport htmlwrapper from     './modules/htmlwrapper.js';\nimport sessionfs  from       './modules/fs/sessionfs.js';\nimport lfs  from             './modules/fs/lfs.js';\nimport ramfs  from           './modules/fs/ramfs.js';\nimport qfs  from             './modules/fs/qfs.js';\nimport scripturl  from       './modules/fs/scripturl.js';\nimport exportfs  from       './modules/fs/transferfs.js';\nimport site  from           './modules/fs/http/sitefs.js';\nimport basic from           './modules/basic/module.js';\nimport basicmenu from           './modules/basicmenu/module.js';\n\nvar bootCfg = new BootCfg(  );\nvar boot = new BootSys( bootCfg, staticLoading );\nvar sys = boot.getSys();\n\n\nboot.dep = {};\nboot.i = {}\nboot.i.displaymodes = displaymodes;\nboot.i.tablecon = tablecon;\nboot.i.canvas = canvas;\nboot.i.mrbeepaudio = mrbeep;\nboot.i.simplewarning = simplewarning;\nboot.i.priv = privwarning;\nboot.i.mutedinput = mutedinput;\nboot.i.domelinput = domelinput;\nboot.i.htmlwrapper = htmlwrapper;\nboot.i.basic = basic;\nboot.i.basicmenu = basicmenu;\nboot.i.sfs = sessionfs\nboot.i.cache = lfs;\nboot.i.ramfs = ramfs;\nboot.i.script = scripturl;\nboot.i.site = site;\nboot.i.export = exportfs;\nboot.i.qfs = qfs;\nboot.dep.basicmenu = [ \"domelinput\" ];\nboot.dep.qfs = [ \"ramfs\", \"cache\", \"sfs\", \"script\", \"site\", \"export\" ];\nboot.dep.basic = [ \"canvas\", \"tablecon\", \"displaymodes\", \"mrbeepaudio\", \"qfs\", \"htmlwrapper\", \"basicmenu\" ];\n\nboot.initSimpleLogging();\n\n/* Instantiate modules */\nfunction addModule( m, toList, checkL ) {\n\n  if( checkL >= 5 ) {\n    var tmp = 1;\n    console.log(\"HALT, probably dependency recursion detected\" );\n    throw \"HALT, probably dependency recursion detected\";\n    return;\n  }\n\n  console.log(\" dependencies for \" + m + \" checkL=\" + checkL );\n  if( boot.dep[ m ]) {\n    console.log(\"FOUND DEPENDENCY LIST for \" + m );\n    var deps = boot.dep[ m ];\n    for( var j=0;j<deps.length;j++) {\n      console.log(\" add dependency:  \" + deps[ j ] );\n      addModule( deps[j], mods, checkL + 1 );\n    }\n  }\n\n  var exists = false;\n  for( var ci=0;ci<toList.length;ci++) {\n    if( toList[ ci ] == m ) {\n      exists = true;\n      return;\n    }\n  }\n\n  console.log(\"ADD MODULE \" + m );\n  toList.push( m );\n}\n\nvar mods0 = Object.getOwnPropertyNames( boot.i );\nvar mods = [];\nfor( var i=0;i<mods0.length;i++) {\n  var m = mods0[i];\n  if( mods0[ i ]  === undefined ) {\n    continue;\n  }\n\n\n  addModule( m, mods, 0 );\n\n}\n\n\nfor( var i=0;i<mods.length;i++) {\n  console.log(\"construct \" + mods[ i ] );\n  boot.m[ mods[i] ] = new boot.i[ mods[i] ]( sys, boot.dep[ mods[i] ] );\n}\n\nsys.audio = sys.m.mrbeepaudio;\n\nsys.init.queuedMessages = sys.nulcon;\nsys.init.conStyle = boot.conStyle;\nsys.init.displayMode = boot.displayMode;\nsys.m = boot.m;\nsys.fs =  boot.m.qfs;\nsys.input = boot.m.domelinput;\nsys.m.displaymodes.setMode( boot.displayMode, sys.m.basicmenu );\nboot.out = sys.out;\n\n\n/* Initialize modules */\nfor( var i=0;i<mods.length;i++) {\n  console.log(\"init \" + mods[ i ] );\n  boot.m[ mods[i] ].init();\n}\n\n/* Get the boot script */\n\ntry {\n\n\n  var script = boot.rootScript.dataset.script;\n  if( script == null ) { script = \"autorun.bas\"; }\n  boot.onReady = \"script://\" + script;\n}\ncatch ( e ) {\n  alert( \"HALT: Boot-Onready Handler not found!!\");\n  throw \"HALT - Neither root-script-attribute 'basScript' or constant 'BOOT_ONREADY' defined.\";\n}\n\n\nsys.nulcon = undefined;\nboot.input = boot.m.domelinput;\nconsole.log( \"boot.basic=\",boot.basic );\nboot.m.basic.setInput( boot.input );\nboot.m.basic.loadApp(  boot.onReady );\n","class BOOTCFG {\n\n  constructor() {\n\n    this.fs = {};\n    this.fs.default = \"cache\";\n\n    this.display = {}\n    this.display.mode = 100;\n\n    this.warnings = {};\n    this.warnings.privacyMute = true;\n\n    this.subSys = \"S3\";\n\n    this.keyboard = {};\n    this.keyboard.allowDefault = {};\n    var allowDefault = this.keyboard.allowDefault;\n    allowDefault.all = false;\n    allowDefault.events = [];\n\n    var adEvents = allowDefault.events;\n    adEvents.push(\"F5\");\n    adEvents.push(\"F12\");\n\n  }\n\n}\n\nexport { BOOTCFG as default};\n","class COMMONBOOTLOADER {\n\n  constructor( cfg, staticFlag ) {\n\n    var sys = {};\n    this.m = {};\n    sys.m = this.m;\n    sys.bootCfg = cfg;\n    this.sys = sys;\n    sys.init = {};\n    sys.staticTarget = staticFlag;\n    sys.headerElement = null;\n\n    sys.domContainer = document.createElement(\"div\");\n    document.body.appendChild( sys.domContainer );\n\n    sys.SIG = \"BOSS64\";\n    sys.SUBSYS = sys.bootCfg.subSys;\n    sys.VERSION = \"0.2\";\n    sys.CODENAME = \"Papa Smurf\";\n\n    sys.nulcon = [];\n    sys.nulcon.push(\"Starting System...\");\n    sys.nulcon.push(\"SYS version \" + sys.VERSION);\n    sys.nulcon.push(\"SYS name \" + sys.SIG + \":\" + sys.SUBSYS + \" \\\"\" + sys.CODENAME + \"\\\"\");\n    sys.nulcon.push(\"SYS release name \\\"\" + sys.CODENAME + \"\\\"\");\n    sys.nulcon.push(\"Starting Boot Sequence...\");\n\n    var rootScript = document.getElementById(\"boot\");\n    this.rootScript = rootScript;\n\n    this.displayMode = parseInt( rootScript.dataset.mode );\n    if( isNaN( this.displayMode ) ) {\n      this.displayMode = cfg.display.mode;\n    }\n\n    this.bootMode = rootScript.dataset.boot;\n\n    this.dynamicMinTarget = false;\n    if( this.bootMode ) { this.dynamicMinTarget = (this.bootMode.indexOf(\"min\") >= 0) };\n    sys.dynamicMinTarget = this.dynamicMinTarget;\n\n    this.bootDebug = (this.bootMode.indexOf(\"debug\") >= 0);\n\n    if( this.bootDebug ) {\n      sys.nulcon.push(\"Enabled debug mode\");\n    }\n\n    if( this.dynamicMinTarget ) {\n      sys.nulcon.push(\"Enabled minimal target settings for dynamic mode\");\n    }\n\n    document.body.style.backgroundColor = \"#444444\";\n  }\n\n  getSys() {\n    return this.sys;\n  }\n\n  initSimpleLogging() {\n\n    /*primitive logging, before it is setup fully*/\n\n    var sys = this.sys;\n\n    sys.out = {\n      buf: \"\"\n    };\n\n    var out = sys.out;\n\n    sys.out.getAll = function() {\n      return out.buf;\n    }\n\n    sys.out.writeln = function( txt ) {\n      var s = \"$\" + txt +\"\\n\";\n      out.buf += s;\n      console.log( s );\n    }\n\n    out.writeln( \"$Init logging...\" );\n\n    sys.rawlog = function( type, array ) {\n\n      var line = array;\n      var txt = \"\";\n\n      txt +=  ( type + \": \" );\n\n      for( var j=0; j<line.length; j++) {\n          var sep = \" \";\n          if( j==0 ) { sep = \"\" };\n          txt += ( sep + line[j] );\n      }\n\n      sys.out.writeln( txt );\n\n    }\n\n    sys.rawlogcon = function( type, array ) {\n\n      var line = array;\n      var txt = \"\";\n\n      txt +=  ( type + \": \" );\n\n      for( var j=0; j<line.length; j++) {\n          var sep = \" \";\n          if( j==0 ) { sep = \"\" };\n          txt += ( sep + line[j] );\n      }\n\n      console.log( txt );\n\n    }\n\n    sys.log = function() {\n      var args = Array.prototype.slice.call(arguments);\n      sys.rawlog( \"info\", args );\n      //console.log.apply(console, args);\n    }\n\n    sys.logwarn = function() {\n      var args = Array.prototype.slice.call(arguments);\n      sys.rawlog( \"warn\", args );\n      //console.warn(args);\n    }\n\n    sys.logerr = function() {\n      var args = Array.prototype.slice.call(arguments);\n      sys.rawlog( \"error\", args );\n      //console.error.apply(console, args);\n    }\n\n    this.logerr = sys.logerr;\n    this.logwarn = sys.logwarn;\n    this.log = sys.log;\n\n    if( !this.bootDebug ) {\n      sys.rawlog = sys.rawlogcon;\n    }\n  }\n\n\n}\n\nexport { COMMONBOOTLOADER as default};\n","class KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.initialized = false;\n\t\tthis.default = 100;\n\n\t\tthis.sys = sys;\n\t\tthis.drivers = [];\n\n\t}\n\n\tinit() {\n\n\t\t\tif( this.initialized ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.drivers[\"text\"] = this.sys.m.tablecon;\n\t\t\tthis.drivers[\"canvas\"] = this.sys.m.canvas;\n\t\t\t//this.drivers[\"webglt\"] = this.sys.m.webglt;\t\t\t\n\n\t\t\tthis.modes = [];\n\n\t\t\tvar textmode1 = \"text:80x30\";\n\t\t\tvar textmode2 = \"text:80x50\";\n\t\t\tvar textmode3 = \"text:80x150\";\n\n\t\t\tvar fontSmall = \t\"font=14\";\n\t\t\tvar fontMedium1 = \"font=16\";\n\t\t\tvar fontMedium2 = \"font=18\";\n\t\t\tvar fontBig = \t\t\"font=22\";\n\n\t\t\tthis.modes[0] = textmode1 + \":\" + fontSmall;\n\t\t\tthis.modes[1] = textmode1 + \":\" + fontMedium1;\n\t\t\tthis.modes[2] = textmode1 + \":\" + fontMedium2;\n\t\t\tthis.modes[3] = textmode1 + \":\" + fontBig;\n\n\t\t\tthis.modes[4] = textmode2 + \":\" + fontSmall;\n\t\t\tthis.modes[5] = textmode2 + \":\" + fontMedium1;\n\t\t\tthis.modes[6] = textmode2 + \":\" + fontMedium2;\n\t\t\tthis.modes[7] = textmode2 + \":\" + fontBig;\n\n\t\t\tthis.modes[8] = textmode3 + \":\" + fontSmall;\n\t\t\tthis.modes[9] = textmode3 + \":\" + fontMedium1;\n\t\t\tthis.modes[10] = textmode3 + \":\" + fontMedium2;\n\t\t\tthis.modes[11] = textmode3 + \":\" + fontBig;\n\n\t\t\tthis.modes[100] = \"canvas:%95\";\n\n\t\t\tthis.modes[101] = \"canvas:%85\";\n\t\t\tthis.modes[102] = \"canvas:%75\";\n\t\t\tthis.modes[103] = \"canvas:%65\";\n\t\t\tthis.modes[104] = \"canvas:%45\";\n\t\t\tthis.modes[105] = \"canvas:%35\";\n\t\t\tthis.modes[106] = \"canvas:%25\";\n\t\t\tthis.modes[107] = \"canvas:%15\";\n\n\t\t\tthis.modes[110] = \"canvas:%%95,25\";\n\t\t\tthis.modes[111] = \"canvas:%%95,50\";\n\t\t\tthis.modes[120] = \"canvas:%%25,95\";\n\t\t\tthis.modes[121] = \"canvas:%%50,95\";\n\n\t\t\tthis.modes[200] = \"canvas:1024x768\";\n\n\t\t\tthis.modes[500] = \"canvas:800x600\";\n\t\t\tthis.modes[501] = \"canvas:640x512\";\n\t\t\tthis.modes[502] = \"canvas:640x480\";\n\t\t\tthis.modes[503] = \"canvas:640x400\";\n\t\t\tthis.modes[504] = \"canvas:320x512\";\n\t\t\tthis.modes[505] = \"canvas:320x400\";\n\t\t\tthis.modes[506] = \"canvas:320x256\";\n\t\t\tthis.modes[507] = \"canvas:320x200\";\n\n\t\t\t//this.modes[1000] = \"webgl:1024x768\";\n\n\t\t\t//this.modes[1002] = \"webglt:24x16x32\";\n\t\t\t//this.modes[1003] = \"webglt:24x16x48\";\n\t\t\t//this.modes[1004] = \"webglt:24x16x64\";\n\n\t\t\t//this.modes[1010] = \"webglt:32x24x32\";\n\t\t\t//this.modes[1011] = \"webglt:32x24x48\";\n\t\t\t//this.modes[1012] = \"webglt:32x24x64\";\n\n\t\t\t//this.modes[1020] = \"webglt:48x32x16\";\n\t\t\t//this.modes[1021] = \"webglt:48x32x24\";\n\t\t\t//this.modes[1022] = \"webglt:48x32x32\";\n\n\n\t\t\t//this.modes[1001] = \"webgl:%85\";\n\t\t\t//this.modes[1002] = \"webgl:%75\";\n\t\t\t//this.modes[1003] = \"webgl:%65\";\n\t\t\t//this.modes[1004] = \"webgl:%45\";\n\t\t\t//this.modes[1005] = \"webgl:%35\";\n\t\t\t//this.modes[1006] = \"webgl:%25\";\n\t\t\t//this.modes[1007] = \"webgl:%15\";\n\n\t\t\t//this.modes[1110] = \"webgl:%%95,25\";\n\t\t\t//this.modes[1111] = \"webgl:%%95,50\";\n\t\t\t//this.modes[1120] = \"webgl:%%25,95\";\n\t\t\t//this.modes[1121] = \"webgl:%%50,95\";\n\n\t\t\t//this.modes[1200] = \"webgl:1024x768\";\n\n\t\t\t//this.modes[1500] = \"webgl:800x600\";\n\t\t\t//this.modes[1501] = \"webgl:640x512\";\n\t\t\t//this.modes[1502] = \"webgl:640x480\";\n\t\t\t//this.modes[1503] = \"webgl:640x400\";\n\t\t\t//this.modes[1504] = \"webgl:320x512\";\n\t\t\t//this.modes[1505] = \"webgl:320x400\";\n\t\t\t//this.modes[1506] = \"webgl:320x256\";\n\t\t\t//this.modes[1507] = \"webgl:320x200\";\n\n\n\t\t\tthis.menuCreated = false;\n\t}\n\n\tgetDriver() {\n\t\treturn this.currentDriver;\n\t}\n\n\tgetMode( x ) {\n\t\tthis.init();\n\n\t\tif( ! x ) {\n\t\t\treturn getMode( this.default );\n\t\t}\n\t\treturn this.modes[ x ];\n\t}\n\n\n\tgetModes() {\n\t\treturn this.modes;\n\t}\n\n\tgetCurrentMode() {\n\t\treturn this.currentMode;\n\t}\n\n\tsetMode( x, menu ) {\n\t\tthis.init();\n\n\n\t\tif( menu ) {\n\t\t\tthis.menu = menu;\n\t\t}\n\n\t\tif( x === undefined || x === null || x === -1 || Number.isNaN( x ) ) {\n\t\t\tthis.setMode( this.default, menu );\n\t\t}\n\n\t\tvar dc = this.getDeviceConfig( x );\n\t\tif(! dc ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cm = this.currentMode;\n\t\tif( ! (cm === undefined || cm === null || cm === -1 || Number.isNaN( x ) ) ) {\n\t\t\t\tthis.endMode( this.currentMode );\n\t\t\t\tthis.menuCreated = false;\n\t\t}\n\n\t\tif( !this.menuCreated ) {\n\t\t this.menu.create();\n\t\t this.menuCreated = true;\n\t\t}\n\n\t\tdc.device.initMode( dc.config, this.menu );\n\t\tthis.sys.out =  dc.device;\n\n\t\tthis.sys.out.notifyOnClick( this.sys.m.basicmenu, \"onDeselect\" );\n\n\t\tthis.currentMode = x;\n\t\tthis.currentDriver = dc.device;\n\n\t}\n\n\tendMode() {\n\n\t\tthis.init();\n\n\t\tif( !this.currentDriver ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar dev = this.currentDriver;\n\n\t\tdev.destroy();\n\t\tthis.menu.destroy();\n\n\t\tthis.currentMode = undefined;\n\t\tthis.currentDriver = undefined;\n\n\t}\n\n\tgetDeviceConfig( x ) {\n\n\t\tif( x === undefined || x === null || x === -1 || Number.isNaN( x ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif( !this.modes[ x ] ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar tmp = this.modes[ x ].split(\":\");\n\t\tif( tmp.length < 2 ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar driver = tmp[0];\n\t\tif( !this.drivers[ driver ] ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tvar driverDevice = this.drivers[ driver ];\n\n\t\tvar param = tmp.splice(1);\n\n\t\treturn {\n\t\t\tdevice: driverDevice,\n\t\t\tconfig: param\n\t\t};\n\n\t}\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\t\tthis.cursorOn = false;\n\t\tthis.cols = 80;\n\t\tthis.rows = 30;\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.hidden = false;\n\t\tthis.blinking = true;\n\t\tthis.reverse = false;\n\n\t\tthis.outColors ={};\n\n\t\tthis.fontSizeInt = 18;\n\t\tthis.fontSizeCSS = this.fontSizeInt + \"px\";\n\t\tthis.fontFamily = \"monospace\";\n\n\n\t\tthis.htmlPalette = [\n\t\t\t\"#000000\",\n\t\t\t\"#ffffff\",\n\t\t\t\"#ee2222\",\n\t\t\t\"#22ee22\",\n\t\t\t\"#2222ee\",\n\t\t\t\"#eeee22\",\n\t\t\t\"#22eeee\",\n\t\t\t\"#ee22ee\",\n\t\t\t\"#aaaaaa\",\n\t\t\t\"#777777\",\n\t\t\t\"#444444\",\n\t\t\t\"#FFAC1C\",\n\t\t\t\"#5C3317\",\n\t\t\t\"#F88379\",\n\t\t\t\"#79F883\",\n\t\t\t\"#8379F8\"\n\n\t\t];\n\n\t\tthis.outColors.txtBgColor= this.htmlPalette[0];\n\t\tthis.outColors.txtColor = this.htmlPalette[5];\n\n\t}\n\n\thtmlColor( ix ) {\n\t\treturn this.htmlPalette[ ix ];\n\t}\n\n\tgetPlayFields() {\n\t\treturn null;\n\t}\n\n\tdestroy() {\n\t\t\tthis.outDiv0.remove();\n\t\t\tthis.cvs = null;\n\t\t\tthis.cvs2 = null;\n\t\t\tthis.ctx = null;\n\t\t\tthis.ctx2 = null;\n\n\t\t\tthis.rowel = undefined;\n\t\t\tthis.cellel = undefined;\n\n\t\t\tif( this.blinkInterval ) {\n\t\t\t\tclearInterval ( this.blinkInterval );\n\t\t\t\tthis.blinkInterval = undefined;\n\t\t\t}\n\t\t}\n\n\t\tinit() {\n\t\t}\n\n\t\tgetColumCount() {\n\t\t\treturn this.cols;\n\t\t}\n\n\t\tgetRowCount() {\n\t\t\treturn this.rows;\n\t\t}\n\n\t\tgetDimensions() {\n\t\t\t\treturn [this.cols, this.rows ];\n\t\t}\n\n\t\tinitMode( m, headerElementManager ) {\n\n\t\t\tvar sys = this.sys;\n\t\t\tvar msgs = sys.init.queuedMessages;\n\n\t\t\tsys.init.inputElement = window;\n\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.blinking = true;\n\n\t\t\tvar tmp = m[0].split(\"x\");\n\t\t\tif( tmp.length == 2) {\n\t\t\t\tthis.rows = parseInt( tmp[1] );\n\t\t\t\tthis.cols = parseInt( tmp[0] );\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttmp = m[1].split(\"=\");\n\t\t\tif( tmp.length == 2) {\n\n\t\t\t\tthis.fontSizeInt = parseInt( tmp[1] );\n\t\t\t\tthis.fontSizeCSS = this.fontSizeInt + \"px\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.colsPercentage = (1/this.cols) * 100;\n\t\t\tthis.outColors.txtBgColor = this.htmlPalette[ 4 ];\n\t\t\tthis.outColors.txtColor = this.htmlPalette[ 1 ];\n\n\t\t\t/* Build DOM */\n\n\t\t\tthis.outDiv0 = document.createElement(\"div\");\n\t\t\tthis.outDiv1 = document.createElement(\"div\");\n\n\t\t\tthis.outEl = document.createElement(\"table\");\n\t\t\tthis.outEl.value = \"\";\n\n\t\t\tfunction getTextOfSelection () {\n\t\t\t  var range;\n\t\t\t  if (document.selection && document.selection.createRange) {\n\t\t\t    range = document.selection.createRange();\n\t\t\t    return range.toString();\n\t\t\t  }\n\t\t\t  else if (window.getSelection) {\n\t\t\t    var selection = window.getSelection();\n\t\t\t    if (selection.rangeCount > 0) {\n\t\t\t      range = selection.getRangeAt(0);\n\t\t\t\t\t\tconst documentFragment = range.cloneContents();\n\n\t\t\t\t\t\tvar rows = documentFragment.childNodes;\n\t\t\t\t\t\tvar text = \"\";\n\t\t\t\t\t\tfor( var rix=0; rix< rows.length ; rix++ ) {\n\t\t\t\t\t\t\tvar r = rows[rix];\n\t\t\t\t\t\t\tif( text != \"\" ) {\n\t\t\t\t\t\t\t\ttext += \"\\n\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar cols = r.childNodes;\n\t\t\t\t\t\t\tfor( var cix=0; cix< cols.length ; cix++ ) {\n\t\t\t\t\t\t\t\tvar c = cols[cix];\n\t\t\t\t\t\t\t\ttext += c.firstChild.data;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn text;\n\t\t\t    }\n\t\t\t    else {\n\t\t\t      return '';\n\t\t\t    }\n\t\t\t  }\n\t\t\t  else {\n\t\t\t    return '';\n\t\t\t  }\n\t\t\t}\n\n\t\t\tvar __this = this;\n\n\t\t\tthis.outDiv0.addEventListener('copy', (event) => {\n\n\t\t\t\tvar sel = getTextOfSelection();\n\n\t\t\t\tevent.clipboardData.setData(\"text/plain\", sel );\n\t\t\t  event.preventDefault();\n\n\t\t\t});\n\n\t\t\tthis.table =  this.outEl;\n\t\t\tthis.table.style.borderCollapse = \"collapse\";\n\t\t\tthis.table.style.borderSpacing = 0;\n\t\t\tthis.table.style.backgroundColor = this.outColors.txtBgColor;\n\n\t\t\tthis.table.style.resize = \"none\";\n\t\t\tthis.table.style.fontFamily = this.fontFamily;\n\t\t\tthis.table.style.fontSize = this.fontSizeCSS;\n\t\t\tthis.table.style.tableLayout = \"fixed\";\n\t\t\tthis.table.readOnly = true;\n\t\t\tthis.table.textAlign = \"center\";\n\n\t\t\tthis.rowel = [];\n\t\t\tthis.cellel = [];\n\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tvar tr =  document.createElement(\"tr\");\n\t\t\t\ttr.style.padding = \"0px\";\n\t\t\t\ttr.style.maxHeight = this.fontSizeInt;\n\t\t\t\ttr.style.height = this.fontSizeInt;\n\n\t\t\t\tthis.rowel.push( tr );\n\t\t\t\tthis.outEl.appendChild( tr );\n\t\t\t\tvar rowArray = [];\n\t\t\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\t\t\tvar td =  document.createElement(\"td\");\n\t\t\t\t\t//td.style.width = this.colsPercentage + \"%\";\n\t\t\t\t\t//td.style.overflow = \"hidden\";\n\t\t\t\t\t//console.log( td.style.width );\n\t\t\t\t\ttd.style.padding = \"0px\";\n\t\t\t\t\ttd.style.color = this.outColors.txtColor;\n\t\t\t\t\ttd.style.backgroundColor = undefined;\n\t\t\t\t\ttd.style.textOverflow = \"\";\n\t\t\t\t\ttd.style.whiteSpace= \"nowrap\";\n\t\t\t\t\ttd.style.overflow = \"hidden\";\n\t\t\t\t\ttd.style.maxWidth = this.fontSizeInt;\n\t\t\t\t\ttd.style.maxHeight = this.fontSizeInt;\n\t\t\t\t\t//td.style.width = this.fontSize;\n\t\t\t\t\ttd.style.height = this.fontSizeInt;\n\n\t\t\t\t\ttd.innerHTML = \"&nbsp;\";\n\n\t\t\t\t\trowArray.push( td );\n\t\t\t\t\ttr.appendChild( td );\n\t\t\t\t}\n\t\t\t\tthis.cellel.push( rowArray );\n\t\t\t}\n\n\n\t\t\tdocument.body.appendChild( this.outDiv0 );\n\n\t\t\tthis.outDiv0.style.display = \"table\";\n\t\t\tthis.outDiv0.style.width = \"99%\";\n\t\t\tthis.outDiv0.style.height = \"99%\";\n\t\t\tthis.outDiv0.style.position = \"absolute\";\n\t\t\tthis.outDiv0.style.zIndex = \"10000\";\n\n\t\t\tthis.outDiv1.style.display = \"table-cell\";\n\t\t\tthis.outDiv1.style.verticalAlign = \"middle\";\n\n\t\t\tthis.table.style.marginLeft = \"auto\";\n\t\t\tthis.table.style.marginRight = \"auto\";\n\n\t\t\tthis.outDiv0.appendChild( this.outDiv1 );\n\n\t\t\tif( headerElementManager ) {\n\t\t\t\tthis.headerElementManager = headerElementManager;\n\t\t\t\tthis.outDiv1.appendChild( this.headerElementManager.get() );\n\t\t\t\t//this.headerElementManager.setDimensions( this.fontSizeInt * this.cols, 480 );\n\n\t\t\t\tthis.headerElementManager.enable();\n\t\t\t}\n\n/*\t\t\tif( this.sys.headerElement ) {\n\t\t\t\tthis.outDiv1.appendChild( this.sys.headerElement );\n}*/\n\n\t\t\tthis.outDiv1.appendChild( this.outEl );\n\n\t\t\tif( headerElementManager ) {\n\n\t\t\t\tthis.headerElementManager.setDimensions( this.outEl.clientWidth, 480 );\n\n\t\t\t}\n\n\n\t\t\tthis.outEl.focus( );\n\n\t\t\t this.dirty = true;\n\t\t\t this.dirtyFlags = {\n\t\t\t\t bg: true,\n\t\t\t\t color: true\n\t\t\t }\n\n\t\t\tvar _this = this;\n\t\t\tthis.blinkInterval = \t setInterval(function()  {\n\t\t\t\t \t_this._int_blink();\n\t\t\t\t}, 500);\n\n\t\t\t\tfor( var i=0; i<msgs.length; i++) {\n\t\t\t\t\tthis.writeln( msgs[ i ]);\n\t\t\t\t}\n\n\t\t\t this.sys.log(\"TBCON Ready.\");\n\t}\n\n\tnative( operation ) {\n\t\tthrow \"@Operation \" + operation.action + \" not supported on TABLECON\";\n\t}\n\n\tblinkMode( mode ) {\n\t\tthis.blinking = mode;\n\t}\n\n\tnotifyOnClick() {\n\n\t}\n\n\thasPixels() {\n\t\treturn false;\n\t}\n\n\t_int_updateArea( srccells, x0, y0, x1, y1 ) {\n\n\n\t\tfor( var x=x0; x<=x1; x++) {\n\t\t\tfor( var y=y0; y<=y1; y++) {\n\t\t\t\tvar cell = this.cellel[ y ][ x ];\n\t\t\t\tvar src = srccells[ y-y0 ][ x-x0 ];\n\n\t\t\t\tif( src.txt == \" \") {\n\t\t\t\t\t\tcell.innerHTML = \"&nbsp;\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\tcell.textContent = src.txt;\n\t\t\t\t}\n\t\t\t\tcell.style.color =  this.htmlPalette[ src.fg ];\n\t\t\t\tcell.style.backgroundColor = this.htmlPalette[ src.bg ];\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\tupdate( p, list ) {\n\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tthis.x = p.cx;\n\t\tthis.y = p.cy;\n\t\tif(\n\t\t\tthis.x<0 || this.y<0 ||\n\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t) {\n\t\t\tconsole.log(\"ouch\");\n\n\t\t}\n\n\t\tthis.outColors.txtBgColor= this.htmlPalette[ p.bg ];\n\t\tthis.outColors.txtColor = this.htmlPalette[ \tp.fg];\n\n\t\tfor( var i=0; i< list.length; i++) {\n\n\t\t\tvar el = list[ i ];\n\t\t\tthis._int_updateArea( el.cells, el.x1, el.y1, el.x2, el.y2 );\n\n\t\t}\n\n\n\t}\n\n\tupdateAll( p, srccells ) {\n\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tthis.x = p.cx;\n\t\tthis.y = p.cy;\n\n\t\tif(\n\t\t\tthis.x<0 || this.y<0 ||\n\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t) {\n\t\t\tconsole.log(\"ouch\");\n\n\t\t}\n\t\tthis.outColors.txtBgColor= this.htmlPalette[ p.bg ];\n\t\tthis.outColors.txtColor = this.htmlPalette[ \tp.fg];\n\n\t\tthis._int_updateArea( srccells, 0,0, this.cols -1, this.rows -1 );\n\n\t}\n\n\n\thide() {\n\t\tif( !this.hidden ) {\n\t\t\tthis.outDiv0.hidden = true;\n\t\t\tthis.hidden = true;\n\t\t}\n\t}\n\n\tshow() {\n\t\tif( this.hidden ) {\n\t\t\tthis.outDiv0.hidden = false;\n\t\t\tthis.hidden = false;\n\t\t}\n\t}\n\n\n\tgetElement() {\n\t\treturn null;\n\t}\n\n\n\t_int_blinkOff() {\n\n\t\tif( !this.cursorOn ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cursorOn = false;\n\n\t\tvar cell = this.cellel[ this.y ][ this.x ];\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tcell.style.color = this.outColors.txtColor;\n\t\tcell.style.backgroundColor = this.outColors.txtBgColor;\n\n\n\t}\n\n\t_int_blink() {\n\n\t\tif( ! this.blinking ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cell;\n\t\ttry {\n\t\t\t\tcell = this.cellel[ this.y ][ this.x ];\n\t\t}\n\t\tcatch {\n\t\t\tcell = null;\n\t\t}\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"Blink exception: Cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cursorOn = !this.cursorOn;\n\n\t\tif( !this.cursorOn ) {\n\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\tcell.style.backgroundColor = this.outColors.txtBgColor;\n\t\t}\n\t\telse {\n\t\t\tcell.style.backgroundColor = this.outColors.txtColor;\n\t\t\tcell.style.color = this.outColors.txtBgColor;\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tvar cell = this.cellel[ y ][ x ];\n\t\t\t\tcell.innerHTML = \"&nbsp;\";\n\t\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\t\tcell.style.backgroundColor = this.outColors.txtBgColor;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\t__int_nl() {\n\t\t\tthis.x = 0;\n\t\t\tthis.y ++;\n\t\t\tif( this.y >= this.rows ) {\n\t\t\t\tthis.__int_scrollDown();\n\t\t\t\tthis.y = this.rows -1;\n\t\t\t}\n\n\t}\n\n\n\twriteln( str ) {\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\t\t\t//console.log( \"writeln\" + str );\n\n\t\t\tfor( var i=0; i<str.length; i++) {\n\t\t\t\tvar c = str.substr(i,1);\n\t\t\t\tthis.__int_write_direct_ch( c );\n\t\t\t}\n\t\t\tthis.__int_nl();\n\t}\n\n\n\t__int_write_direct_ch( ch ) {\n\n\t\tvar cell = this.cellel[ this.y ][ this.x ];\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tif( ch == \" \") {\n\t\t\t\tcell.innerHTML = \"&nbsp\";\n\t\t}\n\t\telse {\n\t\t\tcell.innerHTML = ch;\n\t\t}\n\n\t\tif( !this.reverse  ) {\n\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\tcell.style.backgroundColor = undefined;\n\t\t}\n\t\telse {\n\t\t\tcell.style.backgroundColor = this.outColors.txtColor;\n\t\t\tcell.style.color = this.outColors.txtBgColor;\n\t\t}\n\n\t\tthis.x++;\n\t\tif( this.x >= this.cols ) {\n\t\t\tthis.x = 0;\n\t\t\tthis.__int_nl();\n\t\t}\n\t}\n\n\n\n\t__int_scrollDown() {\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tfor( var y=0; y<this.rows-1; y++) {\n\t\t\t\tvar cell = this.cellel[ y ][ x ];\n\t\t\t\tvar cellyp1 = this.cellel[ y+1 ][ x ];\n\n\t\t\t\tcell.textContent = cellyp1.textContent;\n\t\t\t\tcell.style.color = cellyp1.style.color;\n\t\t\t\tcell.style.backgroundColor = cellyp1.style.backgroundColor;\n\n\n\t\t\t}\n\t\t}\n\n\t\tvar y2 = this.rows-1;\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tvar cell = this.cellel[ y2 ][ x ];\n\t\t\tcell.innerHTML = \"&nbsp;\";\n\t\t\tif( !this.reverse  ) {\n\t\t\t\tcell.style.color = this.outColors.txtColor;\n\t\t\t\tcell.style.backgroundColor = undefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcell.style.backgroundColor = this.outColors.txtColor;\n\t\t\t\tcell.style.color = \"rgba(0,255,0,0.0)\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport { KERNALMODULE as default};\n","import  SymbolsTileImage   from    './symbols.js';\nimport  SimpleTiles   from    './simpletiles.js';\n\nclass KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\t\tthis.cursorOn = false;\n\t\tthis.hidden = false;\n\t\tthis.blinking = true;\n\t\tthis.cursorMode = \"insert\";\n\t\tthis.bmFontEnable = true;\n\t\tthis.colors ={};\n\n\t\tthis.palette = [\n\t\t\t\"#000000\",\n\t\t\t\"#ffffff\",\n\t\t\t\"#ee2222\",\n\t\t\t\"#22aa22\",\n\t\t\t\"#1111cc\",\n\t\t\t\"#eeee22\",\n\t\t\t\"#22eeee\",\n\t\t\t\"#ee22ee\",\n\t\t\t\"#bbbbbb\",\n\t\t\t\"#777777\",\n\t\t\t\"#444444\",\n\t\t\t\"#FFAC1C\",\n\t\t\t\"#5C3317\",\n\t\t\t\"#F88379\",\n\t\t\t\"#79F883\",\n\t\t\t\"#8379F8\"\n\n\t\t];\n\n\t\tvar pad2 = function( hs ) {\n\t\t\tvar rv = hs;\n\t\t\twhile ( rv.length < 2 ) {\n\t\t\t\trv = \"0\" + rv;\n\t\t\t}\n\t\t\treturn rv;\n\t\t}\n\n\t\tvar pl = this.palette.length;\n\t\tfor( var i=0; i < pl; i++) {\n\t\t\tvar htmlCol = this.palette[i];\n\t\t\tvar r = pad2( Math.floor(parseInt(htmlCol.substr(1,2),16) / 2).toString(16));\n\t\t\tvar g = pad2( Math.floor(parseInt(htmlCol.substr(3,2),16) / 2).toString(16));\n\t\t\tvar b = pad2( Math.floor(parseInt(htmlCol.substr(5,2),16) / 2).toString(16));\n\t\t\tvar newcolor = \"#\" + r + g + b;\n\t\t\tthis.palette.push( newcolor );\n\n\t\t}\n\n\n\t\tthis.bmPalette = [];\n\t\tfor( var i=0; i<this.palette.length; i++) {\n\t\t\tvar htmlCol = this.palette[i];\n\t\t\tvar r = parseInt(htmlCol.substr(1,2),16)\n\t\t\tvar g = parseInt(htmlCol.substr(3,2),16)\n\t\t\tvar b = parseInt(htmlCol.substr(5,2),16)\n\t\t\tthis.bmPalette.push(\n\t\t\t\t{\n\t\t\t\t\tr:r,g:g,b:b\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\n\n\t\tthis.defaultTextMode();\n\n\t\tvar __this = this;\n\t\tvar image = new Image();\n\t\timage.onload = function ( evt ) {\n\t\t\t__this._postLoadFontImage();\n\t\t}\n\t\timage.src = new SymbolsTileImage().getBlobURL();\n\n\t\tthis.fimage = image;\n\n\t\tvar UNICODE=0;\n\t\tvar CUSTOM=1;\n\t\tvar GLYPHS0=2;\n\t\tvar GLYPHS1=3;\n\t\tvar GLYPHS2=4;\n\t\tvar GLYPHS3=5;\n\n\t\tthis.GLYPHSADDR = [ NaN, NaN, 0, 128, 256 , 384];\n\n\t\tthis.characterbank0 = GLYPHS0;\n\t\tthis.characterbank1 = GLYPHS1;\n\t\tthis.characterbank2 = GLYPHS2;\n\t\tthis.characterbank3 = UNICODE;\n\n\t\tthis.bankDefaultBaseAddr = 256;\n\t\tthis.bankBaseAddr = this.bankDefaultBaseAddr;\n\n\n\t}\n\n\t_postLoadFontImage() {\n\n\n\t\tthis.bfont = new SimpleTiles( this.fimage, 12, 20, { r:0, g:0, b:0 } );\n\n\t}\n\n\thtmlColor( ix ) {\n\t\treturn this.palette[ ix ];\n\t}\n\n\tgetPlayFields() {\n\t\treturn null;\n\t}\n\n\tdestroy() {\n\t\tthis.outDiv0.remove();\n\t\tthis.cvs = null;\n\t\tthis.cvs2 = null;\n\t\tthis.cvsCursor = null;\n\t\tthis.ctx = null;\n\t\tthis.ctx2 = null;\n\t\tthis.ctxCursor = null;\n\t\tthis.cache = null;\n\n\t\tthis.cells = [];\n\n\t\tif( this.blinkInterval ) {\n\t\t\tclearInterval ( this.blinkInterval );\n\t\t\tthis.blinkInterval = undefined;\n\t\t}\n\t}\n\n\tdefaultTextMode() {\n\t\tthis.cols = 80;\n\t\tthis.rows = 30;\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tthis.fontSize = \"20\";  //16x10, 18x11, 20x12\n\n\t\tthis.fontSizeCSS = this.fontSize + \"px\";\n\t\tthis.fontSizeIntW = 12 ; //Math.floor(parseInt( this.fontSize ) * .7)-1;\n\t\tthis.fontSizeIntH = parseInt( this.fontSize );\n\t\tthis.fontFamily = \"monospace\";\n\n\t\tvar oc = this.colors;\n\t\toc.bg = 0;\n\t\toc.fg = 5;\n\n\t\tthis.colors.bgHTML = this.palette[ oc.bg ];\n\t\tthis.colors.fgHTML = this.palette[ oc.fg ];\n\t\tthis.colors.bgRGB = this.bmPalette[ oc.bg ];\n\t\tthis.colors.fgRGB = this.bmPalette[ oc.fg ];\n\n\t}\n\n\tinit() {\n\t}\n\n\tinitMode( config, headerElementManager ) {\n\n\t\t\tvar sys = this.sys;\n\t\t\tvar msgs = sys.init.queuedMessages;\n\n\t\t\tthis.cursorOn = false;\n\t\t\tthis.blinking = true;\n\n\t\t\tvar w;\n\t\t\tvar h;\n\t\t\tif( config[0].indexOf(\"x\") > 0) {\n\t\t\t\tvar tmp = config[0].split(\"x\");\n\t\t\t\tw = parseInt( tmp[0] );\n\t\t\t\th = parseInt( tmp[1] );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar ww = window.innerWidth;\n\t\t\t\tvar wh = window.innerHeight;\n\n\t\t\t\tif( config[0].startsWith( \"%%\" )) {\n\t\t\t\t\tvar percentages = config[0].substr( 2 ).split(\",\");\n\t\t\t\t\tvar percentagex = percentages[0] / 100;\n\t\t\t\t\tvar percentagey = percentages[1] / 100;\n\t\t\t\t\tw = Math.floor(ww * percentagex);\n\t\t\t\t\th = Math.floor(wh * percentagey);\n\t\t\t\t}\n\t\t\t\telse if( config[0].startsWith( \"%\" )) {\n\t\t\t\t\tvar percentage = config[0].substr( 1 );\n\t\t\t\t\tpercentage = percentage / 100;\n\t\t\t\t\tw = Math.floor(ww * percentage);\n\t\t\t\t\th = Math.floor(wh * percentage);\n\t\t\t\t}\n\n\n\t\t\t}\n\n\n\n\t\t\tthis.cols = Math.floor( w / this.fontSizeIntW );\n\t\t\tthis.rows = Math.floor( h / this.fontSizeIntH );\n\n\t\t\t/* adjust w,h to fit exactly so many cols and rows */\n\t\t\tw = this.cols * this.fontSizeIntW;\n\t\t\th = this.rows * this.fontSizeIntH;\n\n\t\t\tvar fsw = this.fontSizeIntW;\n\t\t\tvar fsh = this.fontSizeIntH;\n\n\t\t\tthis.width = w;\n\t\t\tthis.height = h;\n\n\t\t\tconsole.log(\"Reinit with \" , w, h);\n\t\t\tconsole.log(\" colsXrows \" , this.cols, this.rows);\n\t\t\tthis.x = 0;\n\t\t\tthis.y = 0;\n\t\t\tthis.blinking = true;\n\n\t\t\tvar oc = this.colors;\n\t\t\toc.bg = 0;\n\t\t\toc.fg = 5;\n\t\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\t\toc.fgHTML = this.palette[ oc.fg ];\n\n\t\t\tsys.init.inputElement = document.body;\n\n\t\t\tthis.outDiv0 = document.createElement(\"div\");\n\t\t\tthis.outDiv1 = document.createElement(\"div\");\n\t\t\tthis.center = document.createElement(\"center\");\n\n\t\t\tthis.cvs = document.createElement(\"canvas\");\n\t\t\tthis.ctx = this.cvs.getContext('2d', {alpha: false});\n\t\t\tthis.ctx.strokeStyle = '#ffffff';\n\t\t\tthis.cX = 0;\n\t\t\tthis.cY = 0;\n\t\t\t//this.cvs = this.outEl;\n\n\t\t\tthis.cvs2 = document.createElement(\"canvas\"); //only used for scrolling, really needed??\n\t\t\tthis.ctx2 = this.cvs2.getContext('2d');\n\n\t\t\tthis.cvsCursor = document.createElement(\"canvas\");\n\t\t\tthis.ctxCursor = this.cvsCursor.getContext('2d' , {alpha: false} );\n\n\t\t\tthis.cache = [];\n\t\t\tthis.updCtxImageData = { synched: false }\n\n\t\t\tthis.cvs.width = w;\n\t\t\tthis.cvs.height = h;\n\t\t\tthis.cvs2.width = w;\n\t\t\tthis.cvs2.height = h;\n\t\t\tthis.cvsCursor.width = fsw;\n\t\t\tthis.cvsCursor.height = fsh;\n\n\t\t\tthis.offsets = [];\n\n\t\t\tvar ctx = this.ctx;\n  \t\tctx.font =  this.fontSizeCSS + \" \" + this.fontFamily;\n\t\t\t//ctx.font =  \"20px Verdana\";\n \t\t  ctx.textBaseline = \"bottom\";\n\t\t\t//ctx.fontStretch=\"expanded\";\n\n\t\t\tvar str = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890@+_!#%&/()=?*-:;,.'\\\"\";\n\t\t\tvar fsid2 = this.fontSizeIntW / 2;\n\t\t\tfor (const c of str) {\n\t\t\t\tvar tmp3 =  this.ctx.measureText( c )  ;\n\t\t\t\tvar tmp2 =  tmp3.width  ;\n\t\t\t\tvar tmp1 =  (tmp2 / 2) ;\n\t\t\t\tvar tmp0 =  fsid2 - tmp1 ;\n\t\t\t\tvar tmp = Math.floor( tmp0 );\n\t\t\t\tif( tmp<0 ) { tmp = 0; }\n\t\t\t\tthis.offsets[ c ] = tmp;\n \t\t }\n\n\t\t \tthis.oIndicatorChar = \"\\u2595\";\n\t\t  this.oIndicatorSize = this.ctx.measureText( this.oIndicatorChar )  ;\n\t\t\tthis.oIndicatorOffset = Math.floor( fsid2 - (this.oIndicatorSize.width / 2));\n\n\t\t\tthis.cells = [];\n\n\t\t\tvar cols = this.colors;\n\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tvar rowArray = [];\n\t\t\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\t\t\trowArray.push( { txt: \" \", fg: cols.fg, bg: cols.bg } );\n\t\t\t\t}\n\t\t\t\tthis.cells.push( rowArray );\n\t\t\t}\n\n\t\t\tdocument.body.appendChild( this.outDiv0 );\n\n\t\t\tthis.outDiv0.style.display = \"table\";\n\t\t\tthis.outDiv0.style.width = \"99%\";\n\t\t\tthis.outDiv0.style.height = \"99%\";\n\t\t\tthis.outDiv0.style.position = \"absolute\";\n\t\t\tthis.outDiv0.style.zIndex = \"10000\";\n\n\t\t\tthis.outDiv1.style.display = \"table-cell\";\n\t\t\tthis.outDiv1.style.verticalAlign = \"middle\";\n\n\t\t\tthis.cvs.style.marginLeft = \"auto\";\n\t\t\tthis.cvs.style.marginRight = \"auto\";\n\n\n\t\t\tthis.outDiv0.appendChild( this.outDiv1 );\n\t\t\tthis.outDiv1.appendChild( this.center );\n\t\t\tif( headerElementManager ) {\n\t\t\t\tthis.headerElementManager = headerElementManager;\n\t\t\t\tthis.center.appendChild( this.headerElementManager.get() );\n\t\t\t\tthis.headerElementManager.setDimensions( w, h );\n\n\t\t\t\tthis.headerElementManager.enable();\n\t\t\t}\n\t\t\tthis.center.appendChild( this.cvs );\n\n\n\t\t\tthis.cvs.focus( );\n\n\n \t\t  var _this = this;\n\n\t\t\tthis.blinkInterval = setInterval(function()  {\n\n\t\t\t\t \t_this._int_blink();\n\t\t\t\t}, 300);\n\n\t\t\t\tfor( var i=0; i<msgs.length; i++) {\n\t\t\t\t\tthis.writeln( msgs[ i ]);\n\t\t\t\t}\n\n\t\t\t this.clear();\n\n\n\t\t\t this.sys.log(\"CANVASCON Ready.\");\n\t}\n\n\n\tnotifyOnClick( handler, myFunction ) {\n\n\t\tthis.cvs.addEventListener( \"click\", function() {\n\t\t\thandler[myFunction]();\n\t\t} );\n\n\t}\n\n\thideInner() {\n\t\tthis.cvs.hidden = true;\n\t}\n\n\tshowInner() {\n\t\tthis.cvs.hidden = false;\n\t}\n\n\thide() {\n\t\tthis.init();\n\t\tif( !this.hidden ) {\n\t\t\tthis.outDiv0.hidden = true;\n\t\t\tthis.hidden = true;\n\t\t}\n\t}\n\n\n\n\tshow() {\n\t\tthis.init();\n\t\tif( this.hidden ) {\n\t\t\tthis.outDiv0.hidden = false;\n\t\t\tthis.hidden = false;\n\t\t}\n\t}\n\n\n\tgetElement() {\n\t\treturn null;\n\t}\n\n\tgfilter( f ) {\n\t\tthis.outDiv1.filter = f;\n\t\treturn;\n\t\tthis.ctx.filter = f;\n\t\tthis._int_Refresh();\n\t}\n\n\tblinkMode( mode ) {\n\t\tthis.blinking = mode;\n\t}\n\n\n\t_int_blinkOff() {\n\n\n\t\tif( !this.cursorOn ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\n\t\tvar x0 = (fsw * this.x);\n\t\tvar y0 = fsh * (this.y );\n\n\t\tvar ctx = this.ctx;\n\n\t\tthis.ctx.drawImage(this.cvsCursor, x0, y0);\n\n\t\tthis.cursorOn = false;\n\n\t}\n\n\t_int_storeset_color( fg, bg ) {\n\n\t\tthis.oldfg = fg;\n\t\tthis.oldbg = bg;\n\n\t\tvar oc = this.colors;\n\t\toc.fg = fg;\n\t\toc.bg = bg;\n\t\toc.fgHTML = this.palette[ oc.fg ];\n\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\toc.fgRGB = this.bmPalette[ oc.fg ];\n\t\toc.bgRGB = this.bmPalette[ oc.bg ];\n\n\t}\n\n\n\t_int_restore_color() {\n\n\t\tvar oc = this.colors;\n\t\toc.fg = this.oldfg;\n\t\toc.bg = this.oldbg;\n\t\toc.fgHTML = this.palette[ oc.fg ];\n\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\toc.fgRGB = this.bmPalette[ oc.fg ];\n\t\toc.bgRGB = this.bmPalette[ oc.bg ];\n\n\t}\n\n\t_int_blink() {\n\n\t\tif( ! this.blinking ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar currentCursorIsOn = this.cursorOn;\n\n\t\tthis.cursorOn = !this.cursorOn;\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\n\t\tvar x0 = (fsw * this.x);\n\t\tvar y0 = (fsh * this.y);\n\t\tvar oc = this.colors;\n\n\t\tvar ctx = this.ctx;\n\t\tvar cell = this.cells[ this.y][this.x ];\n\n\n\t\tif(  this.cursorOn ) {\n\n\t\t\t\t/* first we backup underneath cursor */\n\t\t\t\tthis.ctxCursor.drawImage(this.cvs, x0, y0, fsw, fsh, 0, 0, fsw, fsh);\n\n\t\t\t\t/* we decide the colors */\n\t\t\t\tvar col = this.colors.fgHTML;\n\t\t\t\tvar index = this.colors.fg;\n\t\t\t\tvar index2 = this.colors.bg;\n\n\t\t\t\t/*if cell.bg == cell.fg, use instead black on white or white on black */\n\t\t\t\tif( cell.fg == cell.bg ) {\n\t\t\t\t\tif( cell.fg == 0 ) {\n\t\t\t\t\t\tindex = 1;\n\t\t\t\t\t\tindex2 = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\tindex2 = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t/*if bg!=fg use cell colors*/\n\t\t\t\t\tindex = cell.fg;\n\t\t\t\t\tindex2 = cell.bg;\n\t\t\t\t}\n\n\t\t\t\tthis.paintCursor( x0, y0, cell.txt, index, index2, this.cursorMode == \"overwrite\" );\n\n\t\t\t\treturn;\n\n\t\t}\n\t\telse {\n\n\t\t\t//cursor off\n\t\t\tthis.ctx.drawImage(this.cvsCursor, x0, y0);\n\n\t\t}\n\n\t}\n\n\t_int_updateArea( srccells, x0, y0, x1, y1 ) {\n\n\t\tvar ctx = this.ctx;\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\t\tvar oc = this.colors;\n\n\t\tvar x; var y;\n\t\ttry {\n\n\t\tfor( y=y0; y<=y1; y++) {\n\t\t\tvar yy = fsh * y;\n\t\t\tvar offX =x0 * fsw;\n\t\t\t//for( x=x1; x>=x0; x--) {\n\t\t\tfor( x=x0; x<=x1; x++) {\n\t\t\t\tvar cell = this.cells[ y ][ x ];\n\t\t\t\tvar src = srccells[ y-y0 ][ x-x0 ];\n\t\t\t\tvar ch = src.txt;\n\n\t\t\t\toc.bg = src.bg;\n\t\t\t\toc.fg = src.fg;\n\n\t\t\t\toc.bgHTML = this.palette[ src.bg ];\n\t\t\t\toc.fgHTML = this.palette[ src.fg ];\n\t\t\t\toc.bgRGB = this.bmPalette[ src.bg ];\n\t\t\t\toc.fgRGB = this.bmPalette[ \tsrc.fg ];\n\n\t\t\t\tcell.txt = ch;\n\t\t\t\tcell.fg = src.fg;\n\t\t\t\tcell.bg = src.bg;\n\n\t\t\t\tthis._int_paintchar( offX , yy , ch );\n\t\t\t\toffX += fsw;\n\t\t\t}\n\t\t}\n\t} catch ( e ) {\n\t\tconsole.log(\"x= \" + x + \" y= \" + y);\n\t\tconsole.log(\"x0=\", x0, \"y0=\",y0, \"x1=\",x1,\"y1=\",y1);\n\t\tconsole.log(e);\n\t}\n\n\t}\n\n\n\t_int_Refresh() {\n\n\t\ttry {\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\t\tvar oc = this.colors;\n\t\tvar yy = 0;\n\n\t\tvar obg = oc.bg;\n\t\tvar ofg = oc.fg;\n\n\t\tfor( var y=0; y<=this.rows-1 ; y++) {\n\n\t\t\tvar offX =0;\n\n\t\t\tfor( var x=0; x<=this.cols-1 ;x++) {\n\t\t\t\t\n\t\t\t\tvar cell = this.cells[ y ][ x ];\n\t\t\t\tvar ch = cell.txt;\n\t\t\t\tvar fg = this.cells[ y ][ x ].fg;\n\t\t\t\tvar bg = this.cells[ y ][ x ].bg;\n\n\t\t\t\toc.bg = bg;\n\t\t\t\toc.fg = fg;\n\t\t\t\toc.bgHTML = this.palette[ bg ];\n\t\t\t\toc.fgHTML = this.palette[ fg ];\n\t\t\t\toc.bgRGB = this.bmPalette[ bg ];\n\t\t\t\toc.fgRGB = this.bmPalette[ \tfg ];\n\n\t\t\t\tthis._int_paintchar( offX , yy , ch );\n\t\t\t\toffX += fsw;\n\t\t\t}\n\t\t\tyy += fsh;\n\t\t}\n\n\n\t\toc.bg = obg;\n\t\toc.fg = ofg;\n\t\toc.bgHTML = this.palette[ oc.bg ];\n\t\toc.fgHTML = this.palette[ oc.fg ];\n\t\toc.bgRGB = this.bmPalette[ oc.bg ];\n\t\toc.fgRGB = this.bmPalette[ oc.fg ];\n\t} catch ( e ) {\n\t\tconsole.log(\"x= \" + x + \" y= \" + y);\n\t\tconsole.log(e);\n\t}\n\n\t}\n\n\tpaintCursor( x, y, ch , col1, col2, mode ) {\n\t\tthis._int_storeset_color( col2, col1 );\n\t\tthis._int_paintchar( x, y, ch );\n\t\tif(  mode ) {\n\t\t\tthis._int_drawIndicator( x, y, ch );\n\t\t}\n\t\tthis._int_restore_color();\n\t}\n\n\n\t_int_drawIndicator( x, y, c ) {\n\n\t\tvar ctx = this.ctx;\n\n\t\tctx.font =  this.fontSizeCSS + \" \" + this.fontFamily;\n\t\tctx.textBaseline = \"top\";\n\n\t\tctx.fillStyle = this.colors.fgHTML\n\t\tctx.fillRect(  x,y + (4*this.fontSizeIntH)/5, this.fontSizeIntW, (this.fontSizeIntH)/5 );\n\n\t}\n\n\tsetCharacterBank( addr, mode ) {\n\t\tthis.characterbank[addr] = mode;\n\t}\n\n\t_int_paintchar( x, y, ch ) {\n\n\t\t\tthis.updCtxImageData.synched = false;\n\n\t\t\tvar oc = this.colors;\n\t\t\tvar index = ch + \":\"+oc.bg+\":\"+oc.fg;\n\t\t\tif( ch == \" \") { var index = ch + \":\"+oc.bg; }\n\n\t\t\tvar cacheel = this.cache[ index ];\n\t\t\tvar fsw = this.fontSizeIntW;\n\t\t\tvar fsh = this.fontSizeIntH;\n\n\t\t\tif( ! cacheel ) {\n\n\t\t\t\tvar cvs = document.createElement(\"canvas\");\n\n\t\t\t\tvar code = ch.charCodeAt(0);\n\n/*\n\twhat is this.bmFontEnable ??\n\n\t\tvar UNICODE=0;\n\t\tvar CUSTOM=1;\n\t\tvar GLYPHS0=2;\n\t\tvar GLYPHS1=3;\n\t\tvar GLYPHS2=4;\n\t\tvar GLYPHS3=5;\n\t\tthis.characterbank0 = GLYPHS0;\n\t\tthis.characterbank1 = GLYPHS1;\n\t\tthis.characterbank2 = GLYPHS2;\n\t\tthis.characterbank3 = GLYPHS3;\n\n\t\tthis.bankDefaultBaseAddr = 256;\n\t\tthis.bankBaseAddr = this.bankDefaultBaseAddr;\n\n*/\n\n\t\t\t\tvar GLYPHS0=2;\n\t\t\t\tvar GLYPHS1=3;\n\t\t\t\tvar GLYPHS2=4;\n\t\t\t\tvar GLYPHS3=5;\n\n\t\t\t\tvar bitmapchar = false;\n\t\t\t\tvar glyphs;\n\t\t\t\tvar bitmapchar0 = ( code >= this.bankBaseAddr && code < (this.bankBaseAddr + 512));\n\t\t\t\tvar charAddr;\n\t\t\t\tvar relCode;\n\t\t\t\t//var bank;\n\n\n\t\t\t\tif( bitmapchar0  ) {\n\n\t\t\t\t\tif ( code < (this.bankBaseAddr + 128) && this.characterbank0 >= GLYPHS0) {\n\t\t\t\t\t\t bitmapchar = true;\n\t\t\t\t\t\t //bank = 0;\n\t\t\t\t\t   //glyphs = this.characterbank0;\n\t\t\t\t\t\t// bankaddr = 0;\n\t\t\t\t\t\t// if( )\n\t\t\t\t\t\t// charAddr = code - this.bankBaseAddr;\n\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr );\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank0 ] + relCode;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( (code >= this.bankBaseAddr + 128) && code < (this.bankBaseAddr + 256) && this.characterbank1 >= GLYPHS0) {\n\t\t\t\t\t\tbitmapchar = true;\n\t\t\t\t\t\t//bank = 1;\n\t\t\t\t\t\t//glyphs = this.characterbank1;\n\t\t\t\t\t\t//charAddr = code - (this.bankBaseAddr);\n\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr + 128);\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank1 ] + relCode;\n\n/*\n\t\t\t\t\t\texample:\n\t\t\t\t\t\t\tcode = 130\n\t\t\t\t\t\t\tthis.characterbank1 = GLYPHS2;\n\n\t\t\t\t\t\t\tcharBaseAddr = 130-128 = 2\n\t\t\t\t\t\t\tcharAddr = addr( GLYPHS2 ) + 2;\n*/\n\t\t\t\t\t}\n\t\t\t\t\telse if ( (code >= this.bankBaseAddr + 256 ) && code < (this.bankBaseAddr + 384) && this.characterbank2 >= GLYPHS0) {\n\t\t\t\t\t\tbitmapchar = true;\n\t\t\t\t\t\t//glyphs = this.characterbank2;\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr + 256);\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank2 ] + relCode;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( (code >= this.bankBaseAddr + 384 ) && this.characterbank3 >= GLYPHS0) {\n\t\t\t\t\t\tbitmapchar = true;\n\t\t\t\t\t\t//glyphs = this.characterbank3;\n\t\t\t\t\t\trelCode = code - (this.bankBaseAddr + 384);\n\t\t\t\t\t\tcharAddr = this.GLYPHSADDR[ this.characterbank3 ] + relCode;\n\t\t\t\t\t}\n\n\t\t\t\t\t//bankaddr =\n\n\t\t\t\t}\n\n\t\t\t\tif( code > 256 && !bitmapchar ) {\n\t\t\t\t\tvar tmp3 =  this.ctx.measureText( ch )  ;\n\t\t\t\t\tvar tmpw =  Math.floor( tmp3.width ) ;\n\t\t\t\t\tif( tmpw > fsw ) {\n\t\t\t\t\t\tfsw = tmpw;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcvs.width = fsw;\n\t\t\t\tcvs.height = fsh;\n\n\t\t\t\tvar ctx = cvs.getContext('2d', {alpha: false});\n\n\t\t\t\tif( bitmapchar ) {\n\n\t\t\t\t\tvar grid = this.bfont.getCharData( charAddr ); //code-this.bankBaseAddr );\n\n\t\t\t\t\tvar imgdata = ctx.getImageData(0, 0, fsw, fsh );\n\t\t\t\t\tvar sd  = imgdata.data;\n\n\t\t\t\t\tvar offset;\n\t\t\t\t\tvar yoffset = 0, xoffset=0;\n\t\t\t\t\tvar yofflen = 4 * fsw;\n\t\t\t\t\tvar xofflen = 4;\n\n\t\t\t\t\tvar bgc = this.colors.bgRGB;\n\t\t\t\t\tvar fgc = this.colors.fgRGB;\n\n \t\t\t\t\tfor( var yy=0; yy<fsh; yy++) {\n\n\t\t\t\t\t\txoffset = 0;\n \t\t\t\t\t\tfor( var xx=0; xx<fsw; xx++) {\n\t\t\t\t\t\t\tvar pix = grid[yy][xx];\n\t\t\t\t\t\t\toffset = xoffset + yoffset;\n\n\t\t\t\t\t\t\tif( pix ) {\n\t\t\t\t\t\t\t\tsd[ offset + 0] = fgc.r;\n\t\t\t\t\t\t\t\tsd[ offset + 1] = fgc.g;\n\t\t\t\t\t\t\t\tsd[ offset + 2] = fgc.b;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tsd[ offset + 0] = bgc.r;\n\t\t\t\t\t\t\t\tsd[ offset + 1] = bgc.g;\n\t\t\t\t\t\t\t\tsd[ offset + 2] = bgc.b;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsd[ offset + 3] = 255;\n\t\t\t\t\t\t\txoffset += xofflen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tyoffset += yofflen;\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.putImageData( imgdata, 0, 0);\n\t\t\t\t}\n/*\t\t\t\telse if ( code==32 && oc.bg==0 ) {\n//this.ctx.drawImage( cacheel.cvs, x, y );\n\t\t\t\t\tthis.ctx.clearRect(x, y, fsw, fsh);\n\t\t\t\t\t//ctx.fillRect(  0,0, fsw, fsh);\n\t\t\t\t\treturn;\n\t\t\t\t}\n*/\n\t\t\t\telse {\n\t\t\t\t\tctx.font =  this.fontSizeCSS + \" \" + this.fontFamily;\n\t\t\t\t\tctx.textBaseline = \"top\";\n\n\t\t\t\t\tvar off = 0;\n\t\t\t\t\tif( this.offsets[ ch ] ) {\n\t\t\t\t\t\toff = this.offsets[ ch ];\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.fillStyle = this.colors.bgHTML;\n\t\t\t\t\tctx.fillRect(  0,0, fsw, fsh);\n\n\t\t\t\t\tctx.fillStyle = this.colors.fgHTML;\n\t\t\t\t\tctx.fillText( ch , off, 0);\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache[ index ] = { ctx: ctx, cvs: cvs, w: fsw } ;\n\t\t\t\tcacheel = this.cache[ index ];\n\n\t\t\t}\n\n\t\t\tthis.ctx.drawImage( cacheel.cvs, x, y );\n\t\t}\n\n\t\top_gcolor( params ) {\n\t\t\t\tvar htmlCol = this.palette[ params.c ];\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.strokeStyle = htmlCol;\n\t\t}\n\n\t\top_fcolor( params ) {\n\t\t\t\tvar htmlCol = this.palette[ params.c ];\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.fillStyle = htmlCol;\n\t\t}\n\n\n\t\top_line( params ) {\n\n\t\t\tthis.updCtxImageData.synched = false;\n\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tvar x0 =params.x0;\n\t\t\tvar y0 =params.y0;\n\t\t\tif( x0 < 0) {\n\t\t\t\tx0=this.cX;  /* cX and cY allow to add next line with only one coordinate */\n\t\t\t}\n\t\t\tif( y0 < 0) {\n\t\t\t\ty0=this.cY;\n\t\t\t}\n\n\t\t\tctx.beginPath(); // Start a new path\n\t\t\tctx.moveTo( x0,  y0); // Move the pen to (30, 50)\n\t\t\tctx.lineTo(params.x1, params.y1); // Draw a line to (150, 100)\n\t\t\tctx.stroke(); // Render the path\n\n\t\t\tthis.cX = params.x1;\n\t\t\tthis.cY = params.y1;\n\n\t\t}\n\n\n\t\top_fillRect( params ) {\n\n\t\t\t//TODO be consitent on where boundary checks are done\n\t\t\t//what about view port?\n\t\t\tthis.updCtxImageData.synched = false;\n\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tvar x =params.x;\n\t\t\tvar y =params.y;\n\t\t\tvar w =params.w;\n\t\t\tvar h =params.h;\n\n\t\t\tif( x < 0) {\n\t\t\t\tx=0;\n\t\t\t}\n\t\t\tif( y < 0) {\n\t\t\t\ty=0;\n\t\t\t}\n\n\t\t\tvar xoverflow = -(this.width -  (x+(w)));\n\t\t\tvar yoverflow = -(this.height - (y+(h)));\n\n\t\t\tif( xoverflow > 0) {\n\t\t\t\tw = this.width - x;\n\t\t\t}\n\n\t\t\tif( yoverflow > 0) {\n\t\t\t\th = this.height - h;\n\t\t\t}\n\n\t\t\tctx.fillRect(x, y, w, h);\n\n\t\t}\n\n\t\tnative( operation ) {\n\n\t\t\tthis[ \"op_\" + operation.action]( operation.params);\n\t\t}\n\n\n\t\tgfxUpdate( record ) {//see 152\n\n\t\t\tvar lineLen = this.width * 4;\n\t\t\tvar cellLen = 4;\n\n\t\t\tvar pixels = record.pixels;\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tvar upd = this.updCtxImageData;\n\n\t\t\tif(! upd.synched ) {\n\t\t\t\tupd.imd = ctx.getImageData( 0, 0, this.width, this.height );\n\t\t\t\tupd.data = upd.imd.data;\n\t\t\t\tupd.synched = true;\n\t\t\t}\n\n\t\t\tvar pdata = upd.data;\n\t\t\tvar imd = upd.imd;\n\n\t\t\tfor( var i=0; i< pixels.length; i++) {\n\t\t\t\tvar p = pixels[ i ];\n\n\t\t\t\tvar xrel = p.x;\n\t\t\t\tvar yrel = p.y;\n\n\t\t\t\tvar offset = ( yrel * lineLen ) + xrel * cellLen;\n\n\t\t\t\tvar c = this.bmPalette[ p.c ];\n\t\t\t\tpdata[offset+0] = c.r;\n\t\t\t\tpdata[offset+1] = c.g;\n\t\t\t\tpdata[offset+2] = c.b;\n\n\t\t\t}\n\t\t\tctx.putImageData(imd, 0, 0);\n\n\t\t}\n\n\n\t\tupdate( p, list ) {\n\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\n\t\t\tthis.x = p.cx;\n\t\t\tthis.y = p.cy;\n\t\t\tif(\n\t\t\t\tthis.x<0 || this.y<0 ||\n\t\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t\t) {\n\t\t\t\tconsole.log(\"ouch\");\n\n\t\t\t}\n\n\t\t\tthis.colors.bgHTML = this.palette[ p.bg ];\n\t\t\tthis.colors.fgHTML = this.palette[ \tp.fg ];\n\t\t\tthis.colors.bgRGB = this.bmPalette[ p.bg ];\n\t\t\tthis.colors.fgRGB = this.bmPalette[ \tp.fg ];\n\n\t\t\tthis.colors.bg = p.bg;\n\t\t\tthis.colors.fg = p.fg;\n\t\t\tthis.cursorMode = p.cursorMode;\n\n\t\t\tfor( var i=0; i< list.length; i++) {\n\n\t\t\t\tvar el = list[ i ];\n\t\t\t\tthis._int_updateArea( el.cells, el.x1, el.y1, el.x2, el.y2 );\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tupdateAll( p, srccells ) {\n\n\t\t\tthis._int_blinkOff();\n\t\t\tthis.show();\n\n\t\t\tthis.x = p.cx;\n\t\t\tthis.y = p.cy;\n\n\t\t\tif(\n\t\t\t\tthis.x<0 || this.y<0 ||\n\t\t\t\tthis.x>= this.cols || this.y>= this.rows\n\t\t\t) {\n\t\t\t\tconsole.log(\"ouch\");\n\n\t\t\t}\n\t\t\tthis.colors.bgHTML = this.palette[ p.bg ];\n\t\t\tthis.colors.fgHTML = this.palette[ \tp.fg];\n\t\t\tthis.colors.bgRGB = this.bmPalette[ p.bg ];\n\t\t\tthis.colors.fgRGB = this.bmPalette[ \tp.fg ];\n\n\t\t\tthis.colors.bg = p.bg;\n\t\t\tthis.colors.fg = p.fg;\n\t\t\tthis.cursorMode = p.cursorMode;\n\n\t\t\tthis._int_updateArea( srccells, 0,0, this.cols -1, this.rows -1 );\n\n\t\t}\n\n\tclear() {\n\t\tthis._int_blinkOff();\n\t\tthis.show();\n\n\t\tvar b=0;\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tb=1-b;\n\t\t\tfor( var y=0; y<this.rows; y++) {\n\t\t\t\tthis.cells[ y ][ x ].txt = \" \";\n\t\t\t\tthis.cells[ y ][ x ].fg = this.colors.fg;\n\t\t\t\tthis.cells[ y ][ x ].bg = this.colors.bg;\n\n\t\t\t}\n\t\t}\n\n\t\tthis.ctx.fillStyle = this.colors.bgHTML;\n\t\tthis.ctx.fillRect(0, 0, this.cvs.width, this.cvs.height);\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\n\t__int_nl() {\n\t\tthis.x = 0;\n\t\tthis.y ++;\n\t\tif( this.y >= this.rows ) {\n\t\t\tthis.__int_scrollDown();\n\t\t\tthis.y = this.rows -1;\n\t\t}\n\t}\n\n\twriteln( str ) {\n\t\t\t//this._int_blinkOff();\n\t\t\tthis.show();\n\t\t\t\n\t\t\tfor (const c of str) {\n\t\t\t  this.__int_write_direct_ch( c );\n\t\t\t}\n\t\t\tthis.__int_nl();\n\t}\n\n\n\t__int_write_direct_ch( ch ) {\n\n\t\tvar cell = this.cells[ this.y ][ this.x ];\n\n\t\tif( cell == null ) {\n\t\t\tconsole.log( \"cell at \" + this.x + \",\" + this.y +\" == null \");\n\t\t\treturn;\n\t\t}\n\n\t\tcell = ch.txt;\n\n\t\tvar ctx = this.ctx;\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntH;\n\n\t\tvar off = 0;\n\t\tif( this.offsets[ ch.txt ] ) {\n\t\t\toff = this.offsets[ ch.txt ];\n\t\t}\n\n\t\tthis.ctx.fillStyle = this.colors.bgHTML;\n\t\tctx.fillRect(  (fsw * this.x) , fsh * (this.y ), fsw, fsh);\n\n\t\tctx.fillStyle = this.colors.fgHTML;\n\t\tctx.fillText( ch.txt , off + (fsw * this.x) , fsh * (this.y +1));\n\n\t\tthis.x++;\n\t\tif( this.x >= this.cols ) {\n\t\t\tthis.x = 0;\n\t\t\tthis.__int_nl();\n\t\t}\n\t}\n\n\tgetDimensions() {\n\t\t\treturn [this.cols, this.rows ];\n\t}\n\n\thasPixels() {\n\t\treturn true;\n\t}\n\n\tgetBitmapDimensions() {\n\t\treturn [ this.width, this.height ];\n\t}\n\n\t/*plot( x, y, col ) {\n\t\tvar ctx = this.ctx;\n\n\t\tconst pixel = ctx.getImageData( x, y, 1, 1);\n\t\tconst pdata = pixel.data;\n\n\t\tvar c = this.bmPalette[ col ];\n\t\tpdata[0] = c.r;\n\t\tpdata[1] = c.g;\n\t\tpdata[2] = c.b;\n\n\t\tctx.putImageData(pixel, x, y);\n\n\t}*/\n\n\tgetColumCount() {\n\t\treturn this.cols;\n\t}\n\n\tgetRowCount() {\n\t\treturn this.rows;\n\t}\n\n\n\t__int_scrollDown() {\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tfor( var y=0; y<this.rows-1; y++) {\n\t\t\t\tvar cell = this.cells[ y ][ x ];\n\t\t\t\tvar cellyp1 = this.cells[ y+1 ][ x ];\n\n\t\t\t\tcell = cellyp1;\n\n\t\t\t}\n\t\t}\n\n\t\t//fill last row\n\t\tvar y2 = this.rows-1;\n\t\tfor( var x=0; x<this.cols; x++) {\n\t\t\tvar cell = this.cells[ y2 ][ x ];\n\t\t\tcell.txt = \" \";\n\t\t}\n\n\t\tvar fsw = this.fontSizeIntW;\n\t\tvar fsh = this.fontSizeIntW;\n\t\tthis.ctx2.drawImage(this.cvs, 0, 0);\n\t\tvar w = this.cvs2.width;\n\t\tvar h = this.cvs2.height-fsh;\n\n\t\tthis.ctx.fillStyle = this.colors.bg;\n\t\tthis.ctx.fillRect(0, 0, this.cvs.width, this.cvs.height);\n\n\t\tthis.ctx.drawImage(this.cvs2, 0, fsh, w, h-fsh, 0, 0, w, h-fsh );\n\t\t//drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)\n\n\t}\n\n}\n\nexport { KERNALMODULE as default};\n","import  mrBeepChannelClass   from    './mrbeep-channel.js';\nimport  mrBeepClass   from           './mrbeep.js';\n\n\nclass KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\t}\n\n\tdestroy() {\n\t}\n\n\n\tinit() {\n\t\tthis.mrBeep = new mrBeepClass( mrBeepChannelClass );\n\t}\n\n\treset() {\n\t\t\tthis.mrBeep.reset();\n\t}\n\n  setVolume( x ) {\n    this.mrBeep.setVolume( x );\n  }\n\n  channelVolume( channel, x ) {\n    this.mrBeep.channelVolume( channel, x );\n  }\n\n\tchannelFrequency( channel, f ) {\n    this.mrBeep.channelFrequency( channel, f );\n  }\n\n  channelSetAttackDecayRelease( channel, attackT, decayT, releaseT ) {\n    this.mrBeep.channelSetAttackDecayRelease( channel, attackT, decayT, releaseT );\n  }\n\n  channelSetSustainLevel( channel,  sustainV ) {\n    this.mrBeep.channelSetSustainLevel( channel,  sustainV );\n  }\n\n\n  playBeep( channel, frequency, duration ) {\n    this.mrBeep.playBeep( channel, frequency, duration );\n  }\n\n  playSound( channel, frequency, duration ) {\n    this.mrBeep.playSound( channel, frequency, duration );\n  }\n\n\n  startSound( channel, frequency ) {\n    this.mrBeep.startSound( channel, frequency );\n  }\n\n  releaseSound( channel, frequency ) {\n    this.mrBeep.releaseSound( channel, frequency );\n  }\n\n\n\taddEffect( channel,  type , value, time ) {\n\n\t\tthis.mrBeep.addEffect( channel,  type , value, time );\n\n  }\n\n  clearEffect( channel ) {\n\n\t\tthis.mrBeep.clearEffect( channel );\n\n  }\n\n\tplayEffect( channel, freq ) {\n\t\tthis.mrBeep.playEffect( channel, freq );\n\t}\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  /* QFS - Qualified file system */\n  /* Qualified paths can be used to find files on other file system*/\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n\n    this.sys = sys;\n    this.key = sys.SIG + \"__LSConfirmed\" ;\n\n    this.warningOngoing = false;\n\n    console.log(\"simplewarning initialized\");\n\n    sys.notify = this;\n  }\n\n  init() {\n\n  }\n\n  simpleWarning() {\n      if( this.warningOngoing ) {\n        return;\n      }\n\n      this.oldBGColor = document.body.style.backgroundColor;\n      document.body.style.backgroundColor = \"#ffffff\";\n\n      var __this = this;\n      function clearWarning() {\n        document.body.style.backgroundColor = __this.oldBGColor;\n        __this.warningOngoing = false;\n      }\n\n      var myTimeout = setTimeout(clearWarning, 200);\n\n  }\n\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  /* QFS - Qualified file system */\n  /* Qualified paths can be used to find files on other file system*/\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n\n    this.sys = sys;\n    this.disable = sys.bootCfg.warnings.privacyMute;\n    this.key = sys.SIG + \"__LSConfirmed\" ;\n    this.verified = false;\n    this.denied = false;\n\n    console.log(\"PrivWarning initialized\");\n\n  }\n\n  init() {}\n\n  confirmLocalStorage() {\n\n    if( this.denied ) {\n      return false;\n    }\n\n    var confirmed = localStorage.getItem( this.key );\n    if( confirmed == \"true\" ) { return true; }\n\n    if( this.disable ) {\n      return true;\n    }\n\n\n    var ok = confirm(\"!! Do you allow \"+\n      this.sys.SIG +\n      \" to write to local browser storage !!\\n\"+\n      \"This is needed to simulate a local harddisk.\\n\" +\n      \" If you do not agree, you can still use the system,\\n\"+\n      \" but you won't be able to save any files, or session information.\\n\\n\"+\n      \"All information will only be stored on the local storage,\\n\"+\n      \" and will not be shared with any server, unless you will give explicit permission.\\n\\n\"+\n      \"Thank you!\"\n    );\n\n    if( !ok ) { this.denied = true; return false; }\n\n    localStorage.setItem( this.key, \"true\" );\n\n    return true;\n  }\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {}\n\n  init() {}  \n\n  getKey() {\n     return null;\n  }\n\n  setInputHandler( clazz, prefix ) {\n  }\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n    this.evtQueueKeyPress = [];\n    this.handler = null;\n    this.prefix = \"\";\n    this.cfg = sys.bootCfg.keyboard;\n  }\n\n  init() {\n    var target = this.init.inputElement;\n\n    if( target ) {\n        this.target = window;\n    }\n    else {\n      this.target = window;\n    }\n  }\n\n  getKey() {\n\n    if( this.handler ) {\n      return null;\n    }\n    if( this.evtQueueKeyPress.length == 0 ) {\n      return null;\n    }\n\n    return this.evtQueueKeyPress.shift();\n  }\n\n\n  unsetInputHandler() {\n    if( this.elFun ) {\n      this.target.removeEventListener(\"keydown\", this.elFun  );\n      this.elFun = null;\n    }\n  }\n\n  checkIfAllowDefault( e ) {\n    var tmp = 1;\n    var ad = this.cfg.allowDefault;\n    if( ! ad ) {\n      return true;\n    }\n\n    if( ad.all ) { return true }\n\n    var l = ad.events;\n    for( var i=0; i<l.length; i++) {\n      var e2 = l[i];\n      if( e2 == e.key ) {\n        return true;\n      }\n    }\n    return false;\n    //98//77/88(8(88999==007777////iiii(889[]{})))\n  }\n\n  setInputHandler( clazz, prefix ) {\n    this.handler = clazz;\n    this.prefix = prefix;\n\n    if( this.elFun ) {\n      this.target.removeEventListener(\"keydown\", this.elFun  );\n      this.elFun = null;\n    }\n\n    var queuekp = this.evtQueueKeyPress;\n    var con = this.sys.out;\n    var handler = this.handler;\n    var prefix = this.prefix;\n    var _this = this;\n\n    var f = function(event) {\n\n    //console.log( event ) ;\n\n    var kEvent =\n      {\n          type: \"keydown\",\n          key: event.key,\n          keyLabel: event.key,\n          shiftKey: event.shiftKey,\n          ctrlKey: event.ctrlKey\n      };\n\n\n      if( event.key.length > 1) {\n        kEvent.key = null;\n        kEvent.keyLabel = event.key;\n        if( event.key == \"Enter\" ) {\n          kEvent.key = \"\\n\";\n        }\n      }\n\n      if( !_this.checkIfAllowDefault( event )) {\n        event.preventDefault();\n      }\n\n      if( handler ) {\n        handler[ prefix + \"KeyHandler\" ]( kEvent );\n      } else {\n        queuekp.push( kEvent );\n      }\n    };\n\n    this.elFun = f;\n\n    this.target.inputMode = \"text\";\n    this.target.addEventListener(\"keydown\", f);\n  }\n\n}\n\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n    this.node  = document.body;\n    document.body.id = \"top\";\n    this.isAttr = false;\n  }\n\n  init() {\n  }\n\n  executeFunction( paramArray ) {\n    if( paramArray[0] == \"body.style.backgroundImage\") {\n      document.body.style.backgroundImage = \"url('\" +paramArray[1]+ \"')\";\n      document.body.style.backgroundSize = \"cover\";\n    }\n  }\n\n  execute( htmlCodeArr ) {\n    var htmlCode = htmlCodeArr[0];\n    console.log( \"execute\",  htmlCode );\n\n    var handle = htmlCode.htmlHandle;\n    if( handle ) {\n      this.setnode( handle );\n    }\n    else {\n      this.isAttr = false;\n    }\n\n    if( this.node == null ) {\n        console.log(\"invalid html root\");\n        return; //TODO back propagate error\n    }\n\n    if( this.isAttr == false ) {\n      /* element */\n\n      if( htmlCode.htmlAppend) {\n        var s = document.createElement(\"span\");\n        s.innerHTML = htmlCode.htmlValue;\n\n        const list = s.childNodes;\n        var arr = [];\n        for (let i = 0; i < list.length; i++) {\n            arr.push( list[i] );\n        }\n\n        for (let i = 0; i < arr.length; i++) {\n            this.node.appendChild( arr[i]  );\n        }\n\n        s = null;\n\n      }\n      else {\n        if( this.node.id == \"top\" ) {\n          console.log(\"Cannot replace body code. it would crash the console!\")\n          return;\n        }\n\n        this.node.innerHTML = htmlCode.htmlValue;\n      }\n    }\n    else {\n      /* attribute */\n\n      var attr = this.node.attributes.getNamedItem( this.attrName );\n      if( attr == null ) {\n        console.log(\"Attr '\"+this.attrName+\"' not found on html node \"+this.node.id+\"!\")\n        return;\n      }\n      attr = attr.nodeValue;\n\n      if( htmlCode.htmlAppend) {\n        attr = attr + htmlCode.htmlValue;\n      }\n      else {\n        attr = htmlCode.htmlValue;\n      }\n\n      this.node.setAttribute( this.attrName, attr );\n    }\n\n  }\n\n\n  setnode( handle ) {\n\n    console.log( \"setnode\",  handle );\n    this.isAttr = false;\n\n    if( handle == \"..\" ) {\n      this.node  = this.node.parentNode;\n    }\n    else {\n      var parts = handle.split(\".\");\n      var attrName = null;\n      var elName = null;\n\n      if( parts.length > 1) {\n        elName = parts[0];\n        attrName = parts[1];\n      }\n      else {\n        elName = handle;\n      }\n\n      if( elName != \"\" ) {\n        var el = document.getElementById(  elName  );\n        if( el ) {\n          this.node = el;\n        }\n        else {\n          console.log(\"could not find\", handle);\n          return;\n        }\n      }\n\n      if( attrName != \"\" && attrName != null ) {\n        this.isAttr = true;\n        this.attrName = attrName;\n    }\n\n  }\n\n}\n/*\n\n\n-- flavour 1\n\nOPEN \"html://\" FOR OUTPUT AS #1\nPRINT #1, \"<b>hello world </b>\"\nCLOSE #1\n\n-- flavour 2\n\nHTM <b id=\"mylabel\">hello world</b>\nHTMINNER \"mylabel\", \"hello 2\"\nHTMCLEAR \"mybody\"\n\nHTM \"b\", \"mylabel\" TO el\nHTMTEXT \"hello world\"\n\n-- flavour 2b\n\n; stay on same line\n+ stay in element\n\n\nHTM \"b\" TO el\nHTMTEXT el, \"hello world\"\n\n\nHTM \"b\"+\nHTMTEXT \"hello world\"+\nHTM \"br\"\nHTMTEXT \"hello world2 \"\n\n\n\n-- flavour 3\n\nHTAG \"b\";\nHTEXT \"hello world\";\nHCLOSE;\n\n-- flavour 4\n\nb = html(\"b\")\nhtml b, \"hello word\"\nsleep\nhtml b, \"hello my world\"\n\ntable = html(\"table\")\n\n--- flavour 5\n\n  #add tag\n\n  b=htag(\"b\")\n\n  or htag \"b\" to b\n\n  or htag \"b\" : REM implicit output variable hnode\n     b = hnode\n\n  hclr b\n  hprint b, \"hello world1\"\n  hprint b, \"hello world2\"\n\n\n  htag \"div\"\n  hstyle hnode add \"bg-color=red\"\n  hstyle hnode add \"font-size=10px\"\n  hprint div, \"hello world1\"\n\n  htag \"div\" in div\n  hstyle hnode add \"bg-color=blue\"\n  hprint div, \"hello world1\"\n\n  console \"\"\n\n\n  ---\n\n  h \"\" to \"<body>\"\n  h \"<div id=1000>Hello world</div>\"\n  h \"\" to 1000\n  hattr \"1000.style\" set     \"background-color=green\"\n  hattr \"1000.style\" append  \";color=red\"\n\n  hshow \"1000\", 0\n  sleep 1\n  hshow \"1000\", 0\n\n  htext \"1234\";\n\n\n----------------\n\ncontent usecases\nc1a append         >\"\"\nc1b append text\nc1c append text with newline\nc2 clear          CLR\nc3 overwrite      \"\"\nc4 get\n\nattr usecases\na1 set attribute\na2 append attribute\na3 get\n\ntarget usecases\nt1 current target      <nothing>\nt2 explicit target     <target>,\"<html>\"\nt3 jump to new target hpos hjmp, hgoto htmlj command\n\n\n*t1\nimplicit :  html \"<b>implicitly in current parent</b>\"\n\n*t2\nexplicit :\n    html 1000, \"<b>explicitly in specified parent</b>\"\n    or\n    html \"<b>explicitly in specified parent</b>\" to 1000\n\n*t3\nexplicit :  html to 1000\n\n\n\n  usecases\n  1a set body\n  1b clear body\n  2 append element in body\n  3 clear Element\n  4 append element in body\n  5 add text to element\n  6 add text to element on same line\n  7 add text to element on next line\n  8 set attr to element\n  9 append into element attr\n\n\n\n  target-and-append-usecases\n  ta1 append to current target\n  ta2 overwrite current target\n\n\n  uc 1a\n  h \"<center>hello world</center>\" to \"<body>\"\n\n  uc 2\n  h \"<div>Hello world</div>\"\n\n  uc 3\n  h \"<div id=1000>Hello world</div>\"\n  h \"\" to 1000\n\n  uc 4\n  h \"<div id=1000>Hello world</div>\"\n  h \"<b>Hello bold world</b>\" to 1000\n\n  uc 5\n  h \"<div id=1000>Hello world</div>\"\n  htxt \"Hello bold world\"\n\n  uc 6\n  h \"<div id=1000>Hello world</div>\"\n  htxt \"Hello bold world\";\n  htxt \"Hello bold world2\"\n\n  uc 7\n  h \"<div id=1000>Hello world</div>\"\n  htxt \"Hello bold world\"\n  htxt \"Hello bold world2\"\n\n\n\n*/\n\n\n}\n\nexport { KERNALMODULE as default};\n","class KERNALMODULE {\n\n  constructor( sys ) {\n\n    this.apps = [];\n    this.sys  = sys;\n    this.audioInitFlag = false;\n\n  }\n\n  audioInit() {\n\n    if( this.audioInitFlag ) {\n      return;\n    }\n\n    var sys = this.sys;\n    var audio = sys.audio;\n    this.audio = audio;\n\n    audio.channelVolume( 0, 1  );\n    audio.setVolume(1);\n\n    this.audioInitFlag = true;\n  }\n\n  init() {\n    var sys = this.sys;\n    var con = sys.out;\n\n    this.cfg = this.sys.bootCfg;\n    this.settings = {}; //settings set by the user, ex: the theme of the screen editor\n\n    var htmlwrapper = sys.m.htmlwrapper;\n    var display = sys.m.displaymodes;\n\n    this.out = con;\n\n    this.menu = sys.m.basicmenu;\n\n    if( sys.staticTarget ) {\n      this.worker = new Worker( \"basicworker.js\"   );\n    }\n    else {\n      if( sys.dynamicMinTarget ) {\n        this.worker = new Worker( \"sys/modules/basic/worker/workerbootstrap_min.js\"   );\n      }\n      else {\n        this.worker = new Worker( \"sys/modules/basic/worker/workerbootstrap_max.js\"   );\n      }\n    }\n\n    this.sys.m.qfs.loadFile( \"cache://settings.cfg\", { clazz: this, method: \"initMore\" } );\n\n  }\n\n/*\n  loadedApp( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n    this.out.blinkMode( false );\n    this.worker.postMessage({ type: \"loadpgm\", pgmData: response.data, QPath: path });\n\n  }\n  */\n\n  initMore( settingsPath, cbMessage, settingsLoadResponse ) {\n\n    var sys = this.sys;\n    var con = sys.out;\n    var audio = sys.audio;\n    var htmlwrapper = sys.m.htmlwrapper;\n    var display = sys.m.displaymodes;\n    var colors = undefined;\n    if( settingsLoadResponse.success ) {\n      colors = settingsLoadResponse.data.colors;\n    }\n\n    this.worker.postMessage(\n        {\n          type: \"inittxtarea\",\n          w: con.getColumCount(),\n          h: con.getRowCount()\n        }\n    );\n\n    this.worker.postMessage(\n        {\n          type: \"initcolors\",\n          colors: colors\n        }\n    );\n\n    this.worker.postMessage(\n        {\n          type: \"systeminfo\",\n          modes: display.getModes(),\n          mode: display.getCurrentMode(),\n          windowWidth: window.innerWidth,\n  \t\t\t\twindowHeight: window.innerHeight\n        }\n    );\n\n    this.worker.postMessage(\n        {\n          type: \"setcfg\",\n          cfg: this.cfg\n        }\n    );\n\n    var hasPixels = con.hasPixels();\n    var bWH = [-1,-1];\n    if( hasPixels ) {\n       bWH = con.getBitmapDimensions();\n    }\n\n    this.worker.postMessage(\n         {\n           type: \"initbitmap\",\n           w: bWH[ 0 ],\n           h: bWH[ 1 ]\n         }\n    );\n\n    var _parent = this;\n    this.worker.onmessage = function(e) {\n\n        var m = e.data.message;\n        var t = e.data.type;\n\n        if( t == \"syslog\" ) {\n           sys.log(\"BWSYS:\", e.data.message );\n        }\n        else if( t == \"syserr\" ) {\n           sys.logerr(\"BWERR:\", e.data.message );\n        }\n        else if( t == \"write\" ) {\n           for( var i =0; i<m.length; i++) {\n             con.write( m[i] );\n           }\n        }\n        else if( t == \"writeln\" ) {\n          for( var i =0; i<m.length; i++) {\n            con.writeln( m[i] );\n          }\n        }\n        else if( t == \"writec\" ) {\n          con.writec( m );\n\n        }\n        else if( t == \"border\" ) {\n\n          document.body.style.backgroundColor = con.htmlColor( m.d );\n\n        }\n        else if( t == \"gfilter\" ) {\n\n          con.gfilter( m.d );\n\n        }\n        else if( t == \"pfinit\" ) {\n\n          con.pfInit( \n              m.ix,\n              //m.xo, m.yo,\n              //m.cC, m.rC,\n              m.bcwC, m.brhC,\n              m.fgColor,\n              m.bgColor );\n\n          var changeCurrentPlayfield = m.isCurrentIx;\n          \n          //var hasPixels = con.hasPixels();\n          var playfields = con.getPlayFields();\n          \n          var wh = con.getPfBufferDimensions( m.ix );\n          var bWH = [-1,-1];\n\n\n          if( !changeCurrentPlayfield ) {\n            this.postMessage(\n              {\n              type: \"message\",\n              processId: m.processId,\n              message: \"pfinit:other:done\",\n              messageObject:\n                {\n                  pfIx: m.ix,\n                  textW: wh[0], textH: wh[1],\n                  playfields: playfields\n                }\n              }\n              );              \n          }\n          else {\n            var cells = con.getPfCells( m.ix );\n\n            this.postMessage(\n              {\n              type: \"message\",\n              processId: m.processId,\n              message: \"pfinit:current:done\",\n              messageObject:\n                {\n                  pfIx: m.ix,\n                  textW: wh[0], textH: wh[1],\n                  cells: cells,\n                  playfields: playfields\n                }\n              }\n              );              \n          }\n\n\n        }\n        else if( t == \"pfselect\" ) {\n\n          var wh = con.getPfBufferDimensions( m.ix );\n          var cells = con.getPfCells( m.ix );\n          con.setPlayfield( m.ix );\n\n          this.postMessage(\n              {\n              type: \"message\",\n              processId: m.processId,\n              message: \"pfselect:done\",\n              messageObject:\n                {\n                  pfIx: m.ix,\n                  textW: wh[0], textH: wh[1],\n                  cells: cells\n                }\n              }\n              );              \n        }\n        else if( t == \"pfscrollpos\" ) {\n          con.scrollPlayfield( m.ix, m.x, m.y );\n        }\n        else if( t == \"pfenable\" ) {\n          con.enablePlayfield( m.ix, m.flag );\n        }\n        else if( t == \"pfviewsize\" ) {\n          con.setView( m.ix, m.x, m.y, m.w, m.h );\n        }\n\n        else if( t == \"audio\" ) {\n\n          _parent.audioInit();\n\n          //var audio = this.audio;\n          var method = m.method;\n          var parCount = m.parCount;\n          if( parCount == 1 ) {\n            audio[method]( m.p1 );\n          }\n          else if( parCount == 2 ) {\n            audio[method]( m.p1, m.p2 );\n          }\n          else if( parCount == 3 ) {\n            audio[method]( m.p1, m.p2, m.p3 );\n          }\n          else if( parCount == 4 ) {\n            audio[method]( m.p1, m.p2, m.p3, m.p4 );\n          }\n          else if( parCount == 0 ) {\n            audio[method]();\n          }\n\n        }\n        else if( t == \"blinkMode\" ) {\n          con.blinkMode( m.m );\n        }\n        else if( t == \"signalHideMenu\" ) {\n          if( sys.m.basicmenu ) {\n            console.log(\"signalHideMenu hideFlag=\" , m.hide )\n            sys.m.basicmenu.showMenu( !m.hide );\n          }\n        }\n        else if( t == \"locate\" ) {\n          con.setPos( m.c, m.r );\n        }\n        else if( t == \"load\" ) {\n          _parent.loadAppFromProgram( this, m );\n        }\n        else if( t == \"loaddata\" ) {\n          _parent.loadDataFromProgram( this, m );\n        }\n        else if( t == \"save\" ) {\n          _parent.saveProgram( this, m );\n        }\n        else if( t == \"delete\" ) {\n          _parent.deleteFile( this, m );\n        }\n        else if( t == \"dir\" ) {\n          _parent.dir( m.path, m );\n        }\n        else if( t == \"setfs\" ) {\n          _parent.setfs( m.path, m );\n          _parent.menu.setStatus( null );\n        }\n        else if( t == \"listfs\" ) {\n          _parent.listfs( m );\n        }\n        else if( t == \"html\" ) {\n          htmlwrapper.execute( m );\n        }\n        else if( t == \"htmlnode\" ) {\n          htmlwrapper.setnode( m[0].value );\n        }\n        else if( t == \"htmldofun\" ) {\n          htmlwrapper.executeFunction( m );\n        }\n        else if( t == \"displaymode\" ) {\n          display.setMode( m.m, _parent.menu );\n          //display.cursor\n          con = display.getDriver();\n          sys.out =  con;\n\n          var wh = con.getDimensions();\n          var hasPixels = con.hasPixels();\n          var playfields = con.getPlayFields();\n          var bWH = [-1,-1];\n\n          if( hasPixels ) {\n            bWH = con.getBitmapDimensions();\n          }\n          this.postMessage(\n            {\n            type: \"message\",\n            processId: m.processId,\n            message: \"displaymode:done\",\n            messageObject:\n              {\n                mode: m.m,\n                textW: wh[0], textH: wh[1],\n                bitmapW: bWH[0], bitmapH: bWH[1],\n                pfEnabled: playfields != null,\n                playfields: playfields \n              }\n            }\n            );\n\n        }\n        else if( t == \"textupdate\" ) {\n\n          var properties = {\n            cx: m.cx,\n            cy: m.cy,\n            fg: m.fg,\n            bg: m.bg,\n            cursorMode: m.cursorMode\n          };\n          sys.out.update( properties, m.areasList );\n        }\n        else if( t == \"textupdate-all\" ) {\n\n          var properties = {\n            cx: m.cx,\n            cy: m.cy,\n            fg: m.fg,\n            bg: m.bg,\n            cursorMode: m.cursorMode\n          };\n\n          sys.out.updateAll( properties, m.cells );\n        }\n        else if ( t == \"gfxupdate\" ) {\n          sys.out.gfxUpdate( m );\n        }\n        else if ( t == \"export\" ) {\n          if(m.destination == \"disk\") {\n            var callback = {\n              clazz: _parent,\n              method: \"nullHandler\",\n              data: \"\"\n            }\n            sys.m.qfs.saveFile(\"export://myprogram.bas\", m.code, callback);\n          }\n          else {\n            navigator.clipboard.writeText( m.code )\n          }\n        }\n        else if ( t == \"nativeout\" ) {\n          sys.out.native( m );\n        }\n        else if ( t == \"status\" ) {\n          //update menu\n          _parent.menu.setStatus( m.status );\n        }\n        else if ( t == \"synch\" ) {\n          console.log(\"got synch request, send synch back\");\n          _parent.worker.postMessage(\n              {\n                type: \"synchreply\",\n                processId: m.processId\n              }\n            );\n        }   \n      }\n\n      var _this = this;\n      window.addEventListener(\"resize\", function(event) {\n        _this.windowResizeEvent( event );\n\n      });\n\n  }\n\n  windowResizeEvent( event ) {\n    var w = window.innerWidth;\n    var h = window.innerHeight;\n\n    this.worker.postMessage(\n      {\n      type: \"interrupt\",\n      sub: \"resize\",\n      data:\n        {\n          w: w,\n          h: h\n        }\n      }\n      );\n\n  }\n\n  nullHandler( data )  {\n    console.log( \"nullhandler \" + data );\n  }\n\n  loadApp( url0 ) {\n    var sys = this.sys;\n\n    sys.log(\"BSYS:\",\"Load\", url0 );\n    sys.m.qfs.loadFile( url0, { clazz: this, method: \"loadedApp\" } );\n\n  }\n\n  pasteTextFromClipboard( block, type ) {\n\n    if( type == \"txt\" ) {\n\n      var kEvent = {\n        keyLabel: \"\",\n        shiftKey: false,\n        ctrlKey: false,\n        key: \"\",\n        type: \"keydown\"\n\n      }\n\n      for ( var i = 0; i<block.length; i++) {\n        var c = block.charAt( i );\n        kEvent.key = c;\n        if( block.charCodeAt( i ) == 10) {\n          kEvent.keyLabel = \"Enter\";\n        }\n        else {\n          kEvent.keyLabel = \"\";\n        }\n\n        this.worker.postMessage( kEvent );\n      }\n    }\n    else {\n      this.worker.postMessage(\n        {\n        type: \"pastpgm\",\n        data: block\n        }\n        );\n    }\n\n  }\n\n  requestClipboardCopy() {\n\n    this.worker.postMessage({ type: \"clipboardCopy\" });\n\n  }\n\n  requestClipboardCopyScreen() {\n\n    this.worker.postMessage({ type: \"clipboardCopyScreen\" });\n\n  }\n\n  requestColorReset( colors ) {\n    this.worker.postMessage({ type: \"colorReset\", colors: colors });\n\n    var callback = {\n      clazz: this,\n      method: \"nullHandler\",\n      data: \"\"\n    }\n    this.settings.colors = colors;\n    this.sys.fs.saveFile(\"cache://settings.cfg\", this.settings, callback);\n\n  }\n\n  requestExport() {\n    this.worker.postMessage({ type: \"export\" });\n  }\n\n\n  requestFileSystems() {\n    var list =  this.sys.fs.listFS();\n    var list2 = [\"FS\", \"\"];\n\n    for( var i=0; i<list.length; i++) {\n        var f = list[i];\n        list2.push( f );\n    }\n\n    this.requestShowList( list2 );\n  }\n\n  requestListDirectory() {\n    var list =  this.sys.fs.getDir( this.sys.fs.getCurrent() );\n    var list2 = [\"DIR\", \"\"];\n\n    for( var i=0; i<list.files.length; i++) {\n        var f = list.files[i].fname;\n        list2.push( f );\n    }\n\n    this.requestShowList( list2 );\n  }\n\n  requestListScripts() {\n\t\tconsole.log(\"I am handler_listScripts\", this);\n\n\t\tvar list =  this.sys.m.script.getDir();\n\t\tvar list2 = [];\n\n\t\tfor( var i=0; i<list.files.length; i++) {\n\t\t\t\tvar f = list.files[i].fname;\n\t\t\t\tlist2.push( f );\n\t\t}\n\n\t\tthis.requestShowList( list2 );\n\n\t}\n\n\n  requestAbout() {\n\n    this.worker.postMessage({ type: \"resetConsole\" });\n\n\t\tvar list = [];\n\n    list.push( \"\" );\n    list.push( \"---------------------------\" );\n\t  list.push( \"  B3 Basic\" );\n    list.push( \"  Version 0.9\" );\n    list.push( \"  Copyright: \" );\n    list.push( \"    CursorKeys Retro, 2022\" );\n    list.push( \"---------------------------\" );\n    list.push( \"\" );\n\n\n\t\tthis.requestShowList( list );\n\n\t}\n\n\n  requestList() {\n    this.worker.postMessage({ type: \"list\" });\n  }\n\n  requestRenumber() {\n    this.worker.postMessage({ type: \"renumber\" });\n  }\n\n  requestNew() {\n    this.worker.postMessage({ type: \"new\" });\n  }\n\n  requestVars() {\n    this.worker.postMessage({ type: \"vars\" });\n  }\n\n  requestDataBlocks() {\n    this.worker.postMessage({ type: \"datablocks\" });\n  }\n\n  requestHelp() {\n    this.worker.postMessage({ type: \"help\" });\n  }\n\n  requestClearScreen() {\n    this.worker.postMessage({ type: \"clearScreen\" });\n  }\n\n  requestResetConsole() {\n    this.worker.postMessage({ type: \"resetConsole\" });\n  }\n\n  requestShowList( l ) {\n    this.worker.postMessage({ type: \"showList\", list: l });\n  }\n\n\n  requestRun() {\n    this.worker.postMessage({ type: \"run\" });\n  }\n\n  requestStop() {\n    this.worker.postMessage({ type: \"stop\" });\n  }\n\n  deleteFile( worker, m ) {\n    var sys = this.sys;\n    var path = this.devicePath( m.device, m.path );\n\n    try {\n      sys.log(\"BSYS:\",\"delete\", m.path );\n      sys.m.qfs.deleteFile( path,\n        { clazz: this, method: \"deletedFile\", path: m.path, processId: m.processId })\n\n    }\n    catch ( e ) {\n      console.log ( e )\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"delete:error\",\n        messageObject:\n          {\n            reason: e.message\n          }\n        }\n        );\n\n    }\n  }\n\n  deletedFile( cbMessage ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Deleted\", cbMessage.args.qpath );\n\n    var result = \"ok\";\n    var message = \"delete:completed\";\n    var reason = undefined;\n    if( !cbMessage.result ) {\n      result = \"error\";\n      message = \"delete:error\";\n    }\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: cbMessage.origCallBackRecord.processId,\n      message: message,\n      messageObject:\n        {\n          status: result,\n          reason: reason\n        }\n      }\n      );\n\n  }\n\n  saveProgram( worker, m ) {\n      var sys = this.sys;\n      var path = this.devicePath( m.device, m.path );\n\n      try {\n        sys.log(\"BSYS:\",\"Load\", m.path );\n        sys.m.qfs.saveFile( path, m.data,\n          { clazz: this, method: \"savedProgram\", processId: m.processId })\n\n      }\n      catch ( e ) {\n        console.log ( e )\n\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: m.processId,\n          message: \"save:error\",\n          messageObject:\n            {\n              reason: e.message\n            }\n          }\n          );\n\n      }\n  }\n\n  savedProgram( cbMessage ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Saved\", cbMessage.url );\n    //this.out.blinkMode( false );\n\n    //this.worloadAppFromProgramker.postMessage({ type: \"loadpgm\", pgmData: data, QPath: path });\n\n    var result = \"ok\";\n    if( !cbMessage.result ) {\n      result = \"error\";\n    }\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: cbMessage.origCallBackRecord.processId,\n      message: \"save:completed\",\n      messageObject:\n        {\n          status: result\n        }\n      }\n      );\n\n\n  }\n\n\n  loadDataFromProgram( worker, m ) {\n\n    var sys = this.sys;\n\n    try {\n      sys.log(\"BSYS:\",\"Load\", m.path );\n      sys.m.qfs.loadFile( m.path,\n        { clazz: this, method: \"loadedDataFromProgram\",\n        processId: m.processId,\n        label: m.label ,\n        type: m.type\n      } );\n    }\n    catch ( e ) {\n      console.log ( e )\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"loaddata:error\",\n        messageObject:\n          {\n            error: e.message\n          }\n        }\n        );\n\n    }\n  }\n\n  devicePath( dev, path ) {\n\n    var sys = this.sys;\n\n    if( dev > -1 ) {\n      var fs = sys.m.qfs.getFS( dev );\n      if(!fs) {\n        throw \"No such device\";\n      }\n\n      var parts = path.split(\"://\");\n      if( parts.length >1 ) {\n        throw \"Double device indicators\";\n      }\n      return fs.prefix + path;\n    }\n    return path;\n  }\n\n  loadAppFromProgram( worker, m ) {\n\n    var sys = this.sys;\n    var path = this.devicePath( m.device, m.path );\n    try {\n      sys.log(\"BSYS:\",\"Load\", m.path );\n\n      sys.m.qfs.loadFile( path, { clazz: this, method: \"loadedAppFromProgram\", processId: m.processId } );\n    }\n    catch ( e ) {\n      console.log ( e )\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"load:error\",\n        messageObject:\n          {\n            reason: e.message\n          }\n        }\n        );\n\n    }\n\n  }\n\n  loadedApp( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n    this.out.blinkMode( false );\n    this.worker.postMessage({ type: \"loadpgm\", pgmData: response.data, QPath: path });\n\n  }\n\n\n  loadedDataFromProgram( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n\n    if( response.success ) {\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: cbMessage.processId,\n        message: \"loaddata:completed\",\n        messageObject:\n          {\n            data: response.data,\n            label: cbMessage.label,\n            type: cbMessage.type\n          }\n        }\n        );\n      }\n      else {\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: cbMessage.processId,\n          message: \"loaddata:error\",\n          messageObject:\n            {\n              pgmData: null,\n              reason: response.reason\n            }\n          }\n          );\n      }\n\n  }\n\n\n  loadedAppFromProgram( path, cbMessage, response ) {\n\n    var sys = this.sys;\n    sys.log(\"BSYS:\",\"Loaded\", cbMessage.url );\n    //this.out.blinkMode( false );\n\n    //this.worloadAppFromProgramker.postMessage({ type: \"loadpgm\", pgmData: data, QPath: path });\n\n    if( response.success ) {\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: cbMessage.processId,\n        message: \"load:completed\",\n        messageObject:\n          {\n            pgmData: response.data\n          }\n        }\n        );\n      }\n      else {\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: cbMessage.processId,\n          message: \"load:error\",\n          messageObject:\n            {\n              pgmData: null,\n              reason: response.reason\n            }\n          }\n          );\n      }\n\n  }\n\n\n  listfs( m ) {\n\n    var list = this.sys.fs.listFS();\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: m.processId,\n      message: \"listfs:completed\",\n      messageObject:\n        {\n          fs: list,\n          currentFs: this.sys.fs.getCurrent()\n        }\n      }\n      );\n  }\n\n  setfs( path, m ) {\n\n    var result = this.sys.fs.setFS( path );\n    if( result ) { result = \"ok\"; }\n    else {  result = \"error\" ; }\n\n    this.worker.postMessage(\n      {\n      type: \"message\",\n      processId: m.processId,\n      message: \"setfs:completed\",\n      messageObject:\n        {\n          status: result\n        }\n      }\n      );\n  }\n\n  dir( path0, m ) {\n\n    try {\n      var path = this.devicePath( m.device, path0 );\n      var list = this.sys.fs.getDir( path );\n\n\n      this.worker.postMessage(\n        {\n        type: \"message\",\n        processId: m.processId,\n        message: \"dir:completed\",\n        messageObject:\n          {\n            files: list.files,\n            title: list.title,\n            free: list.free,\n            fs: list.fs\n          }\n        }\n        );\n      }\n      catch ( e ) {\n        console.log ( e )\n\n        this.worker.postMessage(\n          {\n          type: \"message\",\n          processId: m.processId,\n          message: \"dir:error\",\n          messageObject:\n            {\n              reason: e.message\n            }\n          }\n          );\n\n      }\n  }\n\n  setInput( input ) {\n\n    this.sys.log(\"BSYS: Setting input on BAPPS..\" );\n    this.input = input;\n    this.input.setInputHandler( this, \"input\" );\n\n  }\n\n  inputKeyHandler( kEvent ) {\n\n\n\n    if( this.sys.m.basicmenu ) {\n      /*close menu on any keppress*/\n      this.sys.m.basicmenu.clearMenu();\n\n      if( kEvent.key == \"v\" && kEvent.ctrlKey) {\n        console.log( kEvent );\n        this.sys.m.basicmenu.doAction(\"paste\", \"txt\" );\n        return;\n      }\n    }\n\n    if( kEvent.keyLabel == \"Backspace\" && kEvent.ctrlKey ) {\n      this.worker.postMessage({ type: \"toggleMenu\" });\n\n    }\n    else {\n      this.worker.postMessage( kEvent );\n    }\n  }\n\n}\n\nexport { KERNALMODULE as default};\n","import  menuData   from        './menudata.js';\nimport  menuHandlers   from        './handlers.js';\n\nclass KERNALMODULE {\n\n\tconstructor( sys ) {\n\t\tthis.sys = sys;\n\n\t\tthis.defaultPasteText = \"Press CTRL-V here\";\n\n\t\tthis.options = new menuData().getOptions();\n\t\tthis.handlers = new menuHandlers( this );\n    this.menus = {};\n\t\tthis.statusWidgets = {};\n\t\tthis.status = {\n\t\t\tpgmLen: 0,\n\t\t\tstatus: \"stopped\",\n\t\t\tvarLen: 0,\n\t\t\tdisplayMode: 0\n\t\t}\n\n\t\tthis.mnuBttnOptContainers = [];\n\t\tthis.mnuBttnOptContainersTgl = [];\n\t\tthis.mnuBttns = [];\n\t\tthis.mnuBttnContainers = [];\n\t\tthis.mnuLinks = [];\n\n\t\tthis.color = \"#ffffff\";\n\t\tthis.bgColor = \"#000000\";\n\t\tthis.font = \"16px arial,serif\";\n\n\t\tthis.statusTopMargin = \"4px\";\n\t\tthis.statusColor = \"#eeffff\";\n\t\tthis.statusBgColor = \"#000000\";\n\t\tthis.statusFont = \"700 14px arial,serif\";\n\n\t\tthis.cnt = 0;\n\t}\n\n\tdestroy() {\n\n\t\tvar f = this.getOnClickMenuButtonFunc();\n\t\tvar tmp = 1;\n\n\t\tfor( var i=0; i<this.mnuBttns.length ; i++ ) {\n\t\t\tvar b = this.mnuBttns[i];\n\t\t\tb.dataset.i = i;\n\n\t\t\tvar optLst = this.mnuBttnOptContainers[i];\n\n\t\t\tvar f = this.getOnClickMenuButtonFunc();\n\t\t\tb.removeEventListener( \"click\", f );\n\n\t\t\tvar ll = this.mnuLinks[i];\n\n\t\t\tfor( var k=0; k<ll.length ; k++ ) {\n\t\t\t\tvar lnk = ll[ k ];\n\t\t\t\tlnk.dataset.i = i;\n\t\t\t\tlnk.removeEventListener( \"click\", this.getClickLinkFunc() );\n\t\t\t\tlnk.removeEventListener( \"mouseover\", this.getOnOverLinkFunc() );\n\t\t\t}\n\t\t}\n\t\tthis.element = null;\n\t}\n\n\n\tinit() {\n\t\tthis.handlers.setBasic();\n\t\tthis.basic = this.sys.m.basic;\n\t}\n\n\tshowMenu( flag ) {\n\t\tif( flag ) {\n\t\t\tthis.element.style.display = \"flex\";\n\t\t}\n\t\telse {\n\t\t\tthis.element.style.display = \"none\";\n\t\t}\n\t}\n\n\tbutton( parent, id, text, menuOptions ) {\n\n\t\tvar div0 = document.createElement(\"div\");\n\t\tvar buttn0 = document.createElement(\"button\");\n\t\tvar div1 = document.createElement(\"div\");\n\n\t\tdiv0.appendChild( buttn0 );\n\t\tdiv0.appendChild( div1 );\n\n\t\tdiv0.id = \"menu_buttnparent_\" + id;\n\t\t//div0.style.float = \"left\";\n\t\tbuttn0.innerHTML = text;\n\t\tbuttn0.id = \"menu_buttn_\" + id;\n\t\tbuttn0.style.backgroundColor = this.bgColor;\n\t\tbuttn0.style.color = this.color;\n\t\tbuttn0.style.font = this.font;\n\t\tbuttn0.style.marginLeft = \"2px\";\n\t\tbuttn0.style.marginRight = \"0px\";\n\t\tbuttn0.style.borderTop = \"0px #ccc solid\";\n\t\tbuttn0.style.borderBottom = \"0px #ccc solid\";\n\t\tbuttn0.style.borderLeft = \"0px #777 solid\";\n\t\tbuttn0.style.borderRight = \"0px #777 solid\";\n\n\t\tdiv1.id = \"menu_opts_buttn_\" + id;\n\n\t\tdiv1.style.display = \"none\";\n\t\tdiv1.style.marginLeft = \"2px\";\n\t\tdiv1.style.position = \"absolute\";\n\t\tdiv1.style.minWidth = \"260px\";\n\t\tdiv1.style.zIndex = \"1\";\n\t\tdiv1.style.backgroundColor = this.bgColor;\n\t\tdiv1.style.color = this.color;\n\t\tdiv1.style.borderTop = \"1px #ccc solid\";\n\t\tdiv1.style.borderBottom = \"1px #ccc solid\";\n\t\tdiv1.style.borderLeft = \"1px #777 solid\";\n\t\tdiv1.style.borderRight = \"1px #777 solid\";\n\n\t\tthis.mnuBttns.push( buttn0 );\n\t\tthis.mnuBttnContainers.push( div0 );\n\t\tthis.mnuBttnOptContainers.push( div1 );\n\t\tthis.mnuBttnOptContainersTgl.push( { active: false } );\n\t\tvar lnks = [];\n\n\t\tif(  menuOptions ) {\n\t\t\tfor( var i=0; i<menuOptions.length; i++) {\n\t\t\t\tvar o = menuOptions[ i ];\n\n\t\t\t\tvar lnk = document.createElement(\"a\");\n\t\t\t\tlnk.innerHTML = o.display;\n\t\t\t\tlnk.style.padding = \"12px 16px\";\n\t\t\t\tlnk.style.display = \"block\";\n\t\t\t\tlnk.style.font = this.font;\n\t\t\t\tlnk.dataset.action = o.opt;\n\t\t\t\tif( o.data ) {\n\t\t\t\t\tlnk.dataset.data = JSON.stringify( o.data );\n\t\t\t\t}\n\t\t\t\tlnks.push( lnk );\n\t\t\t\tdiv1.appendChild( lnk );\n\t\t\t}\n\t\t}\n\n\t\tthis.mnuLinks.push( lnks );\n\n\t\tdiv0.style.display = \"inline-block\";\n\t\tdiv0.style.position = \"relative\";\n\t\t//div0.style.marginTop = \"12px\";\n\n\t\tparent.appendChild( div0 );\n\n\t}\n\n\tdoAction( id, data ) {\n\t\tthis.showMenu( true );\n\t\tthis.handlers.doExposedAction( id, data );\n\t}\n\n\tstatusItem( parent, text ) {\n\n\n\t\tvar div0 = document.createElement(\"div\");\n\t\tdiv0.innerText = text;\n\t\tif( text == \"\" ) {\n\t\t\tdiv0.style.width = \"10px\";\n\t\t}\n\t\telse if( text == \" \" ) {\n\t\t\tdiv0.style.width = \"50px\";\n\t\t}\n\n\t\tdiv0.style.marginTop= this.statusTopMargin;\n\t\tdiv0.style.color = this.statusColor;\n\t\tdiv0.style.backgroundColor = this.statusBgColor;\n\t\tdiv0.style.font = this.statusFont;\n\t\tparent.appendChild( div0 );\n\n\t\tthis.statusWidgets.list.push( div0 );\n\t\treturn div0;\n\n\t}\n\n\tstatusItems( parent ) {\n\n\n\t\tthis.statusWidgets.list = [];\n\n\t\tthis.statusItem( parent, \" \");\n\t\tthis.statusWidgets.displayMode = this.statusItem( parent, \"MODE: \" + this.status.displayMode );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.fs = this.statusItem( parent, \"FS: \" + this.sys.fs.getCurrent()  );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.pgmLen = this.statusItem( parent, \"LINES: \" + this.status.pgmLen );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.varLen = this.statusItem( parent, \"VARCOUNT: \" + this.status.varLen );\n\t\tthis.statusItem( parent, \"\");\n\t\tthis.statusWidgets.interpreterStatus = this.statusItem( parent, \"STATUS: \" + this.status.status );\n\n\t}\n\n\n\tsetStatus( status ) {\n\n\t\tthis.statusWidgets.fs.innerText = \"FS: \" + this.sys.fs.getCurrent() ;\n\n\t\tif( status ) {\n\t\t\tthis.status = status;\n\t\t\tthis.statusWidgets.interpreterStatus.innerText = \"STATUS: \" + this.status.status;\n\t\t\tthis.statusWidgets.pgmLen.innerText = \"LINES: \" + this.status.pgmLen;\n\t\t\tthis.statusWidgets.varLen.innerText = \"VARCOUNT: \" + this.status.varLen;\n\t\t\tthis.statusWidgets.displayMode.innerText = \"MODE: \" + this.status.displayMode;\n\n\n\n\t\t}\n\n\t}\n\n\n\tbuttons( parent ) {\n\n\t\tvar mainOptions = this.options[\"main\"]\n\t\tfor( var i=0; i<mainOptions.length ; i++ ) {\n\t\t\tvar o = mainOptions[i];\n\n\t\t\tthis.button( parent, i, o.display, this.options[ o.opt ]  );\n\t\t}\n\t}\n\n\n\tonDeselect() {\n\t\tif( this.element.style.display != \"none\" ) {\n\t\t\tthis.clearMenu();\n\t\t}\n\t}\n\n\tstyleButtons( buttonTable ) {\n\t\tbuttonTable.style.backgroundColor = \"black\";\n\t\tbuttonTable.style.color = \"white\";\n\t\tbuttonTable.style.width = \"100%\";\n\n\t}\n\n\tcreate() {\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.style.marginLeft = \"auto\";\n\t\tthis.element.style.marginRight = \"auto\";\n\t\tthis.element.style.display = \"none\";\n\t\tthis.element.style.backgroundColor = this.statusBgColor;\n\t\tthis.element.style.paddingBottom = \"5px\";\n\t\tthis.element.style.paddingTop = \"5px\";\n\n\t\tthis.buttons( this.element );\n\n\t\tthis.statusItems( this.element );\n\n\t\tvar paste = document.createElement(\"div\");\n\t\tthis.pastebox = paste;\n\t\tpaste.style.display = \"none\";\n\t\tpaste.style.width = \"100%\";\n\n\t\tvar ta = document.createElement(\"textarea\");\n\t\tthis.pasteArea = ta;\n\t\tta.style.width = \"100%\";\n\t\tta.style.height = \"200px\";\n\t\tthis.element.appendChild( paste );\n\t\tpaste.appendChild( ta );\n\n\t\t//this.styleButtons( this.element.childNodes[0]\t);\n\n\t}\n\n\tget() {\n\t\treturn this.element;\n\t}\n\n\n\tgetClickLinkFunc() {\n\n\t\tvar __this = this;\n\n\t\treturn function(){\n\n\t\t\tconsole.log( this.dataset.action );\n\n\n\t\t\tfor( var j=0; j<__this.mnuBttnOptContainers.length ; j++ ) {\n\t\t\t\tvar optLst2 = __this.mnuBttnOptContainers[j];\n\t\t\t\tvar optLstTgl = __this.mnuBttnOptContainersTgl[j];\n\n\t\t\t\tconsole.log(\"dsp[\"+j+\"]\" , optLst2 );\n\t\t\t\toptLst2.style.display = \"none\";\n\t\t\t\toptLstTgl.active = false;\n\n\t\t\t}\n\n\t\t\tvar funData = undefined;\n\t\t\tif( (typeof this.dataset.data).toLowerCase() == \"string\" ) {\n\t\t\t\tfunData = JSON.parse( this.dataset.data );\n\t\t\t}\n\t\t\tif( this.dataset.action.startsWith(\"@\")  ) {\n\t\t\t\t__this.basic[ this.dataset.action.substr(1) ]( funData );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t__this.handlers[ \"handler_\" + this.dataset.action ]( funData );\n\t\t\t}\n\t\t}\n\t}\n\n\tgetOnOverLinkFunc() {\n\n\t\tvar __this = this;\n\n\t\treturn function(){\n\n\t\t\tvar ll = __this.mnuLinks[ this.dataset.i ];\n\n\t\t\tfor( var k2=0; k2<ll.length ; k2++ ) {\n\t\t\t\tvar lnk2 = ll[ k2 ];\n\n\t\t\t\tlnk2.style.color = __this.color;\n\t\t\t\tlnk2.style.backgroundColor = __this.bgColor;\n\n\t\t\t}\n\n\n\t\t\tthis.style.color = __this.bgColor;\n\t\t\tthis.style.backgroundColor = __this.color;\n\t\t}\n\t}\n\n\tgetOnClickMenuButtonFunc() {\n\n\t\tvar __this = this;\n\n\t\treturn function(){\n\n\t\t\tvar thisIx = this.dataset.i;\n\t\t\tvar active =  __this.mnuBttnOptContainersTgl[ thisIx ].active;\n\n\t\t\t//Disable all other menus\n\t\t\tfor( var j=0; j<__this.mnuBttnOptContainers.length ; j++ ) {\n\t\t\t\tvar optLst2 = __this.mnuBttnOptContainers[j];\n\t\t\t\tvar optLstTgl = __this.mnuBttnOptContainersTgl[j];\n\n\t\t\t\tconsole.log(\"dsp[\"+j+\"]\" , optLst2 );\n\t\t\t\toptLst2.style.display = \"none\";\n\t\t\t\toptLstTgl.active = false;\n\n\t\t\t}\n\n\t\t\tfor( var j=0; j<__this.mnuBttnOptContainers.length ; j++ ) {\n\t\t\t\tvar optLst2 = __this.mnuBttnOptContainers[j];\n\t\t\t\tconsole.log(\"dsp[\"+j+\"]\" , optLst2.style.display );\n\n\t\t\t}\n\n\n\t\t\tvar ll = __this.mnuLinks[ thisIx ];\n\t\t\tfor( var k=0; k<ll.length ; k++ ) {\n\t\t\t\tvar lnk2 = ll[ k ];\n\n\t\t\t\tlnk2.style.color = __this.color;\n\t\t\t\tlnk2.style.backgroundColor = __this.bgColor;\n\n\t\t\t}\n\n\t\t\tvar optLst = __this.mnuBttnOptContainers[ thisIx ];\n\n\t\t\tconsole.log(active);\n\t\t\tif( active ) {\n\t\t\t\t__this.mnuBttnOptContainersTgl[ thisIx ].active = false;\n\t\t\t\toptLst.style.display = \"none\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t__this.mnuBttnOptContainersTgl[ thisIx ].active = true;\n\t\t\t\toptLst.style.display = \"block\";\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tenable() {\n\t\tvar tmp = 1;\n\n\t\tfor( var i=0; i<this.mnuBttns.length ; i++ ) {\n\t\t\tvar b = this.mnuBttns[i];\n\t\t\tb.dataset.i = i;\n\n\t\t\tvar optLst = this.mnuBttnOptContainers[i];\n\n\t\t\tvar f = this.getOnClickMenuButtonFunc();\n\t\t\tb.addEventListener( \"click\", f );\n\n\t\t\tvar ll = this.mnuLinks[i];\n\n\t\t\tfor( var k=0; k<ll.length ; k++ ) {\n\t\t\t\tvar lnk = ll[ k ];\n\t\t\t\tlnk.dataset.i = i;\n\t\t\t\tlnk.addEventListener( \"click\", this.getClickLinkFunc() );\n\t\t\t\tlnk.addEventListener( \"mouseover\", this.getOnOverLinkFunc() );\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\tsetDimensions( w,h ) {\n\t\t\tthis.element.style.width = w + \"px\";\n\t\t\tthis.element.style.textAlign = \"left\";\n\t}\n\n\tclearMenu() {\n\t\tfor( var j=0; j<this.mnuBttnOptContainers.length ; j++ ) {\n\n\t\t\tvar optLstTgl = this.mnuBttnOptContainersTgl[j];\n\n\t\t\tif( optLstTgl.active ) {\n\n\t\t\t\tvar optLst2 = this.mnuBttnOptContainers[j];\n\t\t\t\t//console.log(\"dsp[\"+j+\"]\" , optLst2 );\n\t\t\t\toptLst2.style.display = \"none\";\n\t\t\t\toptLstTgl.active = false;\n\t\t\t}\n\t\t}\n\t}\n\n\thideMenu() {\n\n\t\tfor( var j=0; j<this.mnuBttnContainers.length ; j++ ) {\n\t\t\tvar buttonCtr = this.mnuBttnContainers[j];\n\t\t\tbuttonCtr.style.display = \"none\";\n\t\t}\n\n\t\tvar statusWidgets = this.statusWidgets.list;\n\t\tfor( var j=0; j<statusWidgets.length ; j++ ) {\n\t\t\tvar wid = statusWidgets[j];\n\t\t\twid.style.display = \"none\";\n\t\t}\n\n\n\n\t}\n\n\tunhideMenu() {\n\n\t\tfor( var j=0; j<this.mnuBttnContainers.length ; j++ ) {\n\t\t\tvar buttonCtr = this.mnuBttnContainers[j];\n\t\t\tbuttonCtr.style.display = \"block\";\n\t\t}\n\n\t\tvar statusWidgets = this.statusWidgets.list;\n\t\tfor( var j=0; j<statusWidgets.length ; j++ ) {\n\t\t\tvar wid = statusWidgets[j];\n\t\t\twid.style.display = \"block\";\n\t\t}\n\n\t}\n\n\n}\n\nexport { KERNALMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.initialized = false;\n    this.sys = sys;\n    this.prefix = sys.SIG + sys.SUBSYS  + \"__\" ;\n\n    this.deviceId = 6;\n  }\n\n  init() {\n    this.initialize();\n  }\n\n  initialize() {\n    this.currentDisk = \"SYS\";\n    this.initialized=true;\n    this.privacy = this.sys.m.priv;\n\n  }\n\n  ready() {\n    return this.initialized;\n  }\n\n  getEmptyDirStructure(name) {\n    return {files:[], title: \"temporary session\" };\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n\n    if( !this.initialized ) {\n      return getEmptyDirStructure(null);\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n    var json = sessionStorage.getItem( storageName );\n\n    if(!json) {\n      return {files:[], title: \"temporary session\" };\n    }\n\n    var dir = JSON.parse( json );\n    if(!dir) {\n      return {files:[], title: \"temporary session\" };\n    }\n\n    var title = dir.title;\n\n    dir.title = title;\n    dir.free = 32-dir.files.length;\n\n    var foundNullIx = -1;\n\n    while( true ) {\n      for( var i=0; i<dir.files.length; i++) {\n        if( dir.files[i] == null) {\n          foundNullIx = i;\n          break;\n        }\n      }\n      if( foundNullIx > -1) {\n        dir.files.splice( foundNullIx, 1 );\n        foundNullIx = -1;\n      }\n      else {\n        break;\n      }\n    }\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<dir.files.length; i++) {\n        if( defaultMatcherFunction (  path, dir.files[i].fname ) ) {\n          files2.push( dir.files[ i ] );\n        }\n      }\n\n      dir.files = files2;\n      dir.free = 32-dir.files.length;\n    }\n\n    return dir;\n\n  }\n\n\n  setDir( dir ) {\n\n\n    if( this.privacy.confirmLocalStorage() == false ) { return ; }\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n\n    sessionStorage.setItem(storageName, JSON.stringify( dir ) );\n\n  }\n\n  existsFile( fileName ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    var dir = this.getDir( \"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      return true;\n    }\n    return false;\n  }\n\n\n  removeFromDir( fileName ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir(\"\", null);\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files.splice( i, 1 );\n    }\n    this.setDir(dir);\n  }\n\n  updateDir( fileName, programLen, type ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir( \"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files[i].size = programLen;\n      dir.files[i].type = type;\n    }\n    else {\n      dir.files.push( {fname: fileName, size: programLen, type: type } );\n    }\n    this.setDir(dir);\n  }\n\n\n  saveFile( fileName0, data, type, length ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    if( this.privacy.confirmLocalStorage() == false ) { return false; }\n\n    var fileName = fileName0;\n    if( fileName0.length > 32) {\n        fileName = fileName0.substr(0,32);\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    var container = JSON.stringify( { type: type, data: data} );\n    sessionStorage.setItem(storageName, container );\n\n    this.updateDir( fileName, length, type );\n\n    return true;\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  loadFile( fileName, cbRec ) {\n\n    if( !this.initialized ) {\n      throw makeError(\"Filesystem not initialized\");\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    var json = sessionStorage.getItem( storageName );\n\n    if(!json) {\n      throw makeError(\"File not found\");\n    }\n\n    var data;\n    try {\n      data = JSON.parse( json ).data;\n    }\n    catch( e ) {\n      throw makeError(\"File corrupt\", e);\n      return;\n    }\n\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, data );\n\n  }\n\n  deleteFile( fileName ) {\n    if( ! this.existsFile( fileName ) ) {\n      return \"no such file\";\n    }\n\n    try {\n      this.removeFromDir( fileName );\n      this._removeFile( fileName );\n    }\n    catch ( e ) {\n      return \"unexpected\";\n    }\n    return \"ok\";\n  }\n\n  _removeFile( fileName ) {\n\n    var storageName =  this.prefix + \"\" +\n      this.currentDisk + \"_\" +\n      fileName;\n\n    sessionStorage.removeItem( storageName );\n\n  }\n\n  formatDisk() {\n\n    var dir = this.getDir( \"\", null );\n\n    for( var i=0; i<dir.files.length; i++) {\n\n        var fileName = dir.files[i].fname;\n        this._removeFile( fileName );\n\n    }\n\n    dir.files = [];\n    dir.title = \"Empty\"\n    this.setDir( );\n\n  }\n\n\n  getFullDisk() {\n\n    if( !this.initialized ) {\n\n      var dir = this.getDir( \"\", null);\n\n      var disk = {\n        dir: dir,\n        content: []\n      };\n\n      var diskStr = JSON.stringify( disk );\n\n      return diskStr;\n    }\n\n    var dir = this.getDir(\"\", null);\n    var content = [];\n\n    for( var i=0; i<dir.files.length; i++) {\n        var fileName = dir.files[i].fname;\n        var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n        var json = sessionStorage.getItem( storageName );\n        content.push( { fname: fileName ,content: json} );\n    }\n\n    var disk = {\n      dir: dir,\n      content: content\n    };\n\n    var diskStr = JSON.stringify( disk );\n\n    console.log( diskStr );\n\n    return diskStr;\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.initialized = false;\n    this.sys = sys;\n    this.prefix = sys.SIG + \"_\" + sys.SUBSYS + \"__\" ;\n    this.deviceId = 5;\n\n    console.log( \"FILESYSMODULE lfs: \" + this.prefix );\n\n  }\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n  init() {\n    this.initialize();\n  }\n\n  initialize() {\n\n    this.privacy = this.sys.m.priv;\n\n    this.disks = [];\n    this.currentDisk = null;\n    var defaultDisk = \"0001\"\n\n    var json = localStorage.getItem( this.prefix + \"disks_list\" );\n    if( json == null ) {\n\n      var diskId = \"0001\";\n      var diskName = \"Default\";\n      this.disks = [ diskId ];\n      this.currentDisk = diskId;\n      this.lastDisk = 1;\n      this.disksNotInitialized = true;\n\n      if( this.privacy.confirmLocalStorage() == true ) {\n        localStorage.setItem( this.prefix + \"disks_list\", JSON.stringify( this.disks ) );\n        localStorage.setItem( this.prefix + \"0001_dir\", JSON.stringify( {files:[], title: diskName, readOnly: false } ) );\n        localStorage.setItem( this.prefix + \"disk_current\", diskId );\n\n        this.formatDisk();\n      }\n    }\n    else {\n      this.disks = JSON.parse( json );\n      this.currentDisk = localStorage.getItem( this.prefix + \"disk_current\" );\n\n      var last = -1;\n      for( var i=0; i<this.disks.length; i++) {\n        if( parseInt( this.disks[i] ) > last ) {\n          last = parseInt( this.disks[ i ] );\n        }\n      }\n      this.lastDisk = last;\n    }\n\n\n    this.initialized=true;\n\n  }\n\n\n  selectDisk( diskId ) {\n    this.currentDisk = diskId;\n\n    if( this.privacy.confirmLocalStorage() == true ) {\n      localStorage.setItem( this.prefix + \"disk_current\", diskId );\n    }\n  }\n\n  ready() {\n    return this.initialized;\n  }\n\n\n  getDisks() {\n\n    if( !this.initialized ) {\n      return [];\n    }\n\n    var storageName =  this.prefix + \"disks_list\";\n    var json = localStorage.getItem( storageName );\n    var disks = JSON.parse( json );\n\n    return disks;\n\n  }\n\n  getEmptyDirStructure(name) {\n    return {files:[], title: \"null\" };\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n\n    if( !this.initialized ) {\n      return this.getEmptyDirStructure(null);\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n    var json = localStorage.getItem( storageName );\n    var dir = JSON.parse( json );\n\n    //var title = \"0 \\u0012\\\"\"+dir.title+\"          \\\"\\u0092 00 2A\";\n    var title = dir.title;\n\n    if(!json) {\n      return {files:[], title: title };\n    }\n    dir.title = title;\n    dir.free = 32-dir.files.length;\n\n    var foundNullIx = -1;\n\n    while( true ) {\n      for( var i=0; i<dir.files.length; i++) {\n        if( dir.files[i] == null) {\n          foundNullIx = i;\n          break;\n        }\n      }\n      if( foundNullIx > -1) {\n        dir.files.splice( foundNullIx, 1 );\n        foundNullIx = -1;\n      }\n      else {\n        break;\n      }\n    }\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<dir.files.length; i++) {\n        if( defaultMatcherFunction (  path, dir.files[i].fname ) ) {\n          files2.push( dir.files[ i ] );\n        }\n      }\n\n      dir.files = files2;\n      dir.free = 32-dir.files.length;\n    }\n\n\n\n    return dir;\n\n  }\n\n\n\n  setDir( dir ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_dir\";\n\n    if( this.privacy.confirmLocalStorage() == true ) {\n      localStorage.setItem(storageName, JSON.stringify( dir ) );\n    }\n\n  }\n\n  existsFile( fileName ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    var dir = this.getDir(\"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      return true;\n    }\n    return false;\n  }\n\n\n  removeFromDir( fileName ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir(\"\", null);\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files.splice( i, 1 );\n    }\n    this.setDir(dir);\n  }\n\n  updateDir( fileName, programLen, type ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var dir = this.getDir( \"\", null );\n\n    var found = -1;\n    for( var i=0; i<dir.files.length; i++) {\n      if( dir.files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      dir.files[i].size = programLen;\n      dir.files[i].type = type;\n    }\n    else {\n      dir.files.push( {fname: fileName, size: programLen, type: type } );\n    }\n    this.setDir(dir);\n  }\n\n\n  saveFile( fileName0, data, type, length ) {\n\n    if( !this.initialized ) {\n      return;\n    }\n\n    var fileName = fileName0;\n    if( fileName0.length > 32) {\n        fileName = fileName0.substr(0,32);\n    }\n\n    if( fileName.startsWith(\"$/\") ) {\n      fileName = fileName.substr( 2 );\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    //save pgm\n    var container = JSON.stringify( { type: type, data: data} );\n    if( this.privacy.confirmLocalStorage() == true ) {\n      localStorage.setItem(storageName, container );\n      this.updateDir( fileName, length, type );\n\n      return true;\n    }\n\n    return false;\n  }\n\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  loadFile( fileName0, cbRec ) {\n\n    var makeError = this.makeError;\n\n    if( !this.initialized ) {\n      throw makeError(\"Filesystem not initialized\");\n    }\n\n    var fileName = fileName0;\n\n    if( fileName == \"*\" )  {\n        var dir = this.getDir(\"\",null);\n        if( dir.files ) {\n          if( dir.files.length > 0) {\n            if( dir.files[0]) {\n              fileName = dir.files[0].fname;\n            }\n          }\n        }\n    }\n\n    var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n\n    var json = localStorage.getItem( storageName );\n    if(!json) {\n      throw makeError(\"File not found\");\n    }\n\n    var data;\n    try {\n      data = JSON.parse( json ).data;\n    }\n    catch( e ) {\n      throw makeError(\"File corrupt\", e);\n      return;\n    }\n\n    cbRec.clazz[ cbRec.method ]( fileName0, cbRec, this.makeDataContainer( data ) );\n\n  }\n\n  deleteFile( fileName ) {\n    if( ! this.existsFile( fileName ) ) {\n      throw \"no such file\";\n    }\n\n    try {\n      this.removeFromDir( fileName );\n      this._removeFile( fileName );\n    }\n    catch ( e ) {\n      throw \"unexpected (\"+e.message+\")\";\n    }\n    return true;\n  }\n\n  _removeFile( fileName ) {\n\n    var storageName =  this.prefix + \"\" +\n      this.currentDisk + \"_\" +\n      fileName;\n\n    localStorage.removeItem( storageName );\n\n  }\n\n  formatDisk() {\n\n    var dir = this.getDir(\"\", null);\n\n    for( var i=0; i<dir.files.length; i++) {\n\n        var fileName = dir.files[i].fname;\n        this._removeFile( fileName );\n\n    }\n\n    dir.files = [];\n    dir.title = \"Empty\"\n    this.setDir( );\n\n  }\n\n  createDiskFromImage( name, image ) {\n\n    this.createDiskFromImage2( name, image, false );\n\n  }\n\n  createSysDiskFromImage( image ) {\n\n    this.createDiskFromImage2( \"SYS\", image, true );\n\n  }\n\n  createDiskFromImage2( name, image, sysDisk ) {\n\n    if( this.privacy.confirmLocalStorage() == false ) { return ; }\n\n    var labl;\n    if( !sysDisk ) {\n      this.lastDisk++;\n      labl = \"\" + this.lastDisk;\n    }\n    else {\n      labl = \"\" + 1;\n    }\n\n    labl = labl.padStart( 4,\"0\");\n    var dir = image.dir;\n    var content = image.outtent;\n\n    var storageName =  this.prefix + \"\" + labl + \"_dir\";\n\n\n    localStorage.setItem(storageName, JSON.stringify( dir ) );\n\n\n    for( var i=0; i<content.length; i++) {\n        var fileName = content[i].fname;\n        var storageName =  this.prefix + \"\" + labl + \"_\" + fileName;\n        localStorage.setItem( storageName, content[i].outtent );\n    }\n\n    this.disks.push( labl );\n    localStorage.setItem( this.prefix + \"disks_list\", JSON.stringify( this.disks ) );\n\n  }\n\n  createDisk() {\n\n    if( this.privacy.confirmLocalStorage() == false ) { return ; }\n    var existingDisks = this.getDisks();\n    this.lastDisk ++;\n    var labl = \"\" + this.lastDisk;\n    labl = labl.padStart( 4,\"0\");\n\n    var newDir = this.getEmptyDirStructure(\"NEW DISK\");\n\n    var storageName =  this.prefix + \"\" + labl + \"_dir\";\n    localStorage.setItem(storageName, JSON.stringify( newDir ) );\n\n    this.disks.push( labl );\n    localStorage.setItem( this.prefix + \"disks_list\", JSON.stringify( this.disks ) );\n\n  }\n\n  getFullDisk() {\n\n    if( !this.initialized ) {\n\n      var dir = this.getDir( \"\", null);\n\n      var disk = {\n        dir: dir,\n        content: []\n      };\n\n      var diskStr = JSON.stringify( disk );\n\n      return diskStr;\n    }\n\n    var dir = this.getDir(\"\", null);\n    var content = [];\n\n    for( var i=0; i<dir.files.length; i++) {\n        var fileName = dir.files[i].fname;\n        var storageName =  this.prefix + \"\" + this.currentDisk + \"_\" + fileName;\n        var json = localStorage.getItem( storageName );\n        content.push( { fname: fileName ,content: json} );\n    }\n\n    var disk = {\n      dir: dir,\n      content: content\n    };\n\n    var diskStr = JSON.stringify( disk );\n\n    console.log( diskStr );\n\n    return diskStr;\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n\n    this.files = [];\n    this.data  = {};\n\n    this.deviceId = 7;\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n\n    var files = this.files;\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<this.files.length; i++) {\n        if( defaultMatcherFunction (  path, this.files[i].fname ) ) {\n          files2.push( this.files[ i ] );\n        }\n      }\n\n      files = files2;\n    }\n\n    return {\n      title: \"Ram Disk\",\n      files: files,\n      free: 0\n    }\n  }\n\n  exists( fileName ) {\n\n    var dir = this.getDir(\"\",null);\n    var files = dir.files;\n\n    var found = -1;\n    for( var i=0; i<files.length; i++) {\n      if( files[i].fname == fileName ) {\n        found  = i;\n        break;\n      }\n    }\n\n    if( found > -1 ) {\n      return true;\n    }\n    return false;\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    if( fileName.indexOf(\"/\") >-1 ) {\n      throw {\n        message: \"saveFile: '\"+fileName+\"' - invalid path, RAMFS device only supports flatdir\"\n      }\n    }\n    if( ! this.exists( fileName ) ) {\n      var fEntry = {\n        fname: fileName,\n        type: type,\n        size: size\n      }\n\n      this.data[ fileName ] = { type: type, data: data};\n      this.files.push( fEntry );\n    }\n\n  }\n\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n\n  loadFile( fileName, cbRec ) {\n\n    if( ! this.exists( fileName ) ) {\n      throw makeError(\"File not found\");\n    }\n\n    var response =\n      this.makeDataContainer(\n        this.data[ fileName ].data\n      );\n\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, response );\n\n    //return this.data[ fileName ];\n\n  }\n\n  deleteFile( fileName ) {\n\n    if( ! this.exists( fileName ) ) {\n      return false;\n    }\n\n    try {\n      var files = this.files;\n      var files2 = [];\n\n      for( var i=0; i<files.length; i++) {\n        if( files[i].fname != fileName ) {\n          files2.push( files[i] );\n        }\n      }\n\n      this.data[ fileName ] = undefined;\n      this.files = files2;\n    }\n    catch ( e ) {\n      throw {\n        message: \"deleteFile: '\" + fileName + \"' - \" + e.message\n      }\n    }\n    return true;\n  }\n\n  formatDisk() {\n\n    this.files = [];\n    this.data  = {};\n\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n\n    this.files = [];\n    this.data  = {};\n    this.deviceId = 1;\n\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  exists( fileName ) {\n\n    var el = document.getElementById( fileName );\n\n    if( el ) {\n      return true;\n    }\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    throw { message: \"saveFile '\"+fileName+\"' - SCRIPTURL is readonly\" }\n\n  }\n\n  makeDataContainer( data ) {\n    return {\n      success: true,\n      data: data\n    }\n  }\n\n  loadTextFromURL( url, cb ){\n      // read text from URL location\n      var request = new XMLHttpRequest();\n      var _this = this;\n\n      request.onreadystatechange = function () {\n          if (request.readyState === 4 && request.status === 200) {\n\n              _this.loadedFile( url, cb, _this.makeDataContainer( request.responseText ) );\n          }\n      }\n      request.overrideMimeType(\"text/plain\");\n      request.open('GET', url, true);\n      request.send(null);\n  }\n\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  loadFile( fileName, cbRec ) {\n\n    if( ! this.exists( fileName ) ) {\n      throw makeError(\"File not found\");\n    }\n\n    var el = document.getElementById( fileName );\n\n    if( el.innerText.trim() == \"\" ) {\n\n      var found = false;\n      if( el.src ) {\n        if( el.src != \"\" ) {\n          found = true;\n        }\n      }\n      if(! found ) {\n          return { type: \"bas\", data: \"10 print \\\"?program not found error\\\"\" };\n      }\n\n      this.loadTextFromURL( el.src, cbRec );\n\n\n    }\n    else {\n\n      var lines = el.innerText.split(\"\\n\");\n      var data = \"\";\n      for( var i=0; i<lines.length; i++) {\n        if( data != \"\") { data += \"\\n\"; }\n        data+= lines[ i ].trim();\n      }\n\n      cbRec.clazz[ cbRec.method ]( fileName, cbRec, this.makeDataContainer( data ) );\n\n      /*\n\n        loadFile( path, cb )\n        loadedFile( path, cb, data )\n      */\n\n    }\n\n  }\n\n  loadedFile( fileName, cbRec, data) {\n    cbRec.clazz[ cbRec.method ]( fileName, cbRec, data );\n  }\n\n  getDir( path, defaultMatcherFunction ) {\n    var scriptsDom = document.getElementsByTagName(\"script\");\n    var scripts = [];\n\n    for( var i=0; i<scriptsDom.length; i++) {\n      var item = scriptsDom.item(i);\n      //if(item.type == \"text/basic\" ) {\n        console.log( item.attributes.id );\n        var id = item.attributes.id.nodeValue;\n\n        scripts.push(  { fname: id } );\n    }\n\n    if( path != \"*\" && path != \"\" ) {\n\n      var files2 = [];\n\n      for( var i=0; i<scripts.length; i++) {\n        if( defaultMatcherFunction (  path, scripts[i].fname ) ) {\n          files2.push( scripts[ i ] );\n        }\n      }\n\n      scripts = files2;\n    }\n\n    return {files:  scripts, title: \"page scripts\", free: 0 };\n\n  }\n\n  deleteFile( fileName ) {\n\n    throw { message: \"SCRIPTURL is readonly\" }\n\n  }\n\n  formatDisk() {\n\n    throw { message: \"formatDisk '\"+fileName+\"' - SCRIPTURL is readonly\" }\n\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","import  HTTPLib   from        './httplib.js';\n\nclass FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n\n    this.lib = new HTTPLib( sys );\n    this.deviceId = 2;\n  }\n\n  init() {}\n\n  ready() {\n    return true;\n  }\n\n  exists( fileName ) {\n\n    return this.lib.exists( fileName );\n\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    this.lib.saveFile( fileName, data, type, size );\n\n  }\n\n\n  loadFile( fileName, cbRec ) {\n\n    this.lib.loadFile( fileName, cbRec );\n\n  }\n\n  getDir() {\n    return this.lib.getDir();\n  }\n\n  deleteFile( fileName ) {\n    this.lib.deleteFile( fileName );\n  }\n\n  formatDisk() {\n\n    this.lib.formatDisk();\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  constructor( sys ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    this.sys = sys;\n    this.domCtr = this.sys.domContainer;\n\n    this.deviceId = 10;\n  }\n\n  init() {\n\n\n\t\tthis.link = document.createElement(\"a\");\n    this.link.style.display = \"none\";\n    this.domCtr.appendChild( this.link );\n\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      message: details,\n      fsErrorSignature: true,\n    }\n  }\n\n  ready() {\n    return true;\n  }\n\n  getDir() {\n    throw this.makeError( \"getDir\", \"Not Supported\");\n\n  }\n\n  exists( fileName ) {\n    return false;\n  }\n\n  saveFile( fileName, data, type, size ) {\n\n    if( fileName.indexOf(\"/\") >-1 ) {\n      throw {\n        message: \"saveFile: '\"+fileName+\"' - invalid path, TRANSFERFS device only supports flatdir\"\n      }\n    }\n\n    const blob = new Blob([data]);\n    const url = URL.createObjectURL(blob);\n\n    this.link.download = fileName;\n    this.link.href = url;\n    this.link.click();\n\n\n  }\n\n  loadFile( fileName ) {\n    return null;\n  }\n\n  deleteFile( fileName ) {\n    return false;\n  }\n\n  formatDisk() {\n  }\n\n}\n\nexport { FILESYSMODULE as default};\n","class FILESYSMODULE {\n\n  /* QFS - Qualified file system */\n  /* Qualified paths can be used to find files on other file system*/\n  constructor( sys, dependencies ) {\n    if(!sys) {\n      throw \"sys expected\";\n    }\n    if(!dependencies) {\n      throw \"dependencies expected\";\n    }\n\n    this.dependencies = dependencies;\n    this.initialized = false;\n    this.sys = sys;\n    this.defaultFS = sys.bootCfg.fs.default;\n    this.currentFS = this.defaultFS;\n\n    this.validCharacters =\n      \"abcdefghijklmnopqrstuvwxyz\" +\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\" +\n      \"0123456789+-._\";\n\n  }\n\n  init() {\n    this.initialize();\n  }\n\n  initialize() {\n\n    this.fsList = [];\n    var dependencies = this.dependencies;\n\n    for( var i=0; i< dependencies.length; i++) {\n        var fsToken = dependencies[i];\n        var fs = {\n          token: fsToken,\n          fs: this.sys.m[ fsToken ],\n          prefix: fsToken + \"://\",\n          device: this.sys.m[ fsToken ].deviceId\n        }\n        this.fsList.push( fs );\n    }\n\n     this.initialized = true;\n  }\n\n  matcher( matchString, fileName ) {\n    if( matchString.endsWith( \"*\" ) ) {\n      var newMatchString = matchString.substr( 0, matchString.length - 1 );\n      if( fileName.startsWith( newMatchString )) {\n        return true;\n      }\n    }\n    else if( matchString.startsWith( \"*\" ) ) {\n      var newMatchString = matchString.substr( 1 );\n      if( fileName.endsWith( newMatchString )) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getCurrent() {\n    return this.currentFS;\n  }\n\n  getFSByDevId(deviceId) {\n\n      var fsList = this.fsList;\n\n      for( var i=0; i< fsList.length; i++) {\n          var fs = fsList[i];\n          if( fs.device == deviceId ) {\n            return fs;\n          }\n      }\n      return null;\n  }\n\n  checkFS( qpath0 ) {\n\n    if( (typeof qpath0 ).toLowerCase() == \"number\" ) {\n        return this.getFSByDevId(qpath0);\n    }\n\n    var qpath = qpath0;\n    var fsList = this.fsList;\n\n    if( qpath.split(\"://\").length == 1 ) { //no prefix\n      qpath = qpath0 + \"://\";\n    }\n\n    for( var i=0; i< fsList.length; i++) {\n        var fs = fsList[i];\n        if( qpath.startsWith( fs.prefix ) ) {\n          return fs;\n        }\n    }\n    return null;\n  }\n\n  setFS( path ) {\n\n    var fs;\n\n    fs = this.checkFS(path);\n\n    if( ! fs ) {\n      return false;\n    }\n    this.currentFS = fs.token;\n    return true;\n  }\n\n  listFS() {\n    var list = [];\n    var fsList = this.fsList;\n\n    for( var i=0; i< fsList.length; i++) {\n        var fs = fsList[ i ];\n        list.push( {\n          name: fs.prefix,\n          device: fs.device\n\n        } ) ;\n    }\n\n    list.sort((a, b) => (a.device > b.device) ? 1 : -1)\n\n    return list;\n  }\n\n  ready() {\n    return this.initialized;\n  }\n\n  getFS( qpath ) {\n\n    if( (typeof qpath ).toLowerCase() == \"number\" ) {\n        return this.getFSByDevId(qpath);\n    }\n\n    var fsList = this.fsList;\n\n    if( qpath.split(\"://\").length == 1 ) { //no prefix\n      for( var i=0; i< fsList.length; i++) {\n          var fs = fsList[i];\n          if( (this.currentFS + \"://\") == fs.prefix ) {\n            return fs;\n          }\n      }\n    }\n\n    for( var i=0; i< fsList.length; i++) {\n        var fs = fsList[i];\n        if( qpath.startsWith( fs.prefix ) ) {\n          return fs;\n        }\n    }\n\n    //this.currentFS\n\n    return null;\n  }\n\n  getLPath( qpath ) {\n    if( (typeof qpath ).toLowerCase() == \"number\" ) {\n      return \"\";\n    }\n    var parts = qpath.split(\"://\");\n    if( parts.length <2 ) { return qpath; }\n    return parts[ 1 ];\n  }\n\n  getDir( qpath ) {\n\n    if( !this.initialized ) {\n      return {\n        files: [],\n        title: \"null\",\n        free: -1,\n        fs: \"?\"\n      };\n    }\n\n    var fsRecord = this.getFS( qpath );\n\n    if( !fsRecord ) {\n      return {\n        files: [],\n        title: \"null\",\n        free: -1,\n        fs: \"?\"\n      };\n    }\n    var result = fsRecord.fs.getDir( this.getLPath( qpath), this.matcher );\n    result.fs = fsRecord.prefix;\n    return result;\n  }\n\n  existsFile( qpath ) {\n\n    if( !this.initialized ) {\n      return false;\n    }\n\n    return false;\n  }\n\n  checkFileName( f ) {\n    for( var i=0; i<f.length; i++ ) {\n      var c = f.charAt(i);\n      if( this.validCharacters.indexOf( c ) < 0 ) {\n        return false;\n      }\n    }\n    return true;\n\n  }\n\n  doCallBack( callback, callBackResponse ) {\n\n    if( callback.clazz )  {\n\n        if( callback.data ) {\n          callBackResponse.cbData = callback.data;\n        }\n        callback.clazz[ callback.method ]( callBackResponse );\n\n    }\n    else {\n        callback( callBackResponse );\n    }\n\n\n  }\n\n  saveFile(\n      /*mandatory*/ qpath0, data, callRecord,\n      /*optional*/ type, length ) {\n\n    if( !this.initialized ) {\n      return null;\n    }\n\n    var qpath = qpath0.toLowerCase();\n\n    var fsRecord = this.getFS( qpath );\n    if( !fsRecord ) {\n      throw { message: qpath + \" has unknown file system\" };\n    }\n\n    var lpath = this.getLPath( qpath );\n    if( !lpath ) {\n      throw { message: \"QPath '\" + qpath + \"' has no local path\" };\n    }\n\n    if( !this.checkFileName( lpath ) ) {\n      throw { message: \"path '\" + lpath + \"' has invalid characters\" };\n    }\n\n    var result = fsRecord.fs.saveFile( lpath, data, type, length );\n\n    var args = {};\n    args.qpath = qpath;\n    args.type = type;\n    args.length = length;\n\n\n    var callBackResponse = { result: result, args: args, origCallBackRecord: callRecord };\n\n    this.doCallBack( callRecord, callBackResponse );\n\n    return null;\n\n  }\n\n  makeError( reason, details ) {\n    return {\n      success: false,\n      reason: reason,\n      details: details,\n      fsErrorSignature: true,\n    }\n  }\n\n\n  loadFile( qpath0 , callRecord  ) {\n\n    var qpath = qpath0.toLowerCase();\n\n    var cbRec = callRecord;\n    var makeError = this.makeError;\n\n    if( !this.initialized ) {\n\n      cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError(\"Not Initialized\") );\n\n      return;\n    }\n\n    var fsRecord = this.getFS( qpath );\n\n    if( !fsRecord ) {\n\n      cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError(qpath + \" has unknown file system\") );\n\n      return;\n    }\n\n    var lpath = this.getLPath( qpath );\n    if( !lpath ) {\n\n      cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError( \"QPath '\" + qpath + \"' has no local path\" ) );\n\n      return;\n    }\n\n    if( !this.checkFileName( lpath ) ) {\n      throw { message: \"path '\" + lpath + \"' has invalid characters\" };\n    }\n    //original calling callrecord looks like this\n    //var callRecord = { clazz: this, method: \"loadedApp\" }\n\n    var wrappedCallBackRecord = {\n        origCallBackRecord: callRecord,\n        qpath: qpath,\n        clazz: this,\n        method: \"loadedFile\"\n    };\n\n    try {\n      fsRecord.fs.loadFile( lpath, wrappedCallBackRecord );\n    }\n    catch( e ){\n      if( e.fsErrorSignature ) {\n        cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError( e.reason ) );\n        return;\n      }\n      else {\n        cbRec.clazz[ cbRec.method ]( qpath, cbRec , makeError( \"Internal error\", e ) );\n        return;\n      }\n    }\n\n  }\n\n  loadedFile( path, cbWrapRec, response ) {\n    var cbRec = cbWrapRec.origCallBackRecord;\n    cbRec.clazz[ cbRec.method ]( cbWrapRec.qpath, cbRec , response );\n  }\n\n\n  /*\n\n    loadFile( path, cb )\n    loadedFile( path, cb, data )\n  */\n\n  deleteFile( qpath0, callRecord ) {\n\n    if( !this.initialized ) {\n      return null;\n    }\n\n    var qpath = qpath0.toLowerCase();\n\n    var fsRecord = this.getFS( qpath );\n    if( !fsRecord ) {\n      throw { message: qpath + \" has unknown file system\" };\n    }\n\n    var lpath = this.getLPath( qpath );\n    if( !lpath ) {\n      throw { message: \"QPath '\" + qpath + \"' has no local path\" };\n    }\n\n    if( !this.checkFileName( lpath ) ) {\n      throw { message: \"path '\" + lpath + \"' has invalid characters\" };\n    }\n\n    //TODO asynch delete\n    var result = fsRecord.fs.deleteFile( lpath );\n\n    var args = {};\n    args.qpath = qpath;\n\n    var callBackResponse = { result: result, args: args, origCallBackRecord: callRecord };\n\n    this.doCallBack( callRecord, callBackResponse );\n\n    return null;\n  }\n\n  formatDisk( qpath ) {\n\n    if( ! this.existsFile( fileName ) ) {\n      return \"no such file\";\n    }\n\n    return \"error\";\n\n  }\n}\n\nexport { FILESYSMODULE as default};\n"],"names":["SYMBOLSIMAGE","getBlobURL","TILES","constructor","img","gridw","gridh","transCol","this","iconGrid","w","width","h","height","iconCanvas","document","createElement","iconContext","getContext","drawImage","xiconcount","xiconrowcount","yicon","xicon","offset","sx","sy","sd","getImageData","data","xoffset","yoffset","rowoffset","grid","y","row","x","pix","r","g","b","push","getCharData","i","MrBeepChannel","audioCtx","waveform","masterVolume","volumeFunc","initialized","initializedFully","effects","FLR","FS","VLR","VS","enable","_init","disable","maxGain","gain","value","createGain","connect","volumeValue","filter","occilator","createOscillator","frequency","type","setValueAtTime","currentTime","start","setVolume","volume","playBeep","duration","durInSeconds","durInSeconds0","durInSeconds1","durInSeconds2","now","cancelScheduledValues","linearRampToValueAtTime","clearEffect","addEffect","time","length","playEffect","freq","e","setAttackDecayRelease","attackT","decayT","releaseT","setSustainLevel","sustainV","playSound","sustainT","durInSeconds3","setFrequency","f","startSound","releaseSound","MrBeep","window","AudioContext","webkitAudioContext","channels","defaults","masterGain","destination","channelCount","_int_v2g","_int_log10","Math","log","LN10","v","console","reset","channelVolume","channel","channelFrequency","channelSetAttackDecayRelease","channelSetSustainLevel","LIB","sys","files","prefix","init","ready","exists","fileName","makeError","saveFile","size","reason","details","success","message","fsErrorSignature","makeDataContainer","loadTextFromURL","url","cb","request","XMLHttpRequest","_this","onreadystatechange","readyState","status","loadedFile","responseText","overrideMimeType","open","send","loadFile","cbRec","response","clazz","method","getDir","deleteFile","formatDisk","DATA","options","opts","opt","display","navigator","clipboard","readText","fg","bg","border","getOptions","HANDLERS","menuSys","setBasic","basic","m","doExposedAction","id","handler_pasteFromClip","handler_pasteBox","pastebox","style","pasteArea","defaultPasteText","oldInnerText","innerText","input","unsetInputHandler","clearMenu","hideMenu","color","backgroundColor","bgColor","focus","select","out","hideInner","__this","pasteHandler","setTimeout","pasteHandler2","showInner","unhideMenu","setInput","removeEventListener","pasteTextFromClipboard","addEventListener","alert","then","clipText","bootCfg","fs","default","mode","warnings","privacyMute","subSys","keyboard","allowDefault","all","events","adEvents","boot","cfg","staticFlag","staticTarget","headerElement","domContainer","body","appendChild","SIG","SUBSYS","VERSION","CODENAME","nulcon","rootScript","getElementById","displayMode","parseInt","dataset","isNaN","bootMode","dynamicMinTarget","indexOf","bootDebug","getSys","initSimpleLogging","buf","getAll","writeln","txt","s","rawlog","array","line","j","sep","rawlogcon","args","Array","prototype","slice","call","arguments","logwarn","logerr","addModule","toList","checkL","dep","deps","mods","ci","displaymodes","drivers","tablecon","canvas","modes","textmode1","textmode2","textmode3","menuCreated","getDriver","currentDriver","getMode","getModes","getCurrentMode","currentMode","setMode","menu","Number","dc","getDeviceConfig","cm","endMode","create","device","initMode","config","notifyOnClick","basicmenu","destroy","undefined","tmp","split","driver","splice","cursorOn","cols","rows","hidden","blinking","reverse","outColors","fontSizeInt","fontSizeCSS","fontFamily","htmlPalette","txtBgColor","txtColor","htmlColor","ix","getPlayFields","outDiv0","remove","cvs","cvs2","ctx","ctx2","rowel","cellel","blinkInterval","clearInterval","getColumCount","getRowCount","getDimensions","headerElementManager","msgs","queuedMessages","inputElement","colsPercentage","outDiv1","outEl","event","sel","selection","createRange","toString","getSelection","rangeCount","getRangeAt","cloneContents","childNodes","text","rix","cix","firstChild","getTextOfSelection","clipboardData","setData","preventDefault","table","borderCollapse","borderSpacing","resize","fontSize","tableLayout","readOnly","textAlign","tr","padding","maxHeight","rowArray","td","textOverflow","whiteSpace","overflow","maxWidth","innerHTML","position","zIndex","verticalAlign","marginLeft","marginRight","get","setDimensions","clientWidth","dirty","dirtyFlags","setInterval","_int_blink","native","operation","action","blinkMode","hasPixels","_int_updateArea","srccells","x0","y0","x1","y1","cell","src","textContent","update","p","list","_int_blinkOff","show","cx","cy","el","cells","x2","y2","updateAll","hide","getElement","clear","__int_nl","__int_scrollDown","str","c","substr","__int_write_direct_ch","ch","cellyp1","cursorMode","bmFontEnable","colors","palette","pad2","hs","rv","pl","htmlCol","newcolor","floor","bmPalette","defaultTextMode","image","Image","onload","evt","_postLoadFontImage","fimage","GLYPHSADDR","NaN","characterbank0","characterbank1","characterbank2","characterbank3","bankDefaultBaseAddr","bankBaseAddr","bfont","cvsCursor","ctxCursor","cache","fontSizeIntW","fontSizeIntH","oc","bgHTML","fgHTML","bgRGB","fgRGB","ww","innerWidth","wh","innerHeight","startsWith","percentages","percentagex","percentagey","percentage","fsw","fsh","center","alpha","strokeStyle","cX","cY","updCtxImageData","synched","offsets","font","textBaseline","fsid2","tmp0","measureText","oIndicatorChar","oIndicatorSize","oIndicatorOffset","handler","myFunction","gfilter","_int_storeset_color","oldfg","oldbg","_int_restore_color","index","index2","paintCursor","yy","offX","_int_paintchar","_int_Refresh","obg","ofg","col1","col2","_int_drawIndicator","fillStyle","fillRect","setCharacterBank","addr","characterbank","cacheel","charAddr","relCode","code","charCodeAt","bitmapchar","tmp3","tmpw","imgdata","yofflen","bgc","fgc","xx","putImageData","off","fillText","op_gcolor","params","op_fcolor","op_line","beginPath","moveTo","lineTo","stroke","op_fillRect","xoverflow","yoverflow","gfxUpdate","record","lineLen","pixels","upd","imd","pdata","xrel","getBitmapDimensions","mrbeepaudio","mrBeep","simplewarning","key","warningOngoing","notify","simpleWarning","oldBGColor","priv","verified","denied","confirmLocalStorage","localStorage","getItem","confirm","setItem","mutedinput","getKey","setInputHandler","domelinput","evtQueueKeyPress","target","shift","elFun","checkIfAllowDefault","ad","l","queuekp","kEvent","keyLabel","shiftKey","ctrlKey","inputMode","htmlwrapper","node","isAttr","executeFunction","paramArray","backgroundImage","backgroundSize","execute","htmlCodeArr","htmlCode","handle","htmlHandle","setnode","htmlAppend","htmlValue","arr","attr","attributes","getNamedItem","attrName","nodeValue","setAttribute","parentNode","parts","elName","apps","audioInitFlag","audioInit","audio","con","settings","worker","Worker","qfs","initMore","settingsPath","cbMessage","settingsLoadResponse","postMessage","windowWidth","windowHeight","bWH","_parent","onmessage","t","write","writec","d","pfInit","bcwC","brhC","fgColor","changeCurrentPlayfield","isCurrentIx","playfields","getPfBufferDimensions","getPfCells","processId","messageObject","pfIx","textW","textH","setPlayfield","scrollPlayfield","enablePlayfield","flag","setView","parCount","p1","p2","p3","p4","showMenu","setPos","loadAppFromProgram","loadDataFromProgram","saveProgram","dir","path","setfs","setStatus","listfs","bitmapW","bitmapH","pfEnabled","properties","areasList","callback","writeText","windowResizeEvent","sub","nullHandler","loadApp","url0","block","charAt","requestClipboardCopy","requestClipboardCopyScreen","requestColorReset","requestExport","requestFileSystems","listFS","list2","requestShowList","requestListDirectory","getCurrent","fname","requestListScripts","script","requestAbout","requestList","requestRenumber","requestNew","requestVars","requestDataBlocks","requestHelp","requestClearScreen","requestResetConsole","requestRun","requestStop","devicePath","deletedFile","qpath","result","origCallBackRecord","savedProgram","label","error","dev","getFS","loadedApp","pgmData","QPath","loadedDataFromProgram","loadedAppFromProgram","currentFs","setFS","path0","title","free","inputKeyHandler","doAction","handlers","menus","statusWidgets","pgmLen","varLen","mnuBttnOptContainers","mnuBttnOptContainersTgl","mnuBttns","mnuBttnContainers","mnuLinks","statusTopMargin","statusColor","statusBgColor","statusFont","cnt","getOnClickMenuButtonFunc","ll","k","lnk","getClickLinkFunc","getOnOverLinkFunc","element","button","parent","menuOptions","div0","buttn0","div1","borderTop","borderBottom","borderLeft","borderRight","minWidth","active","lnks","o","JSON","stringify","statusItem","marginTop","statusItems","interpreterStatus","buttons","mainOptions","onDeselect","styleButtons","buttonTable","paddingBottom","paddingTop","paste","ta","optLst2","optLstTgl","funData","toLowerCase","parse","k2","lnk2","thisIx","optLst","sfs","deviceId","initialize","currentDisk","privacy","getEmptyDirStructure","name","defaultMatcherFunction","storageName","json","sessionStorage","foundNullIx","files2","setDir","existsFile","found","removeFromDir","updateDir","programLen","fileName0","container","_removeFile","removeItem","getFullDisk","disk","content","diskStr","disks","diskId","lastDisk","disksNotInitialized","last","selectDisk","getDisks","createDiskFromImage","createDiskFromImage2","createSysDiskFromImage","sysDisk","labl","padStart","outtent","createDisk","newDir","ramfs","fEntry","trim","lines","scriptsDom","getElementsByTagName","scripts","item","site","lib","export","domCtr","link","blob","Blob","URL","createObjectURL","download","href","click","dependencies","defaultFS","currentFS","validCharacters","fsList","fsToken","token","matcher","matchString","endsWith","newMatchString","getFSByDevId","checkFS","qpath0","sort","a","getLPath","fsRecord","checkFileName","doCallBack","callBackResponse","cbData","callRecord","lpath","wrappedCallBackRecord","cbWrapRec","mods0","Object","getOwnPropertyNames","conStyle","onReady"],"sourceRoot":""}